"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1993],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},E=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(n),E=r,g=u["".concat(p,".").concat(E)]||u[E]||m[E]||o;return n?a.createElement(g,i(i({ref:t},s),{},{components:n})):a.createElement(g,i({ref:t},s))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=E;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}E.displayName="MDXCreateElement"},29969:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const o={authors:"junkui",title:"\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898",categories:["js","work"],tags:["work","H5\u5b9a\u4f4d"],date:new Date("2021-01-14T15:40:22.000Z")},i="\u9700\u6c42\uff1a\u83b7\u53d6\u7528\u6237\u5f53\u524d\u7684\u5730\u7406\u8be6\u7ec6\u4fe1\u606f",l={permalink:"/blog/\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898",source:"@site/blog/\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898.md",title:"\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898",description:"1.\u4f7f\u7528 H5 \u7684 api\u3002",date:"2021-01-14T15:40:22.000Z",formattedDate:"2021\u5e741\u670814\u65e5",tags:[{label:"work",permalink:"/blog/tags/work"},{label:"H5\u5b9a\u4f4d",permalink:"/blog/tags/h-5-\u5b9a\u4f4d"}],readingTime:3.475,hasTruncateMarker:!1,authors:[{name:"\u4ed8\u4fca\u594e",title:"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005",url:"https://github.com/fu1996",imageURL:"https://avatars.githubusercontent.com/u/42232973",key:"junkui"}],frontMatter:{authors:"junkui",title:"\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898",categories:["js","work"],tags:["work","H5\u5b9a\u4f4d"],date:"2021-01-14T15:40:22.000Z"},prevItem:{title:"Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0",permalink:"/blog/Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0"}},p={authorsImageUrls:[void 0]},c=[{value:"1.\u4f7f\u7528 H5 \u7684 api\u3002",id:"1\u4f7f\u7528-h5-\u7684-api",level:2},{value:"\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e0b\uff1a",id:"\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e0b",level:3},{value:"\u5fae\u8f6f\u7684 Edge:\u8c03\u7528\u6210\u529f",id:"\u5fae\u8f6f\u7684-edge\u8c03\u7528\u6210\u529f",level:3},{value:"2.\u501f\u7528\u7b2c\u4e09\u65b9\u5730\u56fe\u7684 api",id:"2\u501f\u7528\u7b2c\u4e09\u65b9\u5730\u56fe\u7684-api",level:2},{value:"\u9ad8\u5fb7\u7684\uff1a",id:"\u9ad8\u5fb7\u7684",level:3},{value:"\u8c37\u6b4c\u5730\u56fe\u7684\uff1a",id:"\u8c37\u6b4c\u5730\u56fe\u7684",level:3}],s={toc:c},u="wrapper";function m(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,a.Z)({},s,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1\u4f7f\u7528-h5-\u7684-api"},"1.\u4f7f\u7528 H5 \u7684 api\u3002"),(0,r.kt)("p",null,"W3C \u4e2d\u7684\u6b64 API \u8bf4\u660e\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://w3c.github.io/geolocation-api/"},"https://w3c.github.io/geolocation-api/")),(0,r.kt)("p",null,"\u627e\u4e00\u4e2a https\u3010",(0,r.kt)("a",{parentName:"p",href:"https://www.baidu.com/%E3%80%91%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%BD%91%E7%AB%99%E3%80%90%E6%B5%8B%E8%AF%95%E7%9A%84%E4%B8%8D%E7%94%A8https%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E5%BC%80%E6%9C%AC%E5%9C%B0HTML%E4%B9%9F%E6%98%AF%E5%8F%AF%E4%BB%A5%E7%9A%84%E3%80%91%EF%BC%8C%E7%84%B6%E5%90%8E%E6%89%93%E5%BC%80%E6%8E%A7%E5%88%B6%E5%8F%B0%EF%BC%8C%E8%BE%93%E5%85%A5%E4%B8%8B%E9%9D%A2%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E6%9F%A5%E7%9C%8B%E8%83%BD%E5%90%A6%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AAAPI%E3%80%82%E3%80%90%E9%9C%80%E8%A6%81%E5%85%81%E8%AE%B8%E6%8E%88%E6%9D%83%EF%BC%8C%E7%AD%89%E8%AF%A5GPS%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE%E3%80%91"},"https://www.baidu.com/\u3011\u534f\u8bae\u7684\u7f51\u7ad9\u3010\u6d4b\u8bd5\u7684\u4e0d\u7528https\uff0c\u76f4\u63a5\u6d4f\u89c8\u5668\u6253\u5f00\u672c\u5730HTML\u4e5f\u662f\u53ef\u4ee5\u7684\u3011\uff0c\u7136\u540e\u6253\u5f00\u63a7\u5236\u53f0\uff0c\u8f93\u5165\u4e0b\u9762\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\u80fd\u5426\u4f7f\u7528\u8fd9\u4e2aAPI\u3002\u3010\u9700\u8981\u5141\u8bb8\u6388\u6743\uff0c\u7b49\u8be5GPS\u8fd4\u56de\u6570\u636e\u3011")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"await navigator.geolocation.getCurrentPosition(\n  (res) => console.log(res),\n  (err) => console.error(err)\n);\n")),(0,r.kt)("p",null,"API \u7684\u539f\u7406\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://segmentfault.com/q/1010000004246400?utm_source=sf-similar-question"},"https://segmentfault.com/q/1010000004246400?utm_source=sf-similar-question")),(0,r.kt)("h3",{id:"\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e0b"},"\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e0b\uff1a"),(0,r.kt)("p",null,"\u6b64\u65b9\u6cd5\u4f1a\u8c03\u7528\u8c37\u6b4c API \u7684\u670d\u52a1\uff0c\u56fd\u5185\u7684\u8bdd\uff0c\u8fd8\u662f\u4f1a\u62a5\u9519\u7684\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img",src:n(61031).Z,width:"1072",height:"858"})),(0,r.kt)("h3",{id:"\u5fae\u8f6f\u7684-edge\u8c03\u7528\u6210\u529f"},"\u5fae\u8f6f\u7684 Edge:\u8c03\u7528\u6210\u529f"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20210114155904767",src:n(74371).Z,width:"980",height:"556"})),(0,r.kt)("h2",{id:"2\u501f\u7528\u7b2c\u4e09\u65b9\u5730\u56fe\u7684-api"},"2.\u501f\u7528\u7b2c\u4e09\u65b9\u5730\u56fe\u7684 api"),(0,r.kt)("h3",{id:"\u9ad8\u5fb7\u7684"},"\u9ad8\u5fb7\u7684\uff1a"),(0,r.kt)("p",null,"\u9ad8\u5fb7\u5730\u56fe\u7684\u5b9a\u4f4d api,\u5206\u4e3a\u4e24\u79cd\uff0c\u9ed8\u8ba4\u7684\u8bdd\u662f\u4f7f\u7528 ip \u8fdb\u884c\u7cbe\u786e\u5b9a\u4f4d\uff0c\u5982\u679c IP \u5b9a\u4f4d\u5931\u8d25\u5219\u4f7f\u7528 H5API \u5b9a\u4f4d\uff0c\u5982\u679c\u7528\u6237\u4f7f\u7528\u4e86\u66f4\u6539 ip \u7684\u8f6f\u4ef6\u4f1a\u5b9a\u4f4d\u5931\u8d25\u3002\u7b2c\u4e8c\u79cd\u662f\u4f18\u5148\u4f7f\u7528 H5API \u5b9a\u4f4d\u3010\u4e5f\u5c31\u662f GPS\uff0c\u9700\u8981\u83b7\u53d6\u7528\u6237\u6388\u6743\uff0c\u4f46\u662f\u8c37\u6b4c\u6d4f\u89c8\u5668\u5b58\u5728\u95ee\u9898\uff0c\u3011\u65e0\u6cd5\u83b7\u53d6\u7ecf\u7eac\u5ea6\uff0c\u7136\u540e\u518d\u4f7f\u7528 IP \u5b9a\u4f4d\u3002"),(0,r.kt)("p",null,"\u603b\u7684\u6765\u8bf4\uff1a\u4f7f\u7528 IP \u5b9a\u4f4d\u7684\u4f1a\u56e0\u4e3a\u4f7f\u7528\u4ee3\u7406\u8f6f\u4ef6\u800c\u9519\u8bef\u3002\u4f7f\u7528 GPS \u5b9a\u4f4d\u7684\u76ee\u524d\u53d1\u73b0\u8c37\u6b4c\u6d4f\u89c8\u5668\u4f1a\u83b7\u53d6\u5b9a\u4f4d\u5931\u8d25\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>GET VIDEO</title>\n    <meta charset="utf-8" />\n  </head>\n  <body>\n    <div id="container"></div>\n    <script\n      type="text/javascript"\n      src="https://webapi.amap.com/maps?v=1.4.15&key=your_key"\n    ><\/script>\n    <script>\n      mapObj = new AMap.Map("iCenter");\n      mapObj.plugin("AMap.Geolocation", function () {\n        geolocation = new AMap.Geolocation({\n          enableHighAccuracy: true, //\u662f\u5426\u4f7f\u7528\u9ad8\u7cbe\u5ea6\u5b9a\u4f4d\uff0c\u9ed8\u8ba4:true\n          timeout: 10000, //\u8d85\u8fc710\u79d2\u540e\u505c\u6b62\u5b9a\u4f4d\uff0c\u9ed8\u8ba4\uff1a\u65e0\u7a77\u5927\n          maximumAge: 0, //\u5b9a\u4f4d\u7ed3\u679c\u7f13\u5b580\u6beb\u79d2\uff0c\u9ed8\u8ba4\uff1a0\n          convert: true, //\u81ea\u52a8\u504f\u79fb\u5750\u6807\uff0c\u504f\u79fb\u540e\u7684\u5750\u6807\u4e3a\u9ad8\u5fb7\u5750\u6807\uff0c\u9ed8\u8ba4\uff1atrue\n          showButton: true, //\u663e\u793a\u5b9a\u4f4d\u6309\u94ae\uff0c\u9ed8\u8ba4\uff1atrue\n          buttonPosition: "LB", //\u5b9a\u4f4d\u6309\u94ae\u505c\u9760\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\uff1a\'LB\'\uff0c\u5de6\u4e0b\u89d2\n          buttonOffset: new AMap.Pixel(10, 20), //\u5b9a\u4f4d\u6309\u94ae\u4e0e\u8bbe\u7f6e\u7684\u505c\u9760\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf\uff0c\u9ed8\u8ba4\uff1aPixel(10, 20)\n          showMarker: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u5728\u5b9a\u4f4d\u5230\u7684\u4f4d\u7f6e\u663e\u793a\u70b9\u6807\u8bb0\uff0c\u9ed8\u8ba4\uff1atrue\n          showCircle: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u7528\u5706\u5708\u8868\u793a\u5b9a\u4f4d\u7cbe\u5ea6\u8303\u56f4\uff0c\u9ed8\u8ba4\uff1atrue\n          panToLocation: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u5c06\u5b9a\u4f4d\u5230\u7684\u4f4d\u7f6e\u4f5c\u4e3a\u5730\u56fe\u4e2d\u5fc3\u70b9\uff0c\u9ed8\u8ba4\uff1atrue\n          zoomToAccuracy: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u8c03\u6574\u5730\u56fe\u89c6\u91ce\u8303\u56f4\u4f7f\u5b9a\u4f4d\u4f4d\u7f6e\u53ca\u7cbe\u5ea6\u8303\u56f4\u89c6\u91ce\u5185\u53ef\u89c1\uff0c\u9ed8\u8ba4\uff1afalse\n          GeoLocationFirst: true, // \u9ed8\u8ba4\u4e3afalse\uff0c\u8bbe\u7f6e\u4e3atrue\u7684\u65f6\u5019\u53ef\u4ee5\u8c03\u6574PC\u7aef\u4e3a\u4f18\u5148\u4f7f\u7528\u6d4f\u89c8\u5668\u5b9a\u4f4d\uff0c\u5931\u8d25\u540e\u4f7f\u7528IP\u5b9a\u4f4d\n        });\n        mapObj.addControl(geolocation);\n        geolocation.getCurrentPosition();\n        AMap.event.addListener(geolocation, "complete", onComplete); //\u8fd4\u56de\u5b9a\u4f4d\u4fe1\u606f\n        AMap.event.addListener(geolocation, "error", onError); //\u8fd4\u56de\u5b9a\u4f4d\u51fa\u9519\u4fe1\u606f\n        function onComplete(data) {\n          console.log(data);\n        }\n      });\n    <\/script>\n  </body>\n</html>\n\n')),(0,r.kt)("p",null,"\u4f7f\u7528\u54ea\u79cd\u5b9a\u4f4d\u65b9\u5f0f\u7684\u53c2\u6570:",(0,r.kt)("inlineCode",{parentName:"p"},"GeoLocationFirst")),(0,r.kt)("p",null,"\u9ad8\u5fb7\u5730\u56fe API\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://lbs.amap.com/api/javascript-api/reference/location#m_AMap.Geolocation"},"https://lbs.amap.com/api/javascript-api/reference/location#m_AMap.Geolocation")),(0,r.kt)("h3",{id:"\u8c37\u6b4c\u5730\u56fe\u7684"},"\u8c37\u6b4c\u5730\u56fe\u7684\uff1a"),(0,r.kt)("p",null,"\u5b98\u65b9 API:",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.cn/maps/documentation/javascript/examples/map-geolocation"},"https://developers.google.cn/maps/documentation/javascript/examples/map-geolocation")),(0,r.kt)("p",null,"\u76f8\u5173\u4f7f\u7528\u6587\u6863\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000006173834"},"https://segmentfault.com/a/1190000006173834")))}m.isMDXComponent=!0},74371:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-20210114155904767-ba1ac5c0e422c87a039b422d1e115ab4.png"},61031:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/\u4f01\u4e1a\u5fae\u4fe1\u622a\u56fe_16106081396879-f99d7ccba25496a5e78adea82f989e08.png"}}]);