"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1477],{30010:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"/index","metadata":{"permalink":"/blog/index","source":"@site/blog/index.md","title":"index","description":"\u6c47\u603b\u5de5\u4f5c\u4ee5\u6765\u8981\u7528\u5230\u4e00\u4e9b\u77e5\u8bc6","date":"2023-07-08T16:12:30.000Z","formattedDate":"2023\u5e747\u67088\u65e5","tags":[],"readingTime":0.065,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"nextItem":{"title":"\u5982\u4f55\u4e00\u5957\u524d\u7aef\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","permalink":"/blog/\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42"}},"content":"\u6c47\u603b\u5de5\u4f5c\u4ee5\u6765\u8981\u7528\u5230\u4e00\u4e9b\u77e5\u8bc6"},{"id":"/\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","metadata":{"permalink":"/blog/\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","source":"@site/blog/\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42.md","title":"\u5982\u4f55\u4e00\u5957\u524d\u7aef\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","description":"\u5982\u4f55\u4e00\u5957\u524d\u7aef\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","date":"2022-10-23T21:51:31.000Z","formattedDate":"2022\u5e7410\u670823\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":17.34,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"\u5982\u4f55\u4e00\u5957\u524d\u7aef\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"typora-root-url":"\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","date":"2022-10-23T21:51:31.000Z"},"prevItem":{"title":"index","permalink":"/blog/index"},"nextItem":{"title":"\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93","permalink":"/blog/\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93"}},"content":"## \u5982\u4f55\u4e00\u5957\u524d\u7aef\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42\\n\\n\u5f53\u5c0f\u4f19\u4f34\u4eec\u770b\u5230\u6807\u9898\u7684\u65f6\u5019\uff0c\u662f\u4e0d\u662f\u8111\u888b\u4e2d\u5df2\u7ecf\u5192\u51fa\u4e86 N \u4e2a\u89e3\u51b3\u65b9\u6848\u4e86\u5462\uff1f\\n\\n\u5728\u5b9e\u9645\u7684\u4e1a\u52a1\u573a\u666f\u4e2d\uff0c\u968f\u7740\u516c\u53f8\u7684 ToB \u4e1a\u52a1\u505a\u7684\u98ce\u751f\u6c34\u8d77\uff0c\u6807\u51c6\u5316\u7684\u65b9\u6848\u5f00\u59cb\u96be\u4ee5\u6ee1\u8db3\u65e5\u76ca\u589e\u957f\u7684\u5ba2\u6237\u9700\u6c42\u4e86\uff0c\u6162\u6162\u7684 \u90e8\u5206\u5ba2\u6237 \u56e0\u4e3a\u4e1a\u52a1\u573a\u666f\u4e0d\u540c \u90fd\u5f00\u59cb\u641e\u8d77\u4e86\u5b9a\u5236\u5316\u9700\u6c42\u3002\\n\\n### \u4e1a\u52a1\u573a\u666f\u2014\u2014\u4e0d\u670d\u52a1\u4e8e\u4e1a\u52a1\u7684\u4ee3\u7801\u90fd\u662f\u800d\u6d41\u6c13\\n\\n\u5047\u8bbe\u6709 **\u4e09** \u4f4d\u5ba2\u6237\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u533a\u5206\uff0c\u5c31\u53eb**\u7532\uff0c\u4e59\uff0c\u4e19**\u5427\uff0c\u7a81\u7136\u6709\u4e00\u5929\u5ba2\u6237\u7ecf\u7406\u6536\u5230 **\u7532\u5ba2\u6237** \u7684\u8bc9\u6c42\u8bf4 \u4ea7\u54c1\u7684\u4e3b\u7ebf\u4e0a\u7684\u8fd9\u5757\u4e1a\u52a1\u903b\u8f91 \u548c \u4ed6\u4eec\u516c\u53f8\u7684\u5b9e\u9645\u60c5\u51b5 \u6709\u4e9b\u51fa\u5165\uff0c\u9700\u8981\u8fdb\u884c\u5b9a\u5236\u5316\u5904\u7406\u3002\u5728\u4f60\u6536\u5230\u53cd\u9988\u4ee5\u540e\uff0c\u53d1\u73b0\u4e1a\u52a1\u6539\u52a8\u4e0d\u662f\u5f88\u591a\uff0c\u5e76\u4e14\u6539\u52a8\u91cf\u4e0d\u662f\u5f88\u5927\uff0c\u5f53\u4e0b\u5c31 \u57fa\u4e8e **master** \u5207\u4e86\u4e00\u4e2a **feature-jia-baba** \u5206\u652f\uff0c10 \u5206\u949f\u4ee3\u7801\u6539\u5b8c\u63d0\u4ea4\u6d4b\u8bd5\u3002\u6d4b\u8bd5\u901a\u8fc7\uff0c\u7ed9\u5ba2\u6237\u7532 \u5b89\u6392\u4e86 \u4e0a\u7ebf\uff0c\u968f\u540e \u6536\u5230\u5ba2\u6237\u7532\u7684 \u8868\u626c\u4fe1\uff0c\u5938\u8d5e\u4f60\u6548\u7387\u9ad8\u3002\\n\\n\u8fc7\u4e86\u4e24\u5929\uff0c**\u5ba2\u6237\u4e59** \u63d0\u4e86 \u4e00\u4e2a\u65b0\u7684\u9700\u6c42\uff0c\u7ecf\u8fc7\u8ba8\u8bba\u5bf9\u63a5\u5f00\u59cb\u8fdb\u884c\u8fed\u4ee3\u5f00\u53d1\uff0c\u5f00\u53d1\u5b8c\u6bd5\u4ee5\u540e **\u5408\u5165 master** \u5b89\u6392 \u4e0a\u7ebf\u3002\u8fc7\u4e86\u4e24\u5929 \u5ba2\u6237\u7532 \u4e5f\u60f3\u8981 \u4e3b\u7ebf\u4e0a\u7684 \u8fd9\u4e2a\u529f\u80fd\uff0c\u8111\u58f3\u4e00\u60f3\uff0c\u6b64\u65f6\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff1a1. Cherry-pick \u4e4b\u524d\u7684 \u529f\u80fd\u63d0\u4ea4 2. **feature-jia-baba** \u5206\u652f\u62c9\u53d6\u4e00\u4e0b\u6700\u65b0\u7684 master\u3002\\n\\n\u53c8\u8fc7\u4e86\u4e24\u5929\uff0c**\u5ba2\u6237\u4e19** \u8bf4 \u4e4b\u524d\u7ed9\u5ba2\u6237\u7532\u4e0a\u7ebf\u7684\u529f\u80fd \u6211\u4e5f\u8981\uff0c\u5e76\u4e14\u6211\u8fd9\u8fb9\u8fd8\u8981\u589e\u52a0\u9700\u6c42\uff0c\u8001\u529e\u6cd5 \u57fa\u4e8e **feature-jia-baba** \u5206\u652f \u62c9\u4e86\u4e00\u4e2a **feature-jia-bing-baba** \u5206\u652f,\u542d\u54e7\u542d\u54e7\u4e00\u987f\u63d0\u4ea4\u3002\u53c8\u6ee1\u8db3\u4e86**\u5ba2\u6237\u4e19**\u7684\u9700\u6c42\u3002\\n\\n\uff08\u4e0a\u9762\u7684\u90fd\u662f\u57fa\u4e8e git \u5206\u652f\u6a21\u578b\uff0c\u5efa\u7acb\u7684\u4e3a\u4e86\u6ee1\u8db3\u4e0d\u540c\u5ba2\u6237\u9700\u6c42\u5206\u652f\u7ba1\u7406\u6a21\u578b\uff09\\n\\n\u5f53\u4f60\u5728\u4e3b\u7ebf master \u8fdb\u884c\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u8fed\u4ee3\u4e86 N \u4e2a\u9700\u6c42\uff0c\u6bcf\u6b21 \u7ed9\u5ba2\u6237\u7532\u4e0a\u7ebf\u7684\u65f6\u5019\u90fd\u8981 **feature-jia-baba** \u5206\u652f \u548c **master \u5206\u652f**\u5408\u5165\u4e00\u6b21\uff0c\u518d\u53d1\u5305\u7ed9\u7532\u5ba2\u6237\u3002\u7ed9\u4e19\u4e0a\u7ebf\u7684\u65f6\u5019 \u4e5f\u662f \u8981 **feature-jia-bing-baba** \u5206\u652f \u548c **master \u5206\u652f** \u5408\u5165\u4e00\u6b21\uff0c\u53d1\u5305\u7ed9\u4e19\u5ba2\u6237\u3002\u67d0\u5929\u6765\u4e86\u65b0\u540c\u4e8b\uff0c\u5fd8\u8bb0\u4e86\u4e0a\u9762\u7684\u89c4\u8303\uff0c\u76f4\u63a5\u628a **master \u5206\u652f**\u7684\u5305 \u90fd\u7ed9\u4e86 \u4e09\u4f4d\u5ba2\u6237\uff0c\u7b2c\u4e8c\u5929\u65b0\u540c\u4e8b \u56e0\u4e3a\u53f3\u811a\u8e0f\u5165\u516c\u53f8\u95e8\u88ab\u6bd5\u4e1a\u3002\\n\\n### \u6709\u6ca1\u6709\u66f4\u597d\u7684\uff0c\u66f4\u7ec6\u81f4\u7684\u89e3\u51b3\u65b9\u6848\u5462\uff1f\\n\\n1. git \u5206\u652f\u6a21\u578b\uff1a\u57fa\u4e8e\u5ba2\u6237\u7684\u9700\u6c42 \u8fdb\u884c\u5206\u652f\u7ba1\u7406\uff0c\u540e\u671f\u5ba2\u6237\u4f53\u91cf\u5927\uff0c\u5b9a\u5236\u9700\u6c42\u589e\u591a\u7684\u65f6\u5019\uff0c\u4f60\u5c31\u5f00\u59cb\u540e\u6094\u4e86\u3002\\n   - \u4f18\u70b9\uff1a\u7b80\u5355\u7c97\u66b4\uff0c\u7acb\u5373\u89c1\u6548\uff0c\\n   - \u7f3a\u70b9\uff1a\u4e0d\u957f\u8fdc\uff0c\u4e0d\u662f\u6700\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ea\u662f\u89e3\u51b3\u4e86\u5f53\u4e0b\uff0c\u5e94\u5f52\u5c5e\u4e8e \u4e34\u65f6\u89e3\u51b3\u65b9\u6848\uff0c\u968f\u7740\u5ba2\u6237\u4f53\u91cf\u7684\u589e\u52a0\u4f1a\u5bfc\u81f4\u65e5\u5e38\u5de5\u4f5c\u5728\u5904\u7406\u5206\u652f\u5408\u5e76\u548c\u7ef4\u62a4\u4e0a\u82b1\u8d39\u8f83\u591a\u65f6\u95f4\uff0c\u9020\u6210\u8eab\u5fc3\u548c\u5fc3\u7406\u4e0a\u7684\u75b2\u60eb\u3002\\n2. \u56e0\u4e3a\u662f\u524d\u7aef\u4ee3\u7801\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\uff0c\u5bf9 \u5168\u5c40\u5bf9\u8c61 window \u589e\u52a0\u67d0\u4e2a\u5ba2\u6237\u7684\u4e13\u5c5e\u6807\u8bc6\uff0c\u8fdb\u800c\u901a\u8fc7\u73af\u5883\u5224\u65ad\u53bb\u6267\u884c\u7279\u5b9a\u7684\u4ee3\u7801\u3002\\n3. \u901a\u8fc7\u6253\u5305\u5de5\u5177\uff08\u5982 webpack\uff09 \u5728\u7f16\u8bd1\u65f6 \u5c31\u8fdb\u884c \u533a\u5206\u6253\u5305\uff0c\u4f7f\u5f97\u6700\u540e\u751f\u6210\u7684 dist \u76ee\u5f55 \u4ec5\u4ec5\u662f \u67d0\u4f4d\u5ba2\u6237\u7684\u4ee3\u7801\u3002\\n\\n\u76ee\u524d\u6211\u53ea\u60f3\u5230\u4e86\u4ee5\u4e0a\u7684 3 \u79cd\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u5177\u4f53\u7684\u4e1a\u52a1\u573a\u666f \u53ef\u4ee5\u9009\u62e9\u5176\u4e2d\u7684 \u4e00\u79cd \u6216\u8005 \u4e24\u79cd\u65b9\u6cd5\u7ed3\u5408\u4f7f\u7528\u3002\\n\\nGit \u5206\u652f\u7ba1\u7406\u6a21\u578b\uff0c\u6ca1\u6709\u4ec0\u4e48\u4ee3\u7801\u5c42\u9762\u7684\u77e5\u8bc6\uff0c\u53ea\u9700\u8981\u64cd\u4f5c git \u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\uff0c\u6b64\u5904\u5c31\u4e0d\u7ec6\u8bb2\u4e86\u3002\u63a5\u4e0b\u6765\u4e3b\u8981\u8bb2\u5269\u4f59\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\u3002\\n\\n### 1. \u8fd0\u884c\u65f6 \u901a\u8fc7\u5ba2\u6237\u6807\u8bc6\u8fdb\u884c \u533a\u5206\\n\\n\u76f8\u5173\u7684\u6280\u672f\u70b9\uff1a**\u524d\u7aef\u4e09\u5927\u4ef6 + Nginx + docker**\\n\\ndemo \u8d70\u8d77\uff1a\\n\\n#### 1.\u9996\u5148\u65b0\u5efa index.html \u6587\u4ef6\uff0c\u6309\u7167\u987a\u5e8f \u5f15\u5165 **user-symbol.js**\uff08\u5ba2\u6237\u6807\u8bc6\uff09\u548c **index.js**\uff08\u4e1a\u52a1\u903b\u8f91\u4ee3\u7801\uff09\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n  <head>\\n    <meta charset=\\"UTF-8\\" />\\n    <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\" />\\n    <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\" />\\n    <title>\u5ba2\u6237\u6807\u8bc6</title>\\n  </head>\\n  <body>\\n    <div>\u6253\u5f00console \u770b\u8f93\u51fa</div>\\n    <script src=\\"./user-symbol.js\\" defer><\/script>\\n    <script src=\\"./index.js\\" defer><\/script>\\n  </body>\\n</html>\\n```\\n\\n\u4e24\u4e2a js \u6587\u4ef6\u8f83\u4e3a\u7b80\u5355\uff0c\u5927\u81f4\u8d34\u56fe\u4e00\u4e0b\uff08\u6587\u672b\u6709 GitHub \u5730\u5740\uff09\\n\\n![image-20221023231858150](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221023231858150.png)\\n\\n#### 2. \u4f7f\u7528 docker \u901a\u8fc7 Nginx \u955c\u50cf \u90e8\u7f72\u524d\u7aef\u670d\u52a1\\n\\n```shell\\n# \u6784\u5efadocker \u955c\u50cf\\ndocker build -t user-symbol -f Dockerfile ../window-user-symbol\\n# -p\uff1a\u5f53\u524d\u673a\u5668\u76848080\u7aef\u53e3\u548c\u955c\u50cf80 \u7aef\u53e3\u7ed1\u5b9a\uff0c\u4f7f\u75288080\u7aef\u53e3\\n# -v\uff1a\u6620\u5c04 \u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684/env/user-symbol.js \u5230/usr/share/nginx/html/user-symbol.js\\n# --name\uff1a\u6307\u5b9a\u751f\u6210\u7684\u955c\u50cf\u540d\\n# -d\uff1a\u6307\u5b9a\u4f7f\u7528\u7684\u57fa\u7840\u955c\u50cf\\ndocker run -itd -p 8080:80 -v ${PWD}/env/user-symbol.js:/usr/share/nginx/html/user-symbol.js --name user-test-2 -d user-symbol\\n```\\n\\n\u5176\u4e2d\u6838\u5fc3\u7684\u662f docker -v \u7684\u547d\u4ee4\u3002\u53ef\u53c2\u8003 https://zhuanlan.zhihu.com/p/423028401\uff0c\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4f60\u5728\u6539\u53d8\u5bbf\u4e3b\u673a\u7684 user-symbol.js \u6587\u4ef6\uff0c\u540c\u65f6\u8fd0\u884c\u4e2d\u7684 docker \u955c\u50cf\u91cc\u7684\u8be5\u6587\u4ef6\u4e5f\u4f1a\u6539\u53d8\uff0c\u53ef\u4ee5 \u7406\u89e3\u4e3a vue \u91cc\u7684\u53cc\u5411\u7ed1\u5b9a\u3002\\n\\n\u8fd0\u884c\u5b8c\u4ee5\u540e \u51fa\u73b0\u6b64\u754c\u9762\u5c31\u5c5e\u4e8e\u6210\u529f\u4e86\u3002\\n\\n![image-20221023232553340](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221023232553340.png)\\n\\n#### 3.\u8bbf\u95ee 8080 \u7aef\u53e3\\n\\n\u9ed8\u8ba4\u7684\u6302\u8f7d\u7684 user-symbol.js \u7684\u6570\u636e\u5982\u4e0b\uff1a\\n\\n```js\\nwindow.env = {\\n  userAgent: \\"jia\\",\\n};\\n```\\n\\n\u6240\u4ee5\u6267\u884c\u7684\u662f \u5ba2\u6237\u7532 \u76f8\u5173\u7684 \u5b9a\u5236\u5316\u9700\u6c42\\n\\n![image-20221023232649339](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221023232649339.png)\\n\\n\u7136\u540e\u4fee\u6539 user-symbol.js\uff0c\u4fee\u6539\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n```js\\nwindow.env = {\\n  userAgent: \\"yi\\",\\n};\\n```\\n\\n\u5237\u65b0\u754c\u9762\u4ee5\u540e\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u7ed3\u679c\uff1a\\n\\n![image-20221023232902917](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221023232902917.png)\\n\\n**\u603b\u7ed3\uff1a**\u901a\u8fc7 docker \u7684 \u6302\u8f7d \u529f\u80fd \u548c window \u5bf9\u8c61\u4e0a \u6302\u8f7d\u552f\u4e00\u6807\u8bc6\uff0c\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4e0d\u4fee\u6539\u73b0\u6709\u4e1a\u52a1\u4ee3\u7801\u548c\u90e8\u7f72\u955c\u50cf\u7684\u60c5\u51b5\u4e0b\uff0c\u5b9e\u73b0\u52a8\u6001\u63a7\u5236\u5b9a\u5236\u5316\u7528\u6237\u7684\u9700\u6c42\uff0c\u5e76\u4e14\u56e0\u4e3a\u662f js \u6587\u4ef6\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728 js \u91cc\u9762\u505a\u7684\u4e8b\u60c5\u5c31\u4f1a\u589e\u591a\uff0c\u81ea\u7531\u5ea6\u7075\u6d3b\u6027\u8f83\u9ad8\u3002\\n\\n\u6e29\u99a8\u63d0\u793a\uff1a\u5728\u751f\u4ea7\u60c5\u51b5\u4e0b \u4e00\u822c\u4f1a \u8981\u6c42 \u6b64\u79cd\u7c7b\u578b\u7684 \u914d\u7f6e\u578b js \u4f18\u5148\u52a0\u8f7d\uff0c\u9664\u4e86\u653e\u5728 index.html \u4e2d \u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 loadjs \u5728 js \u4e2d\u8fdb\u884c\u63a7\u5236 [github.com](https://github.com/muicss/loadjs)\u3002\\n\\n\u6bd4\u5982\u5728 react \u9879\u76ee\u4e2d\uff0c\u8981\u6c42\u5148\u52a0\u8f7d config \u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u624d\u5f00\u59cb \u6267\u884c react \u4e3b\u6d41\u7a0b\u76f8\u5173\u903b\u8f91\uff0c\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a\\n\\n```react\\nimport { useState } from \'react\';\\nimport loadjs from \'loadjs\';\\nimport { isProd } from \'./utils\';\\n\\nconst REMOTE_CONFIG_URL = isProd ? \'/static/config.js\' : \'/config.js\';\\n\\nconst App = () => {\\n  const [loadedJs, setLoadedJs] = useState(false);\\n  // \u4fdd\u8bc1\u914d\u7f6e\u6587\u4ef6\u6210\u529f\u5f15\u5165 \u624d\u4f1a\u6e32\u67d3\u4e3b\u6d41\u7a0b\u903b\u8f91\\n  if (!loadjs.isDefined(\'config\')) {\\n    loadjs([REMOTE_CONFIG_URL], \'config\', function () {\\n      setLoadedJs(true);\\n    });\\n  }\\n  if (!loadedJs) {\\n    return null;\\n  }\\n  return <div>\u4e3b\u903b\u8f91\u5f00\u59cb</div>;\\n};\\nexport default App;\\n\\n```\\n\\n### 2.\u7f16\u8bd1\u65f6 \u7ed3\u5408\u6253\u5305\u5de5\u5177 \u5e72\u6389\u591a\u4f59\u7684\u4ee3\u7801\\n\\n\u672c\u6b21\u4f7f\u7528\u7684\u6253\u5305\u5de5\u5177\u662f webpack\uff0c\u5176\u4ed6\u6253\u5305\u5de5\u5177\u5b9e\u73b0\u539f\u7406\u7c7b\u4f3c\u3002\\n\\n#### 1. \u4e3e\u4e00\uff08\u6700\u5e38\u89c1\u7684\u6848\u4f8b\uff09\\n\\n\u90a3\u9996\u5148\u60f3\u5230\u7684\u5c31\u662f webpack \u4e2d\u5e38\u7528\u7684\u73af\u5883\u53d8\u91cf\u7684\u533a\u5206\uff0cwebpack \u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e mode \u6307\u5b9a\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883 \uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528 `process.env.NODE_ENV` \uff08\u4f1a\u88ab\u9ed8\u8ba4\u6ce8\u5165\uff09\u53bb\u83b7\u53d6\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\uff0c`process.env.NODE_ENV` \u672c\u8d28\u4e0a\u5c31\u662f\u901a\u8fc7 `DefinePlugin`\u8fd9\u4e2a\u63d2\u4ef6 \u6ce8\u5165\u7684\u3002\u8be6\u60c5\u53ef\u4ee5\u53c2\u8003 [\u6a21\u5f0f(Mode) | webpack \u4e2d\u6587\u6587\u6863 (docschina.org)](https://webpack.docschina.org/configuration/mode/#usage)\uff0c\u53e6\u5916\uff0c\u5343\u4e07\u6ce8\u610f\u7684\u662f \u8fd9\u91cc\u7684 process \u5e76\u4e0d\u662f node \u4e2d\u7684 process\uff0c\u597d\u591a\u6559\u7a0b\u90fd\u5c06 node \u4e2d\u7684 process \u5bf9\u8c61\u548c webpack \u4e2d process \u8fdb\u884c**\u6df7\u6dc6**\u4e86\u3002webpack \u4e2d\u5173\u4e8e\u6b64\u5904\u7684\u76f8\u5173\u6e90\u4ee3\u7801\u622a\u56fe\u5982\u4e0b\uff1a\\n\\n![image-20221229215954986](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229215954986.png)\\n\\n\u7b80\u5355\u6d4b\u8bd5\u4e00\u4e0b\u4ee5\u4e0a\u5185\u5bb9\u7684\u6b63\u786e\u6027\uff0c\u5148\u5047\u8bbe\uff1awebpack \u4e2d\u7684 process \u548c node \u4e2d process \u662f\u76f8\u540c\u7684\u3002\\n\\n1. ##### \u901a\u8fc7 npm \u811a\u672c\u8fdb\u884c\u4f20\u53c2\uff0c\u65b0\u589e npm \u811a\u672c\u5982\u4e0b\uff1a\\n\\n```json\\n\\"build:aa\\": \\"webpack --env user=aa\\",\\n```\\n\\n2. ##### \u7b80\u5355\u7684\u5728 `webpack.config.js` \u4e2d\u65b0\u589e\u5982\u4e0b\u5185\u5bb9\uff1a\\n\\n```js\\n// 0.\u521d\u59cb\u7684webpack \u5bf9\u8c61\\nconsole.log(\\"init webpack config\\", env, process.env);\\nconst { user, mode = \\"development\\" } = env;\\n// 1.\u5c06 user \u7ed1\u5b9a\u5230 node \u73af\u5883\u7684 process \u5bf9\u8c61\u4e0a\\nprocess.env.user = user;\\n// 2. \u9a8c\u8bc1\u662f\u5426\u7ed1\u5b9a\u6210\u529f\\nconsole.log(\\"current user\\", process.env.user);\\n```\\n\\n\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n![image-20221229221522415](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229221522415.png)\\n\\n![image-20221229221704343](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229221704343.png)\\n\\n3. ##### \u65e2\u7136\u5728 node \u7684 process.env \u4e0a\u7ed1\u5b9a\u6210\u529f\u4e86\uff0c\u90a3\u5c31\u653e\u5fc3\u5927\u80c6\u7528\u5b83\u5427\uff08\ud83d\ude04\uff0c\u5f00\u73a9\u7b11\u54c8\uff09\\n\\nIndex.js \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a\\n\\n```js\\nconst addText = (text) => {\\n  const div = document.createElement(\\"div\\");\\n  div.innerHTML = text;\\n  document.body.appendChild(div);\\n};\\n\\nconst getProcessText = () => {\\n  if (process.env.NODE_ENV === \\"production\\") {\\n    return \\"\u751f\u4ea7\u73af\u5883\u7684\u4ee3\u7801\\";\\n  } else {\\n    return \\"\u5f00\u53d1\u73af\u5883\u7684\u4ee3\u7801\\";\\n  }\\n};\\n\\naddText(getProcessText());\\n\\nconst getUserText = () => {\\n  if (process.env.user === \\"aa\\") {\\n    return \\"\u8fd0\u884c\u5ba2\u6237aa \u7684\u4ee3\u7801\\";\\n  } else {\\n    return \\"\u8fd0\u884c\u901a\u7528\u4ee3\u7801\\";\\n  }\\n};\\n\\naddText(getUserText());\\n```\\n\\n4. ##### \u628a\u6253\u5305\u51fa\u6765\u7684 dist \u6587\u4ef6 \u653e\u5165 html \u5e76 \u542f\u52a8 \u670d\u52a1\u67e5\u770b\u4e00\u4e0b\u63a7\u5236\u53f0\u7684\u8f93\u51fa\uff1a\\n\\n\u4ece\u8fd0\u884c\u7ed3\u679c\u4e2d\u53ef\u4ee5\u5f97\u51fa\u5982\u4e0b\u7ed3\u8bba\uff1a\\n\\n- webpack \u4e2d\u7684 `process.env.NODE_ENV`\u4f1a\u88ab\u76f4\u63a5\u66ff\u6362\u4e3a \u771f\u5b9e\u7684 \u5e38\u91cf\uff0c\u89c1 \u7b2c 8 \u884c\u7684 if \u5224\u65ad\u4ee3\u7801\uff08\u6e90\u4ee3\u7801\u662f\uff1a`if (process.env.NODE_ENV === \'production\')`\uff09\\n- node \u4e2d\u7684 process \u548c webpack \u4e2d\u7684 process \u4e0d\u662f\u4e00\u4e2a\u3002\u89c1\u63a7\u5236\u53f0\u62a5\u9519\u7684\u8f93\u51fa\uff0c\u6d4f\u89c8\u5668\u6839\u672c\u4e0d\u77e5\u9053 \u8fd9\u4e2a process \u662f\u4e2a\u5565\uff08\u672a\u5b9a\u4e49\uff09\u3002\\n\\n![image-20221229222032200](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229222032200.png)\\n\\n#### 2. \u53cd\u4e09\uff08\u7c7b\u63a8\u6269\u5c55\uff09\\n\\n\u65e2\u7136 webpack \u672c\u8d28\u4e0a \u4f7f\u7528\u4e86 `DefinePlugin`\u8fd9\u4e2a\u63d2\u4ef6\u5b9e\u73b0\u4e86\u8fd0\u884c\u65f6\u73af\u5883\u53d8\u91cf\u7684\u6ce8\u5165\uff0c\u90a3\u6211\u4eec\u5c82\u4e0d\u662f\u53ef\u4ee5\u6ce8\u5165\u4e00\u4e0b\u5f53\u524d\u7684 \u5ba2\u6237 \u6807\u8bc6\u3002\\n\\n\u8fd8\u662f\u4e4b\u524d\u7684 npm \u811a\u672c\uff1a\\n\\n```\\n \\"build:aa\\": \\"webpack --env user=aa\\",\\n```\\n\\n\u65b0\u589e webpack \u914d\u7f6e\uff08\u9644\u4e0a\u5b8c\u6574\u7248\u914d\u7f6e\uff09\uff1a\\n\\n```js\\nconst path = require(\\"path\\");\\nconst HtmlWebpackPlugin = require(\\"html-webpack-plugin\\");\\nconst webpack = require(\\"webpack\\");\\n\\n// \u4f7f\u7528cli \u8fdb\u884c\u4f20\u53c2\uff1a https://webpack.docschina.org/api/cli/#environment-options\\nmodule.exports = (env) => {\\n  // 0.\u521d\u59cb\u7684webpack \u5bf9\u8c61\\n  console.log(\\"init webpack config\\", env, process.env);\\n  const { user, mode = \\"development\\" } = env;\\n  // 1.\u5c06 user \u7ed1\u5b9a\u5230 node \u73af\u5883\u7684 process \u5bf9\u8c61\u4e0a\\n  process.env.user = user;\\n  // 2. \u9a8c\u8bc1\u662f\u5426\u7ed1\u5b9a\u6210\u529f\\n  console.log(\\"current user\\", process.env.user);\\n  /**\\n   * \u6b64\u5199\u6cd5\u53ef\u4ee5\u4f7f\u7528 webpack \u914d\u7f6e\u7c7b\u578b \u7684\u81ea\u52a8\u8865\u5168\\n   * @type {import(\\"webpack\\").Configuration}\\n   */\\n  const config = {\\n    mode,\\n    entry: path.join(__dirname, \\"./index.js\\"),\\n    output: {\\n      path: path.join(__dirname, \\"dist\\"),\\n      filename: \\"bundle.js\\",\\n    },\\n    plugins: [\\n      new HtmlWebpackPlugin({\\n        template: path.join(__dirname, \\"./index.html\\"),\\n        filename: \\"index.html\\",\\n      }),\\n      // \u589e\u52a0 \u7528\u6237\u6807\u8bc6\\n      new webpack.DefinePlugin({\\n        \\"process.env.user\\": JSON.stringify(user),\\n      }),\\n    ],\\n  };\\n  return config;\\n};\\n```\\n\\n\u518d\u6b21\u6253\u5305\u8f93\u51fa\uff0c\u67e5\u770b\u63a7\u5236\u53f0\uff1a\\n\\n![image-20221229222839425](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229222839425.png)\\n\\n\u7ed3\u8bba\uff1a\\n\\n\u4f18\u70b9\uff1a\u901a\u8fc7 `DefinePlugin` \u786e\u5b9e\u628a \u76f8\u5173\u914d\u7f6e \u6ce8\u5165\u5230\u4e86 webpack \u7684\u6253\u5305\u8fc7\u7a0b\u4e2d\uff0c\u5e76\u4e14\u5728\u7f16\u8bd1\u6784\u5efa\u7684\u65f6\u5019\u8fdb\u884c\u4e86\u66ff\u6362\u3002\u8fd9\u6837\u662f\u53ef\u4ee5\u5b9e\u73b0\u5728\u7f16\u8bd1\u65f6 \u901a\u8fc7\u5b9a\u4e49 \u591a\u4e2a\u4e0d\u540c\u7684\u5ba2\u6237\u6807\u8bc6\u7684 npm \u811a\u672c \u8fdb\u884c\u89e3\u51b3 \u4e00\u5957\u4ee3\u7801 \u9002\u914d\u591a\u4e2a\u5ba2\u6237\u7684\u95ee\u9898\u3002\\n\\n\u7f3a\u70b9\uff1a\u968f\u7740\u9700\u6c42\u7684\u589e\u52a0\uff0c\u4f60\u4f1a\u53d1\u73b0\u4ee3\u7801\u91cc \u9700\u8981\u5199\u591a\u4e2a `process.env.user === \'aa\'` \uff0c`process.env.user === \'bb\'` \u548c `process.env.user === \'cc\'`\uff0c\u5c3d\u5feb\u8fdb\u884c\u4e86\u5c01\u88c5\u63d0\u53d6\uff0c\u4f46\u662f\u4ee3\u7801 \u7684\u53ef\u8bfb\u6027 \u548c \u5ba2\u6237\u529f\u80fd\u7684\u533a\u5206\u5ea6\u8fd8\u662f\u4e0d\u591f\u660e\u663e\uff0c\u5e76\u4e14 npm \u811a\u672c\u5f88\u53ef\u80fd\u53d8\u6210\u5982\u4e0b\u914d\u7f6e\uff1a\\n\\n```js\\nconst getUserText = () => {\\n  // \u5047\u8bbe\u5ba2\u6237\u7684\u5b9a\u5236\u4e1a\u52a1\u903b\u8f91\u590d\u6742\uff0c\u4ee3\u7801\u91cf\u4e0a\u53bb\u4e86\uff0c\u53ef\u5c31\u4e0d\u662f\u8fd9\u4e48\u6613\u8bfb\u4e86\\n  if (process.env.user === \\"aa\\") {\\n    return \\"\u8fd0\u884c\u5ba2\u6237aa \u7684\u4ee3\u7801\\";\\n  } else if (process.env.user === \\"bb\\") {\\n    return \\"\u8fd0\u884c\u5ba2\u6237bb \u7684\u4ee3\u7801\\";\\n  } else if (process.env.user === \\"cc\\") {\\n    return \\"\u8fd0\u884c\u5ba2\u6237cc \u7684\u4ee3\u7801\\";\\n  } else {\\n    return \\"\u8fd0\u884c\u901a\u7528\u4ee3\u7801\\";\\n  }\\n};\\n```\\n\\n```json\\n  \\"scripts\\": {\\n    \\"build:aa\\": \\"webpack --env user=aa\\",\\n    \\"build:bb\\": \\"webpack --env user=bb\\",\\n    \\"build:cc\\": \\"webpack --env user=cc\\"\\n  },\\n```\\n\\n#### 3. \u5b66\u4e60 Taro \u6846\u67b6\u7684\u601d\u60f3\uff0c\u901a\u8fc7\u6587\u4ef6\u540e\u7f00\u8fdb\u884c\u5ba2\u6237\u73af\u5883\u7684\u533a\u5206\\n\\n\u6211\u6839\u636e taro \u6846\u67b6\u4e2d\uff0c\u4e0d\u540c\u6587\u4ef6\u540e\u7f00\u4ee3\u8868\u4e0d\u540c\u7aef\u7684\u601d\u8def\uff0c\u5f00\u53d1\u4e86\u4e00\u6b3e\u63d2\u4ef6\uff0cnpm \u5730\u5740\uff1a[@fu1996/webapck-resolver-mode-plugin - npm (npmjs.com)](https://www.npmjs.com/package/@fu1996/webapck-resolver-mode-plugin)\u3002\\n\\n\u63a5\u4e0b\u6765\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u4f7f\u7528\u6d41\u7a0b\u3002\\n\\n\u9996\u5148\u5b89\u88c5\u4e00\u4e0b\u63d2\u4ef6\uff1a\\n\\n```bash\\n# \u4e3a\u5f53\u524d\u9879\u76ee\u5b89\u88c5\\nnpm i -D @fu1996/webapck-resolver-mode-plugin\\n```\\n\\n\u7136\u540e\u518d webpack \u4e2d\u8fdb\u884c\u4f7f\u7528\uff0c\u4fee\u6539`webpack.config.js`\uff0c\u6ce8\u610f\u662f\u5728`resolve`\u4e2d\u6dfb\u52a0\u8be5\u63d2\u4ef6\uff1a\\n\\n```js\\n// \u5f15\u5165\u8be5\u63d2\u4ef6\\nconst WebpackResolverModePlugin = require(\'@fu1996/webapck-resolver-mode-plugin\');\\n\\n// resolve \u4e2d\u8ffd\u52a0\\nresolve: {\\n            plugins: [\\n              new WebpackResolverModePlugin({\\n                exclude: /node_modules/, // \u6392\u9664\u7684\u76ee\u5f55\\n                includeFileSuffix: [\\".js\\", \\".jsx\\"], // \u53c2\u4e0e\u6761\u4ef6\u6e32\u67d3\u7684\u6587\u4ef6\u540e\u7f00\\n                mode: user, // \u76ee\u6807 \u6a21\u5f0f\uff1a\u6839\u636e\u6b64\u6a21\u5f0f \u81ea\u52a8\u6253\u5305\\n              })\\n            ],\\n        },\\n```\\n\\n\u6b64\u5904\u7684 mode \u4f1a\u6839\u636e\u4e0a\u9762\u7684 \u7528\u6237 \u6807\u8bc6 \u8fdb\u884c\u9002\u914d\uff0c\u6bd4\u5982 user \u662f aa\uff0c\u5f53\u524d\u5f15\u7528\u7684\u6587\u4ef6\u662f`xxx`\uff0c\u90a3\u4e48\u5c31\u4f1a`\u4f18\u5148\u5bfb\u627e xxx.aa.js` \u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5c31\u53bb`\u5bfb\u627e xxx.js`\u7684\u6587\u4ef6 \u8fdb\u884c\u4f7f\u7528\u3002\\n\\n\u5bf9\u73b0\u6709\u4ee3\u7801\u8fdb\u884c\u66f4\u6539\uff1a\\n\\n\u9996\u5148\u5c06\uff1a`getUserText`\u65b9\u6cd5\u4e2d\u7684\u5ba2\u6237\u4ee3\u7801\u62bd\u79bb\u5230\u4e0d\u540c\u6587\u4ef6\u540e\u7f00\u7684\u6587\u4ef6\u4e2d\uff08\u5e8f\u53f7 1\uff09\uff0c\u7136\u540e\u5c06\u5176\u5f15\u5165\uff08\u5e8f\u53f7 2\uff09\uff0c\u7136\u540e\u4fee\u6539\u4f7f\u7528\u903b\u8f91\uff08\u5e8f\u53f7 3\uff09\\n\\n![image-20221229225742348](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229225742348.png)\\n\\n![image-20221229225944758](./\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42/image-20221229225944758.png)\\n\\n\u5982\u679c\u8fd0\u884c `npm run build:aa`\u3002\u6253\u51fa\u6765\u7684\u5305\u5c31 \u4f1a\u4f18\u5148\u5bfb\u627e\u4ee5 `aa.js`\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5e76\u6253\u5165\u751f\u4ea7 js \u4e2d\u3002\\n\\n\u7ed3\u8bba\uff1a\\n\\n\u4f18\u70b9\uff1a\u4e1a\u52a1\u4ee3\u7801\u548c\u6587\u4ef6\u540e\u7f00\u8fdb\u884c\u7ed1\u5b9a\uff0c\u6bd4\u8f83\u663e\u800c\u6613\u89c1\uff0c\u5e76\u4e14\u540e\u671f\u6613\u7ef4\u62a4\u3002\\n\\n\u7f3a\u70b9\uff1a\u4f1a\u4ea7\u751f\u5927\u91cf\u7684\u4ee5\u5ba2\u6237\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u9700\u8981\u65b0\u5b89\u88c5\u4e00\u4e2a\u63d2\u4ef6\u3002\\n\\n### 3. \u603b\u7ed3\\n\\n|                                             | \u8fd0\u884c\u65f6/\u7f16\u8bd1\u65f6 | \u4e1a\u52a1\u573a\u666f                                                                   | \u4ee3\u7801\u4fb5\u5165\u7ea7\u522b         |\\n| ------------------------------------------- | ------------- | -------------------------------------------------------------------------- | -------------------- |\\n| docker -v \u52a8\u6001\u66ff\u6362 js \u914d\u7f6e\u6587\u4ef6              | \u8fd0\u884c\u65f6        | \u5145\u5f53\u524d\u7aef\u73af\u5883\u53d8\u91cf\uff0c\u524d\u7aef\u52a8\u6001\u914d\u7f6e\u4e0b\u62c9\u9009\uff0c\u5ba2\u6237\u6807\u8bc6\u533a\u5206                         | \u4e1a\u52a1\u573a\u666f\u591a\uff0c\u4e0d\u6613\u533a\u5206 |\\n| \u901a\u8fc7 DefinePlugin \u63d2\u4ef6 \u914d\u7f6e                 | \u7f16\u8bd1\u65f6        | \u2014\u2014 \u89c1\u5b98\u7f51\uff1a[webpack](https://webpack.docschina.org/plugins/define-plugin/) | \u4ee3\u7801\u4fb5\u5165\u6027\u9ad8         |\\n| \u901a\u8fc7 `webapck-resolver-mode-plugin`\u63d2\u4ef6\u914d\u7f6e | \u7f16\u8bd1\u65f6        | \u533a\u5206\u591a\u7248\u672c\uff0c\u591a\u5ba2\u6237\u573a\u666f                                                     | \u5c5e\u4e8e\u6587\u4ef6\u7ea7\u522b\u8fdb\u884c\u533a\u5206 |\\n\\n\u65b9\u6cd5\u4e4b\u95f4\u4e0d\u662f\u4e92\u65a5\u7684\uff0c\u4e00\u4e2a\u9879\u76ee\u91cc\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u65b9\u6cd5\u53bb\u6ee1\u8db3\u590d\u6742\u7684\u4e1a\u52a1\u5f00\u53d1\u573a\u666f\uff0c\u6bd5\u7adf\u53ea\u6709\u9002\u5408\u5f53\u524d\u4e1a\u52a1\u573a\u666f\u7684\u65b9\u6cd5\u624d\u662f\u6700\u597d\u7684\u65b9\u6cd5\u3002\\n\\n\u6587\u7ae0\u76f8\u5173\u7684 Github \u5730\u5740\uff1a[fu1996/for-business-user (github.com)](https://github.com/fu1996/for-business-user)\\n\\n\u5927\u5bb6\u5982\u679c\u6709\u4ec0\u4e48\u5176\u5b83\u597d\u7684\u5efa\u8bae\u548c\u60f3\u6cd5\uff0c\u6b22\u8fce\u8bc4\u8bba\u7559\u8a00\uff0c\u4e00\u8d77\u5b66\u4e60\uff0c\u5171\u540c\u8fdb\u6b65\u3002"},{"id":"/\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93","metadata":{"permalink":"/blog/\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93","source":"@site/blog/\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93.md","title":"\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93","description":"\u524d\u7f6e\u77e5\u8bc6","date":"2021-07-15T17:05:24.000Z","formattedDate":"2021\u5e747\u670815\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":0.865,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-07-15T17:05:24.000Z"},"prevItem":{"title":"\u5982\u4f55\u4e00\u5957\u524d\u7aef\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42","permalink":"/blog/\u5982\u4f55\u4e00\u5957\u4ee3\u7801\u6ee1\u8db3\u591a\u4e2a\u5ba2\u6237\u7684\u5b9a\u5236\u5316\u9700\u6c42"},"nextItem":{"title":"js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/blog/js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f"}},"content":"## \u524d\u7f6e\u77e5\u8bc6\\n\\n**npm link** \u8c03\u8bd5\u7684\u76f8\u5173\u77e5\u8bc6 https://www.jianshu.com/p/aaa7db89a5b2\\n\\n## \u88ab\u8c03\u8bd5\u7684\u4ee3\u7801\u5e93\\n\\n[redux-saga-mate](https://www.npmjs.com/package/redux-saga-mate)\\n\\n1. \u62c9\u53d6\u5bf9\u5e94\u7684\u4ee3\u7801\u5e93\uff0c\u5e76\u5b89\u88c5\u76f8\u5173\u4f9d\u8d56\\n\\n2. \u56e0\u4e3a\u8981\u8c03\u8bd5 \u7b2c\u4e09\u65b9\u5e93 \u6240\u4ee5\u8981\u65f6\u523b\u76d1\u542c \u4ee3\u7801\u5e93\u7684\u4fee\u6539\\n\\n3. \u4fee\u6539 packgae.json \u6587\u4ef6\\n\\n4. ```diff\\n\\n   -    \\"build\\": \\"rollup -c\\",\\n   +    \\"build\\": \\"rollup -c --watch --sourcemap\\",\\n   ```\\n\\n5. \u5c06\u8be5\u4ee3\u7801\u5e93 \u4ee3\u7406\u5230\u672c\u5730\\n\\n6. ```\\n   npm link\\n   ```\\n\\n7. \u5728\u9879\u76ee\u4e2d\u4f7f\u7528 \u8be5 \u4ee3\u7801\u5e93\\n\\n8. ```\\n   npm link redux-saga-mate\\n\\n\\n   ```\\n\\n9. \u968f\u4fbf\u5728\u4ee3\u7801\u5e93\u4e2d \u5199\u4e2a console \u770b\u63a7\u5236\u53f0\\n\\n# \u5982\u4f55\u8c03\u8bd5\u4e00\u4e9b\u725b\u6279\u7684\u4ee3\u7801\u5e93\\n\\n\u4e00\u822c\u5176 readme \u91cc\u9762\u90fd\u6709 \u5982\u4f55\u8d21\u732e\u4f60\u7684\u4ee3\u7801\u7684\u90e8\u5206\uff0c\u53ef\u4ee5\u6765\u5e2e\u4f60\u542f\u52a8\u548c\u8c03\u8bd5\u4ee3\u7801"},{"id":"/js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f","metadata":{"permalink":"/blog/js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f","source":"@site/blog/js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f.md","title":"js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f","description":"\u4f5c\u8005\uff1aholyZheng","date":"2021-04-07T19:37:22.000Z","formattedDate":"2021\u5e744\u67087\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":7.775,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-04-07T19:37:22.000Z"},"prevItem":{"title":"\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93","permalink":"/blog/\u5982\u4f55\u8c03\u8bd5\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93"},"nextItem":{"title":"\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG","permalink":"/blog/\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG"}},"content":"\u4f5c\u8005\uff1aholyZheng\\n\\n[\u539f\u6587\u94fe\u63a5](https://github.com/HolyZheng/holyZheng-blog/issues/8)\\n\\n## 1.\u8bbe\u8ba1\u6a21\u5f0f\u7684\u5206\u7c7b\\n\\n### 1.\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff1a\u4e13\u6ce8\u4e8e\u5904\u7406\u5bf9\u8c61\u7684\u521b\u5efa\\n\\n- Constructor \u6784\u9020\u5668\u6a21\u5f0f\\n- Factory \u5de5\u5382\u6a21\u5f0f\\n- Singleton \u5355\u4f8b\u6a21\u5f0f\\n- builder \u751f\u6210\u5668\u6a21\u5f0f\\n\\n### 2.\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff1a\u5bf9\u8c61\u95f4\u7ec4\u5408\uff0c\u5efa\u7acb\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\\n\\n- Decorator \u88c5\u9970\u8005\u6a21\u5f0f\\n- Facade \u5916\u89c2\u6a21\u5f0f\\n- Flyweight \u4eab\u5143\u6a21\u5f0f\\n- Adapter \u9002\u914d\u5668\u6a21\u5f0f\\n- Proxy \u4ee3\u7406\u6a21\u5f0f\\n\\n### 3.\u884c\u4e3a\u8bbe\u8ba1\u6a21\u5f0f\uff1a\u7b80\u5316\u548c\u6539\u5584\u5bf9\u8c61\u95f4\u7684\u901a\u4fe1\\n\\n- Mediator \u4e2d\u4ecb\u8005\u6a21\u5f0f\\n- Observer \u89c2\u5bdf\u8005\u6a21\u5f0f\\n\\n## 2.\u5e38\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\\n\\n### 1.\u89c2\u5bdf\u8005\u6a21\u5f0f\\n\\n\u4e00\u4e2a\u76ee\u6807\u5bf9\u8c61\u7ef4\u6301\u7740\u4e00\u7cfb\u5217\u4f9d\u8d56\u4e8e\u5b83\u7684\u5bf9\u8c61\uff0c\u5c06\u6709\u5173\u72b6\u6001\u7684\u4efb\u4f55\u53d8\u66f4\u81ea\u52a8\u901a\u77e5\u89c2\u5bdf\u8005\u4eec\uff0c\u5728\u89c2\u5bdf\u8005\u6a21\u5f0f\u4e2d\uff0c\u89c2\u5bdf\u8005\u9700\u8981\u76f4\u63a5\u8ba2\u9605\u76ee\u6807\u5bf9\u8c61\uff0c\u89c2\u5bdf\u8005\u4e0e\u76ee\u6807\u5bf9\u8c61\u4e4b\u95f4\u6709\u4e00\u5b9a\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\\n\\n- \u76ee\u6807\u5bf9\u8c61\uff08\u88ab\u89c2\u5bdf\u8005\uff09\uff1a\u7ef4\u62a4\u4e00\u7ec4\u89c2\u5bdf\u60a3\u8005\uff0c\u63d0\u4f9b\u7ba1\u7406\u89c2\u5bdf\u8005\u7684\u65b9\u6cd5\\n- \u89c2\u5bdf\u8005\uff1a\u63d0\u4f9b\u4e00\u4e2a\u66f4\u65b0\u63a5\u53e3\uff0c\u7528\u4e8e\u6536\u5230\u901a\u77e5\u65f6\uff0c\u8fdb\u884c\u66f4\u65b0\\n- \u5177\u4f53\u76ee\u6807\u5bf9\u8c61\uff1a\u4ee3\u8868\u5177\u4f53\u7684\u76ee\u6807\u5bf9\u8c61\\n- \u5177\u4f53\u89c2\u5bdf\u8005\uff1a\u4ee3\u8868\u5177\u4f53\u7684\u89c2\u5bdf\u8005\\n\\n```js\\n// \u76ee\u6807\u5bf9\u8c61\\nclass Subject {\\n  constructor() {\\n    // \u89c2\u5bdf\u8005\u7684\u5217\u8868\\n    this.observers = [];\\n  }\\n  addObserver(observer) {\\n    this.observers.push(observer);\\n  }\\n  removeObserver() {\\n    this.observers.pop();\\n  }\\n  notify() {\\n    this.observers.forEach((observer) => {\\n      observer.update();\\n    });\\n  }\\n}\\n\\n// \u89c2\u5bdf\u8005\\nclass Observer {\\n  constructor() {\\n    console.log(\\"Observer\\");\\n  }\\n  // \u4f7f\u7528\u65f6\u4f1a\u88ab\u5177\u4f53update \u65b9\u6cd5\u8986\u76d6\\n  update() {\\n    console.log(\\"Observer-- update\\");\\n  }\\n}\\n\\n// \u5177\u4f53\u76ee\u6807\u5bf9\u8c61 -\u81ea\u8eab\u72b6\u6001\u66f4\u65b0\u901a\u77e5\u5176 \u89c2\u5bdf\u8005\\nclass currentSubject extends Subject {\\n  constructor() {\\n    super();\\n  }\\n  // \u5176\u4ed6\u81ea\u5b9a\u4e49\u65b9\u6cd5\\n  doSomeThing() {\\n    console.log(\\"currentSubject change\\");\\n    this.notify(); // \u901a\u77e5\u5176 \u89c2\u5bdf\u8005\\n  }\\n}\\n\\n// \u5177\u4f53\u89c2\u5bdf\u8005 \u2014\u2014\u7528\u6765\u76d1\u63a7\u76ee\u6807\u5bf9\u8c61\\nclass currentObserver extends Observer {\\n  constructor() {\\n    super();\\n  }\\n\\n  update() {\\n    console.log(\\"change\\");\\n  }\\n}\\n\\n// \u5b9e\u4f53\\nlet curSubject = new currentSubject();\\n// \u76d1\u63a7\u8005\\nlet curObserver = new currentObserver();\\n// \u5b9e\u4f53\u6dfb\u52a0\u76d1\u63a7\u8005\\ncurSubject.addObserver(curObserver);\\n\\n// \u624b\u52a8 \u89e6\u53d1\\ncurObserver.update();\\n// \u7531\u5b9e\u4f53 \u53d8\u66f4\u89e6\u53d1\\ncurSubject.doSomeThing();\\n```\\n\\n### 2.\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\\n\\n\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\uff08vue \u4e2d\u7684 eventBus\uff0cwindow \u5bf9\u8c61\u7684 addEventListener\uff09\u662f\u5bf9\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u4e00\u79cd\u53d8\u4f53\uff0c\u4e00\u79cd\u5b9e\u73b0\u3002\u5b83\u4f7f\u7528\u4e00\u4e2a\u4e3b\u9898/\u4e8b\u4ef6\u901a\u9053\uff0c\u4ecb\u4e8e\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u4e4b\u95f4\uff0c\u907f\u514d\u4e86\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\\n\\n```js\\n// \u7b80\u5355\u7248\u7684\\nclass EventBus {\\n  constructor() {\\n    this.topics = {};\\n  }\\n\\n  on(type, fn) {\\n    if (!this.topics[type]) {\\n      this.topics[type] = [];\\n    }\\n    this.topics[type].push(fn);\\n  }\\n  emit(type) {\\n    this.topics[type].forEach((fn) => fn());\\n  }\\n}\\n\\nconst easyBus = new EventBus();\\neasyBus.on(\\"click\\", () => console.log(\\"click\\"));\\neasyBus.emit(\\"click\\");\\n\\n// \u590d\u6742\u7248\u7684\\nclass PubSub {\\n  constructor() {\\n    // \u5bf9\u8c61 \u8bb0\u5f55 \u4e8b\u4ef6\u7c7b\u578b\u548c\u5bf9\u5e94\u7684\u65b9\u6cd5\\n    this.topics = {};\\n  }\\n  // \u53d1\u5e03\u901a\u77e5\\n  publish(topic, args) {\\n    if (!this.topics[topic]) {\\n      return;\\n    }\\n    let subscribers = this.topics[topic];\\n    subscribers.forEach((subscriber) => subscriber.update(args));\\n  }\\n  // \u8ba2\u9605\\n  subscribe(topic, subscriber) {\\n    if (!this.topics[topic]) {\\n      this.topics[topic] = [];\\n    }\\n    this.topics[topic].push(subscriber);\\n  }\\n  // \u53d6\u6d88\u8ba2\u9605\\n  unsubscribe(topic) {\\n    if (this.topics[topic] && this.topics[topic].length) {\\n      this.topics[topic].length = 0;\\n    }\\n  }\\n  // \u4e00\u6b21\u6027\u7684\u8ba2\u9605\\n  one(topic, args) {\\n    if (this.topics[topic] && this.topics[topic].length) {\\n      this.publish(topic, args);\\n      this.unsubscribe(topic);\\n    }\\n  }\\n}\\n\\nclass Sub {\\n  constructor() {\\n    this.update = function (data) {\\n      console.log(\\"update\\", data);\\n    };\\n  }\\n}\\n\\nlet pubsub = new PubSub();\\n\\nlet subscribe = new Sub();\\n\\npubsub.subscribe(\\"one\\", subscribe);\\n\\npubsub.publish(\\"one\\", \\"some args\\");\\npubsub.one(\\"one\\", \\"some args\\");\\n```\\n\\n### 3.\u5de5\u5382\u6a21\u5f0f\\n\\n\u5de5\u5382\u51fd\u6570\u63d0\u4f9b\u4e00\u4e2a\u901a\u7528\u7684\u63a5\u53e3\u6765\u521b\u5efa\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u6211\u4eec\u5e0c\u671b\u521b\u5efa\u7684\u5bf9\u8c61\u7c7b\u578b\uff0c\u901a\u8fc7\u5de5\u5382\u51fd\u6570\u9700\u8981\u4ec0\u4e48\u7c7b\u578b\u7684\u5bf9\u8c61\u5e76\u63d0\u4f9b\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684\u5b9e\u4f8b\u3002\\n\\n```js\\nclass Car {\\n  constructor(options) {\\n    this.doors = options.doors || 4;\\n    this.state = options.state || \\"brand new\\";\\n    this.color = options.color || \\"silver\\";\\n  }\\n}\\n\\nclass Truck {\\n  constructor(options) {\\n    this.state = options.state || \\"used\\";\\n    this.wheelSize = options.wheelSize || \\"large\\";\\n    this.color = options.color || \\"blue\\";\\n  }\\n}\\n\\nfunction vehicleFactory(options) {\\n  if (options.type === \\"car\\") {\\n    return new Car(options);\\n  } else {\\n    return new Truck(options);\\n  }\\n}\\n```\\n\\n**\u4f55\u65f6\u4f7f\u7528\u5de5\u5382\u6a21\u5f0f**\\n\\n- \u5f53\u6211\u4eec\u7684\u5bf9\u8c61\u6bd4\u8f83\u590d\u6742\u7684\u65f6\u5019\\n- \u5f53\u6211\u4eec\u9700\u8981\u6839\u636e\u4e0d\u540c\u60c5\u51b5\u521b\u5efa\u4e0d\u540c\u5bf9\u8c61\u5b9e\u4f8b\u7684\u65f6\u5019\\n- \u5f53\u6211\u4eec\u9700\u8981\u521b\u5efa\u8bb8\u591a\u76f8\u4f3c\u5bf9\u8c61\u7684\u65f6\u5019\\n\\n**\u7f3a\u70b9**\\n\\n- \u4f7f\u7528\u4e0d\u5f53\u4f1a\u589e\u52a0\u7a0b\u5e8f\u7684\u590d\u6742\u5ea6\\n\\n### 4.\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\\n\\n\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff0c\u5c06\u5bf9\u8c61\u7684\u5b9e\u73b0\u7ec6\u8282\u62bd\u79bb\u51fa\u6765\uff0c\u9002\u7528\u4e8e\u9700\u8981\u548c\u591a\u79cd\u5bf9\u8c61\u4e00\u8d77\u5de5\u4f5c\u7684\u573a\u666f\\n\\n```js\\nclass Truck {\\n  constructor(options) {\\n    this.state = options.state || \\"used\\";\\n    this.wheelSize = options.wheelSize || \\"large\\";\\n    this.color = options.color || \\"blue\\";\\n  }\\n}\\n\\nclass Car {\\n  constructor(options) {\\n    this.doors = options.doors || \\"4\\";\\n    this.state = options.state || \\"brand new\\";\\n    this.color = options.color || \\"silver\\";\\n  }\\n}\\n\\nclass AbstractFactory {\\n  constructor() {\\n    this.types = {};\\n  }\\n  // \u628a \u5de5\u5382\u5bf9\u8c61 \u548c\u7c7b\u578b\u8fdb\u884c\u5173\u8054\\n  registerFactory(type, factory) {\\n    this.types[type] = factory;\\n  }\\n  getInstance(type, args) {\\n    let factory = this.types[type];\\n    if (factory) {\\n      return new factory(args);\\n    }\\n  }\\n}\\n\\nlet abstractFactory = new AbstractFactory();\\n\\nabstractFactory.registerFactory(\\"car\\", Car);\\nabstractFactory.registerFactory(\\"truck\\", Truck);\\n\\n// \u521b\u5efa\u6c7d\u8f66\u5b9e\u4f8b\\nconst myCar = abstractFactory.getInstance(\\"car\\", {\\n  doors: 5,\\n  state: \\"car\\",\\n  color: \\"blue\\",\\n});\\n\\nconsole.log(myCar);\\n```\\n\\n### 5.\u5355\u4f8b\u6a21\u5f0f\\n\\n\u5355\u4f8b\u6a21\u5f0f\u9650\u5236\u4e00\u4e2a\u7c7b \u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5316\u5bf9\u8c61\\n\\n```js\\nclass Obj {\\n  constructor(data) {\\n    console.log(data);\\n    this.data = data;\\n  }\\n}\\n\\n// \u5229\u7528\u95ed\u5305\u7684\u6027\u8d28\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f  \u6b64\u5904 \u76f4\u63a5\u6539\u4e3a\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u51fd\u6570\u4e86\\nfunction singleton(data) {\\n  let instance;\\n  return (function () {\\n    if (!instance) {\\n      instance = new Obj(data);\\n    }\\n    return instance;\\n  })();\\n}\\n\\nconst one = singleton(\\"aa\\");\\n// console.log(one())\\n```\\n\\n### 6.\u4e2d\u4ecb\u8005\u6a21\u5f0f\\n\\n\u4e2d\u4ecb\u8005\u6a21\u5f0f\u5c31\u662f\u63d0\u4f9b\u4e00\u4e2a\u4e2d\u5fc3\u70b9\u7ed9\u7cfb\u7edf\u4e0d\u540c\u7ec4\u4ef6\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\uff0c\u964d\u4f4e\u7cfb\u7edf\u7ec4\u4ef6\u4e4b\u95f4\u7684\u8026\u5408\u7a0b\u5ea6\u3002\\n\\n\u5b9e\u73b0\u6a21\u5f0f\u4e0e\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u7c7b\u4f3c\\n\\n\u89c2\u5bdf\u8005\u6a21\u5f0f\u548c\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u4e13\u6ce8\u4e8e\u7ef4\u62a4\u76ee\u6807\u5bf9\u8c61\u548c\u89c2\u5bdf\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5f53\u4e3b\u9898\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u65f6\u5019\uff0c\u901a\u77e5\u6240\u6709\u5bf9\u8be5\u4e3b\u9898\u611f\u5174\u8da3\u7684\u89c2\u5bdf\u8005\uff0c\u800c\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u8bdd\uff0c\u4e13\u6ce8\u4e8e\u9650\u5236\u5bf9\u8c61\u7684\u901a\u4fe1\u5fc5\u987b\u901a\u8fc7\u4e2d\u4ecb\u8005\u6765\u901a\u4fe1\uff0c\u4e24\u8005\u90fd\u63d0\u5021\u677e\u8026\u5408\u3002\\n\\n### 7.\u88c5\u9970\u8005\u6a21\u5f0f\u3010\u7c7b\u6bd4\u88c5\u9970\u5668\u3011\\n\\n\u88c5\u9970\u8005\u6a21\u5f0f\uff0c\u901a\u8fc7\u4e00\u4e2a\u88c5\u9970\u7c7b\u5bf9\u73b0\u6709\u52a8\u6001\u6dfb\u52a0\u884c\u4e3a\uff0c\u4ee5\u53ca\u5bf9\u539f\u6709\u884c\u4e3a\u8fdb\u884c\u88c5\u9970\\n\\n```js\\nconst david = {\\n  name: \\"david\\",\\n  eat: function () {\\n    return this.name + \\"  eating\\";\\n  },\\n};\\n\\nconst M2O = function (o) {\\n  const str = \\"20\u591a\u5c81\u65f6\u5019\\";\\n  this.eat = function () {\\n    return str + o.eat() + \\"\u80a5\u7684\u5f88\\";\\n  };\\n};\\nconsole.log(david.eat()); // david  eating\\nconsole.log(new M2O(david).eat()); // 20\u591a\u5c81\u65f6\u5019david  eating\u80a5\u7684\u5f88\\n```\\n\\n### 8.\u9002\u914d\u5668\u6a21\u5f0f\\n\\n\u4f7f\u7528\u4e00\u4e2a\u65b0\u7684\u63a5\u53e3\u5bf9\u73b0\u6709\u63a5\u53e3\u8fdb\u884c\u5305\u88c5\uff0c\u5904\u7406\u6570\u636e\u548c\u63a5\u53e3\u7684\u4e0d\u5339\u914d\\n\\n```js\\nfunction api(x1, x2, x3) {\\n  console.log(x1 + x2 + x3);\\n}\\n\\nconst data = {\\n  a: \\"a\\",\\n  b: \\"b\\",\\n  c: \\"c\\",\\n};\\n\\nfunction adapterApi(o) {\\n  // \u901a\u8fc7\u9002\u914d\u5668\u51fd\u6570\u6765\u8c03\u7528\u76ee\u524d\u7684api\\n  api(o.a, o.b, o.c);\\n}\\nconsole.log(data);\\n\\nadapterApi(data);\\n```"},{"id":"/\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG","metadata":{"permalink":"/blog/\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG","source":"@site/blog/\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG.md","title":"\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG","description":"\u6b64\u524d\u5de5\u4f5c\u5f88\u5c11\u603b\u7ed3\uff0c\u90fd\u662f\u76f4\u63a5\u7ebf\u4e0a\u8c03\u8bd5\uff0c\u9047\u5230\u95ee\u9898\u89e3\u51b3\u95ee\u9898","date":"2021-04-02T14:06:21.000Z","formattedDate":"2021\u5e744\u67082\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":2.935,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-04-02T14:06:21.000Z"},"prevItem":{"title":"js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/blog/js\u4e2d\u7684\u8bbe\u8ba1\u6a21\u5f0f"},"nextItem":{"title":"normalizr\u7684\u5b98\u65b9API","permalink":"/blog/normalizr\u7684\u5b98\u65b9API"}},"content":"**\u6b64\u524d\u5de5\u4f5c\u5f88\u5c11\u603b\u7ed3\uff0c\u90fd\u662f\u76f4\u63a5\u7ebf\u4e0a\u8c03\u8bd5\uff0c\u9047\u5230\u95ee\u9898\u89e3\u51b3\u95ee\u9898**\\n\\n## 1.\u5f15\u7528\u7c7b\u578b \u548c \u6df1\u62f7\u8d1d \u548c \u7eaf\u51fd\u6570\\n\\n### \u573a\u666f\u63cf\u8ff0\uff1a\\n\\n\u6709\u4e00\u4e2a\u52a8\u6001\u6e32\u67d3\u7684\u6570\u7ec4\uff0c\u6570\u7ec4\u91cc\u9762\u5b58\u50a8\u7684\u662f\u5bf9\u8c61\u7684\u5f62\u5f0f\uff0c\u4f8b\u5982\uff1a\\n\\n```json\\n{\\n  \\"list\\": [{ \\"key\\": \\"||\\" }, { \\"key\\": \\"&&\\" }],\\n  \\"id\\": \\"3\\"\\n}\\n```\\n\\n\u6bcf\u6b21\u63d0\u4ea4\u7ed9\u540e\u7aef\u6570\u636e\u65f6\u9700\u8981\u5bf9\u6570\u7ec4\u7684\u6700\u540e\u4e00\u9879\u7684 key \u8fdb\u884c\u7f6e\u7a7a\u3002\u540c\u65f6\u8be5\u6570\u636e\u4f1a\u540c\u6b65\u5b58\u5230 redux \u4e2d\u3002\\n\\n### \u65e0\u6df1\u62f7\u8d1d \u4e0d\u7eaf\u7684\u51fd\u6570\\n\\n```js\\nconst deleteLastItemType = (list = []) => {\\n  if (isEmpty(list)) {\\n    return [];\\n  }\\n  // \u6b64\u5904\u7684\u5f15\u7528\u8fd8\u662f redux \u4e2d\u5b58\u50a8\u7684\u5f15\u7528\\n  const lastItem = list.pop();\\n  lastItem.key = \\"\\";\\n  return [...list, lastItem];\\n};\\n\\nconst list = [{ key: \\"||\\" }, { key: \\"&&\\" }];\\nconsole.log(deleteLastItemType(list)); // [ { key: \'||\' }, { key: \'\' } ]\\nconsole.log(list); // [ { key: \'||\' } ] \u771f\u6b63\u7684\u5b58\u5728redux \u4e2d\u7684\u6570\u636e\\n```\\n\\n\u7ed9\u540e\u7aef\u7684\u6570\u636e\u5bf9\u8c61\u4e2d\u7684 list \u6bcf\u6b21\u90fd\u4f1a\u7ecf\u8fc7\u8fd9\u4e2a`deleteLastItemType`\u5904\u7406\uff0c\u56e0\u4e3a\u6ca1\u6709\u505a\u6df1\u62f7\u8d1d\uff0c\u5bfc\u81f4\u7528\u6237\u7684\u6bcf\u6b21\u63d0\u4ea4\uff0c\u754c\u9762\u4e0a\u90fd\u4f1a\u5c11\u4e00\u4e2a\u5143\u7d20\u3002\u3010\u7b26\u5408 pop \u7684\u4f5c\u7528\u3011\\n\\n### \u6709\u6df1\u62f7\u8d1d \u7eaf\u51fd\u6570\\n\\n```js\\nconst { clone, isEmpty } = require(\\"ramda\\");\\nconst deleteLastItemDeepClone = (list = []) => {\\n  if (isEmpty(list)) {\\n    return [];\\n  }\\n  // \u6b64\u5904\u7684\u5f15\u7528\u8fd8\u662f redux \u4e2d\u5b58\u50a8\u7684\u5f15\u7528\\n  const newLastItem = clone(list);\\n  const lastItem = newLastItem.pop();\\n  lastItem.key = \\"\\";\\n  return [...newLastItem, lastItem];\\n};\\n\\nconst list2 = [{ key: \\"||\\" }, { key: \\"&&\\" }];\\nconsole.log(deleteLastItemDeepClone(list2)); // [ { key: \'||\' }, { key: \'\' } ]\\nconsole.log(list2); // [ { key: \'||\' }, { key: \'&&\' } ]\\n```\\n\\n## 2.\u589e\u52a0\u9ed8\u8ba4\u503c\u7684\u4f7f\u7528 \u53ef\u4ee5\u51cf\u5c11 if \u5224\u65ad\u7684\u6761\u4ef6\\n\\n```js\\nconst obj = { b: \\"1\\" };\\nconst { a = {}, b } = obj;\\nconsole.log(a); // {} \u4e0d\u4f1a\u662f undefined\\nconsole.log(b); // 1\\n```\\n\\n## 3. lodash \u4e2d\u7684 isEmpty \u548c ramda \u4e2d\u7684 isEmpty \u5bf9 undefined \u7ed3\u679c\u4e0d\u540c\\n\\n### lodash \u7248\u672c\\n\\n```js\\nconst { isEmpty } = require(\\"lodash\\");\\n\\nconsole.log(isEmpty(undefined)); // true \u3010\u6ce8\u610f\u3011\\nconsole.log(isEmpty({})); // true\\nconsole.log(!undefined); // true\\nconsole.log(![]); // false\\nconsole.log(isEmpty([])); // true\\n```\\n\\n### ramda \u7248\u672c\\n\\n```js\\nconst { isEmpty } = require(\\"ramda\\");\\nconsole.log(isEmpty(undefined)); // false \u3010\u6ce8\u610f\u3011\\nconsole.log(isEmpty({})); // true\\nconsole.log(!undefined); // true\\nconsole.log(![]); // false\\nconsole.log(isEmpty([])); // true\\n```\\n\\n## 4.\u8fb9\u754c\u5224\u65ad\u6761\u4ef6\\n\\n\u8bfb\u53d6\u5c5e\u6027\u53ef\u4ee5\u4f7f\u7528 `?.`\u548c`??`\u4f46\u662f\u65e5\u540e\u8c03\u8bd5\u4e0d\u662f\u5f88\u65b9\u4fbf\uff0c\u6ca1\u6709\u62a5\u9519\u4e0d\u5bb9\u6613\u53d1\u73b0\u95ee\u9898\\n\\n\u4ece\u6570\u7ec4\u4e2d\u53d6\u51fa\u67d0\u4e00\u9879\u7684\u5e76\u5bf9\u5176\u8fdb\u884c\u6570\u636e\u4fee\u6539\u7684\u65f6\u5019\\n\\n1. \u6570\u7ec4\u662f\u5426\u4e3a\u7a7a\\n2. \u53d6\u51fa\u6765\u7684\u9879\u662f\u5426\u5b58\u5728\\n3. \u8be5\u9879\u7684\u67d0\u4e9b\u5c5e\u6027\u662f\u5426\u5b58\u5728\\n\\n\u8fdb\u884c if \u5224\u65ad\u7684\u65f6\u5019 \u6709 null \u548c undefined"},{"id":"/normalizr\u7684\u5b98\u65b9API","metadata":{"permalink":"/blog/normalizr\u7684\u5b98\u65b9API","source":"@site/blog/normalizr\u7684\u5b98\u65b9API.md","title":"normalizr\u7684\u5b98\u65b9API","description":"- normalize","date":"2021-03-17T09:50:59.000Z","formattedDate":"2021\u5e743\u670817\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"normalizr","permalink":"/blog/tags/normalizr"}],"readingTime":11.495,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"normalizr\u7684\u5b98\u65b9API","categories":["js","work"],"tags":["js","work","normalizr"],"date":"2021-03-17T09:50:59.000Z"},"prevItem":{"title":"\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG","permalink":"/blog/\u4e0d\u591f\u7ec6\u8282\u5bfc\u81f4\u7684BUG"},"nextItem":{"title":"normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668","permalink":"/blog/normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668"}},"content":"- [normalize](#normalizedata-schema)\\n- [denormalize](#denormalizeinput-schema-entities)\\n- [schema](#schema)\\n  - [Array](#arraydefinition-schemaattribute)\\n  - [Entity](#entitykey-definition---options--)\\n  - [Object](#objectdefinition)\\n  - [Union](#uniondefinition-schemaattribute)\\n  - [Values](#valuesdefinition-schemaattribute)\\n\\n## `normalize(data, schema)`\\n\\nNormalizes input data per the schema definition provided.\\n\\n- `data`: **required** Input JSON (or plain JS object) data that needs normalization.\\n- `schema`: **required** A schema definition\\n\\n### Usage\\n\\n```js\\nimport { normalize, schema } from \\"normalizr\\";\\n\\nconst myData = { users: [{ id: 1 }, { id: 2 }] };\\nconst user = new schema.Entity(\\"users\\");\\nconst mySchema = { users: [user] };\\nconst normalizedData = normalize(myData, mySchema);\\n```\\n\\n### Output\\n\\n```js\\n{\\n  result: { users: [ 1, 2 ] },\\n  entities: {\\n    users: {\\n      \'1\': { id: 1 },\\n      \'2\': { id: 2 }\\n    }\\n  }\\n}\\n```\\n\\n## `denormalize(input, schema, entities)`\\n\\nDenormalizes an input based on schema and provided entities from a plain object or Immutable data. The reverse of `normalize`.\\n\\n_Special Note:_ Be careful with denormalization. Prematurely reverting your data to large, nested objects could cause performance impacts in React (and other) applications.\\n\\nIf your schema and data have recursive references, only the first instance of an entity will be given. Subsequent references will be returned as the `id` provided.\\n\\n- `input`: **required** The normalized result that should be _de-normalized_. Usually the same value that was given in the `result` key of the output of `normalize`.\\n- `schema`: **required** A schema definition that was used to get the value for `input`.\\n- `entities`: **required** An object, keyed by entity schema names that may appear in the denormalized output. Also accepts an object with Immutable data.\\n\\n### Usage\\n\\n```js\\nimport { denormalize, schema } from \\"normalizr\\";\\n\\nconst user = new schema.Entity(\\"users\\");\\nconst mySchema = { users: [user] };\\nconst entities = { users: { 1: { id: 1 }, 2: { id: 2 } } };\\nconst denormalizedData = denormalize({ users: [1, 2] }, mySchema, entities);\\n```\\n\\n### Output\\n\\n```js\\n{\\n  users: [{ id: 1 }, { id: 2 }];\\n}\\n```\\n\\n## `schema`\\n\\n### `Array(definition, schemaAttribute)`\\n\\nCreates a schema to normalize an array of schemas. If the input value is an `Object` instead of an `Array`, the normalized result will be an `Array` of the `Object`\'s values.\\n\\n_Note: The same behavior can be defined with shorthand syntax: `[ mySchema ]`_\\n\\n- `definition`: **required** A singular schema that this array contains _or_ a mapping of schema to attribute values.\\n- `schemaAttribute`: _optional_ (required if `definition` is not a singular schema) The attribute on each entity found that defines what schema, per the definition mapping, to use when normalizing.  \\n  Can be a string or a function. If given a function, accepts the following arguments:  \\n   _ `value`: The input value of the entity.\\n  _ `parent`: The parent object of the input array. \\\\* `key`: The key at which the input array appears on the parent object.\\n\\n#### Instance Methods\\n\\n- `define(definition)`: When used, the `definition` passed in will be merged with the original definition passed to the `Array` constructor. This method tends to be useful for creating circular references in schema.\\n\\n#### Usage\\n\\nTo describe a simple array of a singular entity type:\\n\\n```js\\nconst data = [\\n  { id: \\"123\\", name: \\"Jim\\" },\\n  { id: \\"456\\", name: \\"Jane\\" },\\n];\\nconst userSchema = new schema.Entity(\\"users\\");\\n\\nconst userListSchema = new schema.Array(userSchema);\\n// or use shorthand syntax:\\nconst userListSchema = [userSchema];\\n\\nconst normalizedData = normalize(data, userListSchema);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    users: {\\n      \'123\': { id: \'123\', name: \'Jim\' },\\n      \'456\': { id: \'456\', name: \'Jane\' }\\n    }\\n  },\\n  result: [ \'123\', \'456\' ]\\n}\\n```\\n\\nIf your input data is an array of more than one type of entity, it is necessary to define a schema mapping.\\n\\n_Note: If your data returns an object that you did not provide a mapping for, the original object will be returned in the result and an entity will not be created._\\n\\nFor example:\\n\\n```js\\nconst data = [\\n  { id: 1, type: \\"admin\\" },\\n  { id: 2, type: \\"user\\" },\\n];\\n\\nconst userSchema = new schema.Entity(\\"users\\");\\nconst adminSchema = new schema.Entity(\\"admins\\");\\nconst myArray = new schema.Array(\\n  {\\n    admins: adminSchema,\\n    users: userSchema,\\n  },\\n  (input, parent, key) => `${input.type}s`\\n);\\n\\nconst normalizedData = normalize(data, myArray);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    admins: { \'1\': { id: 1, type: \'admin\' } },\\n    users: { \'2\': { id: 2, type: \'user\' } }\\n  },\\n  result: [\\n    { id: 1, schema: \'admins\' },\\n    { id: 2, schema: \'users\' }\\n  ]\\n}\\n```\\n\\n### `Entity(key, definition = {}, options = {})`\\n\\n- `key`: **required** The key name under which all entities of this type will be listed in the normalized response. Must be a string name.\\n- `definition`: A definition of the nested entities found within this entity. Defaults to empty object.  \\n  You _do not_ need to define any keys in your entity other than those that hold nested entities. All other values will be copied to the normalized entity\'s output.\\n- `options`:\\n  - `idAttribute`: The attribute where unique IDs for each of this entity type can be found.  \\n    Accepts either a string `key` or a function that returns the IDs `value`. Defaults to `\'id\'`.  \\n    As a function, accepts the following arguments, in order:\\n    - `value`: The input value of the entity.\\n    - `parent`: The parent object of the input array.\\n    - `key`: The key at which the input array appears on the parent object.\\n  - `mergeStrategy(entityA, entityB)`: Strategy to use when merging two entities with the same `id` value. Defaults to merge the more recently found entity onto the previous.\\n  - `processStrategy(value, parent, key)`: Strategy to use when pre-processing the entity. Use this method to add extra data, defaults, and/or completely change the entity before normalization is complete. Defaults to returning a shallow copy of the input entity.  \\n    _Note: It is recommended to always return a copy of your input and not modify the original._  \\n    The function accepts the following arguments, in order:\\n    - `value`: The input value of the entity.\\n    - `parent`: The parent object of the input array.\\n    - `key`: The key at which the input array appears on the parent object.\\n  - `fallbackStrategy(key, schema)`: Strategy to use when denormalizing data structures with id references to missing entities.\\n    - `key`: The key at which the input array appears on the parent object.\\n    - `schema`: The schema of the missing entity\\n\\n#### Instance Methods\\n\\n- `define(definition)`: When used, the `definition` passed in will be merged with the original definition passed to the `Entity` constructor. This method tends to be useful for creating circular references in schema.\\n\\n#### Instance Attributes\\n\\n- `key`: Returns the key provided to the constructor.\\n- `idAttribute`: Returns the idAttribute provided to the constructor in options.\\n\\n#### Usage\\n\\n```js\\nconst data = {\\n  id_str: \\"123\\",\\n  url: \\"https://twitter.com\\",\\n  user: { id_str: \\"456\\", name: \\"Jimmy\\" },\\n};\\n\\nconst user = new schema.Entity(\\"users\\", {}, { idAttribute: \\"id_str\\" });\\nconst tweet = new schema.Entity(\\n  \\"tweets\\",\\n  { user: user },\\n  {\\n    idAttribute: \\"id_str\\",\\n    // Apply everything from entityB over entityA, except for \\"favorites\\"\\n    mergeStrategy: (entityA, entityB) => ({\\n      ...entityA,\\n      ...entityB,\\n      favorites: entityA.favorites,\\n    }),\\n    // Remove the URL field from the entity\\n    processStrategy: (entity) => omit(entity, \\"url\\"),\\n  }\\n);\\n\\nconst normalizedData = normalize(data, tweet);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    tweets: { \'123\': { id_str: \'123\', user: \'456\' } },\\n    users: { \'456\': { id_str: \'456\', name: \'Jimmy\' } }\\n  },\\n  result: \'123\'\\n}\\n```\\n\\n#### `idAttribute` Usage\\n\\nWhen passing the `idAttribute` a function, it should return the IDs value.\\n\\nFor Example:\\n\\n```js\\nconst data = [\\n  { id: \\"1\\", guest_id: null, name: \\"Esther\\" },\\n  { id: \\"1\\", guest_id: \\"22\\", name: \\"Tom\\" },\\n];\\n\\nconst patronsSchema = new schema.Entity(\\"patrons\\", undefined, {\\n  // idAttribute *functions* must return the ids **value** (not key)\\n  idAttribute: (value) =>\\n    value.guest_id ? `${value.id}-${value.guest_id}` : value.id,\\n});\\n\\nnormalize(data, [patronsSchema]);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    patrons: {\\n      \'1\': { id: \'1\', guest_id: null, name: \'Esther\' },\\n      \'1-22\': { id: \'1\', guest_id: \'22\', name: \'Tom\' },\\n    }\\n  },\\n  result: [\'1\', \'1-22\']\\n}\\n```\\n\\n#### `fallbackStrategy` Usage\\n\\n```js\\nconst users = {\\n  1: { id: \\"1\\", name: \\"Emily\\", requestState: \\"SUCCEEDED\\" },\\n  2: { id: \\"2\\", name: \\"Douglas\\", requestState: \\"SUCCEEDED\\" },\\n};\\nconst books = {\\n  1: { id: \\"1\\", name: \\"Book 1\\", authors: 1 },\\n  2: { id: \\"2\\", name: \\"Book 2\\", authors: 2 },\\n  3: { id: \\"3\\", name: \\"Book 3\\", authors: 3 },\\n};\\n\\nconst authorSchema = new schema.Entity(\\n  \\"authors\\",\\n  {},\\n  {\\n    fallbackStrategy: (key, schema) => {\\n      return {\\n        [schema.idAttribute]: key,\\n        name: \\"Unknown\\",\\n        requestState: \\"NONE\\",\\n      };\\n    },\\n  }\\n);\\nconst bookSchema = new schema.Entity(\\"books\\", {\\n  authors: authorSchema,\\n});\\n\\ndenormalize([1, 2, 3], [bookSchema], {\\n  books,\\n  authors: users,\\n});\\n```\\n\\n#### Output\\n\\n```js\\n[\\n  {\\n    id: \\"1\\",\\n    name: \\"Book 1\\",\\n    authors: { id: \\"1\\", name: \\"Emily\\", requestState: \\"SUCCEEDED\\" },\\n  },\\n  {\\n    id: \\"2\\",\\n    name: \\"Book 2\\",\\n    authors: { id: \\"2\\", name: \\"Douglas\\", requestState: \\"SUCCEEDED\\" },\\n  },\\n  {\\n    id: \\"3\\",\\n    name: \\"Book 3\\",\\n    authors: { id: \\"3\\", name: \\"Unknown\\", requestState: \\"NONE\\" },\\n  },\\n];\\n```\\n\\n### `Object(definition)`\\n\\nDefine a plain object mapping that has values needing to be normalized into Entities. _Note: The same behavior can be defined with shorthand syntax: `{ ... }`_\\n\\n- `definition`: **required** A definition of the nested entities found within this object. Defaults to empty object.  \\n  You _do not_ need to define any keys in your object other than those that hold other entities. All other values will be copied to the normalized output.\\n\\n#### Instance Methods\\n\\n- `define(definition)`: When used, the `definition` passed in will be merged with the original definition passed to the `Object` constructor. This method tends to be useful for creating circular references in schema.\\n\\n#### Usage\\n\\n```js\\n// Example data response\\nconst data = { users: [{ id: \\"123\\", name: \\"Beth\\" }] };\\n\\nconst user = new schema.Entity(\\"users\\");\\nconst responseSchema = new schema.Object({ users: new schema.Array(user) });\\n// or shorthand\\nconst responseSchema = { users: new schema.Array(user) };\\n\\nconst normalizedData = normalize(data, responseSchema);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    users: { \'123\': { id: \'123\', name: \'Beth\' } }\\n  },\\n  result: { users: [ \'123\' ] }\\n}\\n```\\n\\n### `Union(definition, schemaAttribute)`\\n\\nDescribe a schema which is a union of multiple schemas. This is useful if you need the polymorphic behavior provided by `schema.Array` or `schema.Values` but for non-collection fields.\\n\\n- `definition`: **required** An object mapping the definition of the nested entities found within the input array\\n- `schemaAttribute`: **required** The attribute on each entity found that defines what schema, per the definition mapping, to use when normalizing.  \\n  Can be a string or a function. If given a function, accepts the following arguments:\\n  - `value`: The input value of the entity.\\n  - `parent`: The parent object of the input array.\\n  - `key`: The key at which the input array appears on the parent object.\\n\\n#### Instance Methods\\n\\n- `define(definition)`: When used, the `definition` passed in will be merged with the original definition passed to the `Union` constructor. This method tends to be useful for creating circular references in schema.\\n\\n#### Usage\\n\\n_Note: If your data returns an object that you did not provide a mapping for, the original object will be returned in the result and an entity will not be created._\\n\\n```js\\nconst data = { owner: { id: 1, type: \\"user\\", name: \\"Anne\\" } };\\n\\nconst user = new schema.Entity(\\"users\\");\\nconst group = new schema.Entity(\\"groups\\");\\nconst unionSchema = new schema.Union(\\n  {\\n    user: user,\\n    group: group,\\n  },\\n  \\"type\\"\\n);\\n\\nconst normalizedData = normalize(data, { owner: unionSchema });\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    users: { \'1\': { id: 1, type: \'user\', name: \'Anne\' } }\\n  },\\n  result: { owner: { id: 1, schema: \'user\' } }\\n}\\n```\\n\\n### `Values(definition, schemaAttribute)`\\n\\nDescribes a map whose values follow the given schema.\\n\\n- `definition`: **required** A singular schema that this array contains _or_ a mapping of schema to attribute values.\\n- `schemaAttribute`: _optional_ (required if `definition` is not a singular schema) The attribute on each entity found that defines what schema, per the definition mapping, to use when normalizing.  \\n  Can be a string or a function. If given a function, accepts the following arguments:\\n  - `value`: The input value of the entity.\\n  - `parent`: The parent object of the input array.\\n  - `key`: The key at which the input array appears on the parent object.\\n\\n#### Instance Methods\\n\\n- `define(definition)`: When used, the `definition` passed in will be merged with the original definition passed to the `Values` constructor. This method tends to be useful for creating circular references in schema.\\n\\n#### Usage\\n\\n```js\\nconst data = { firstThing: { id: 1 }, secondThing: { id: 2 } };\\n\\nconst item = new schema.Entity(\\"items\\");\\nconst valuesSchema = new schema.Values(item);\\n\\nconst normalizedData = normalize(data, valuesSchema);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    items: { \'1\': { id: 1 }, \'2\': { id: 2 } }\\n  },\\n  result: { firstThing: 1, secondThing: 2 }\\n}\\n```\\n\\nIf your input data is an object that has values of more than one type of entity, but their schema is not easily defined by the key, you can use a mapping of schema, much like `schema.Union` and `schema.Array`.\\n\\n_Note: If your data returns an object that you did not provide a mapping for, the original object will be returned in the result and an entity will not be created._\\n\\nFor example:\\n\\n```js\\nconst data = {\\n  1: { id: 1, type: \\"admin\\" },\\n  2: { id: 2, type: \\"user\\" },\\n};\\n\\nconst userSchema = new schema.Entity(\\"users\\");\\nconst adminSchema = new schema.Entity(\\"admins\\");\\nconst valuesSchema = new schema.Values(\\n  {\\n    admins: adminSchema,\\n    users: userSchema,\\n  },\\n  (input, parent, key) => `${input.type}s`\\n);\\n\\nconst normalizedData = normalize(data, valuesSchema);\\n```\\n\\n#### Output\\n\\n```js\\n{\\n  entities: {\\n    admins: { \'1\': { id: 1, type: \'admin\' } },\\n    users: { \'2\': { id: 2, type: \'user\' } }\\n  },\\n  result: {\\n    \'1\': { id: 1, schema: \'admins\' },\\n    \'2\': { id: 2, schema: \'users\' }\\n  }\\n}\\n```"},{"id":"/normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668","metadata":{"permalink":"/blog/normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668","source":"@site/blog/normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668.md","title":"normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668","description":"1.\u57fa\u7840\u4f7f\u7528","date":"2021-03-17T09:50:42.000Z","formattedDate":"2021\u5e743\u670817\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"normalizr","permalink":"/blog/tags/normalizr"}],"readingTime":3.37,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668","categories":["js","work"],"tags":["js","work","normalizr"],"date":"2021-03-17T09:50:42.000Z"},"prevItem":{"title":"normalizr\u7684\u5b98\u65b9API","permalink":"/blog/normalizr\u7684\u5b98\u65b9API"},"nextItem":{"title":"\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI","permalink":"/blog/\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI"}},"content":"## 1.\u57fa\u7840\u4f7f\u7528\\n\\n### \u67e5\u627e\u89c4\u5219\\n\\n```js\\nconst { normalize, schema } = require(\\"normalizr\\");\\n\\nconst myData = {\\n  userss: [\\n    {\\n      id: 1,\\n      name: \\"fjk\\",\\n    },\\n    {\\n      id: 2,\\n    },\\n  ],\\n};\\n// myUser \u662f\u5c06\u6765\u751f\u6210\u7684\u5bf9\u8c61\u7684\u952e\\nconst user = new schema.Entity(\\"myUser\\");\\n// \u5b9a\u4e49\u67e5\u627e\u89c4\u5219\\nconst mySchema3 = { users: [user], userss: [user] };\\n\\n// \u56e0\u4e3a \u952e users \u5728 myData \u4e2d\u5339\u914d\u4e0d\u5230 \u6240\u4ee5\u4e3a\u7a7a\\n// \u952e userss \u53ef\u4ee5\u5728 myData \u4e2d\u5339\u914d\u5230 \u6240\u4ee5\u53ef\u4ee5\u67e5\u627e\u5230\\nconst normalizedData3 = normalize(myData, mySchema3);\\n// \u6253\u5370\u7ed3\u679c\\nconsole.log(normalizedData3.entities); // { myUser: { \'1\': { id: 1, name: \'fjk\' }, \'2\': { id: 2 } } }\\n```\\n\\n### \u5bf9\u6bd4\u6765\u7406\u89e3\\n\\n```js\\nconst { normalize, schema } = require(\\"normalizr\\");\\n\\nconst myData = {\\n  userss: [\\n    {\\n      id: 1,\\n      name: \\"fjk\\",\\n    },\\n    {\\n      id: 2,\\n    },\\n  ],\\n};\\n\\nconst user = new schema.Entity(\\"myUser\\");\\nconst mySchema = { users: [user] };\\nconst mySchema2 = { userss: [user] };\\nconst mySchema3 = { users: [user], userss: [user] };\\n\\nconst normalizedData = normalize(myData, mySchema);\\nconst normalizedData2 = normalize(myData, mySchema2);\\nconst normalizedData3 = normalize(myData, mySchema3);\\nconsole.log(normalizedData.entities); // {} \u56e0\u4e3a \u952e users \u5728 myData \u4e2d\u5339\u914d\u4e0d\u5230 \u6240\u4ee5\u4e3a\u7a7a\\n// \u952e userss \u53ef\u4ee5\u5728 myData \u4e2d\u5339\u914d\u5230 \u6240\u4ee5\u53ef\u4ee5\u67e5\u627e\u5230\\nconsole.log(normalizedData2.entities); // { myUser: { \'1\': { id: 1, name: \'fjk\' }, \'2\': { id: 2 } } }\\nconsole.log(normalizedData3.entities); // { myUser: { \'1\': { id: 1, name: \'fjk\' }, \'2\': { id: 2 } } }\\n```\\n\\n## 2.\u6570\u7ec4\u9879\u7684\u4f7f\u7528\\n\\n```js\\nconst { normalize, schema } = require(\\"normalizr\\");\\n\\nconst data = [\\n  { id: \\"123\\", name: \\"Jim\\" },\\n  { id: \\"456\\", name: \\"Jane\\" },\\n];\\n\\nconst userSchema = new schema.Entity(\\"userArray\\");\\n\\nconst userListScheme = new schema.Array(userSchema);\\n// \u5feb\u6377\u5199\u6cd5\\n// const userListScheme = [userSchema]\\n\\n// \u628a\u6570\u7ec4\u7684\u9879 \u5f53\u4f5c\u4e00\u4e2a\u6570\u636e \u6765\u63d0\u53d6\u51fa\u6765\u6210\u4e3a\u4e00\u4e2a\u5bf9\u8c61 \u9ed8\u8ba4\u5176 id \u4e3a\u952e\uff0c\u503c\u4e3a\u6570\u7ec4\u9879\\nconst norData = normalize(data, userListScheme);\\nconsole.log(norData.entities);\\n// {\\n//   userArray: {\\n//     \'123\': { id: \'123\', name: \'Jim\' },\\n//     \'456\': { id: \'456\', name: \'Jane\' }\\n//   }\\n// }\\n```\\n\\n## 3.\u5bf9\u8c61\u7684\u4f7f\u7528\\n\\n\u6839\u636e\u5df2\u63d0\u4f9b\u6570\u636e\u7684\u67d0\u4e00\u9879\u7684\u503c\u4f5c\u4e3a\u952e\u6765\u4f7f\u7528\\n\\n\u4e3e\u4f8b\\n\\n```js\\nconst data = [\\n  { id: 1, type: \\"admin\\", name: \\"fjk\\" },\\n  { id: 2, type: \\"user\\" },\\n];\\n```\\n\\n\u60f3\u6839\u636e data \u6570\u636e\u4e2d\u7684 type \u9879\u5bf9\u5e94\u7684\u503c\u6765\u5f53\u4f5c\u952e\u6765\u4f7f\u7528\\n\\n```js\\nconst { normalize, schema } = require(\\"normalizr\\");\\n\\nconst data = [\\n  { id: 1, type: \\"admin\\", name: \\"fjk\\" },\\n  { id: 2, type: \\"user\\", name: \\"f\\" },\\n];\\n\\nconst userSchema = new schema.Entity(\\"users\\");\\n\\nconst admineSchema = new schema.Entity(\\"myAdmin\\");\\n\\nconst myArray = new schema.Array(\\n  {\\n    admins: admineSchema,\\n    users: userSchema,\\n  },\\n  // \u4e0b\u9762\u90a3\u4e2a\u51fd\u6570\u7684\u5339\u914d\u89c4\u5219 \u5bf9\u5e94\u4e0a\u9762\u5bf9\u8c61\u4e2d\u7684\u952e\\n  (input, parent, key) => `${input.type}s`\\n);\\nconst myArray2 = new schema.Array(\\n  {\\n    admins: admineSchema,\\n    users: userSchema,\\n    fjk: new schema.Entity(\\"fjks\\"),\\n    ff: new schema.Entity(\\"f\\"),\\n  },\\n  // \u6b64\u5904\u8fd4\u56de\u7684 input name \u7684\u53d6\u503c \u4e3a fjk \u548c f \u5176\u4e2d\u53ea\u6709 fjk \u53ef\u4ee5\u5bf9\u5e94\u4e0a\u5bf9\u8c61\u4e2d\u7684\u952e\\n  // \u5e94\u7528 fjk:new schema.Entity(\'fjks\') \u7684\u5339\u914d\u89c4\u5219 \u751f\u6210\u6570\u636e\u952e\u540d\u4e3a fjks \u7684\u6570\u636e\\n  (input, parent, key) => `${input.name}`\\n);\\nconst norData = normalize(data, myArray);\\nconsole.log(norData.entities);\\n// {\\n//   myAdmin: { \'1\': { id: 1, type: \'admin\', name: \'fjk\' } },\\n//   users: { \'2\': { id: 2, type: \'user\',name:\'f\' } }\\n// }\\nconst norData2 = normalize(data, myArray2);\\nconsole.log(norData2.entities);\\n//  fjks: { \'1\': { id: 1, type: \'admin\', name: \'fjk\' } } }\\n```"},{"id":"/\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI","metadata":{"permalink":"/blog/\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI","source":"@site/blog/\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI.md","title":"\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI","description":"1.\u5e26\u7740\u95ee\u9898\u53bb\u5b66\u4e60","date":"2021-02-27T15:32:48.000Z","formattedDate":"2021\u5e742\u670827\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":9.1,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-27T15:32:48.000Z"},"prevItem":{"title":"normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668","permalink":"/blog/normalizr\u683c\u5f0f\u5316\u6570\u636e\u5229\u5668"},"nextItem":{"title":"\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58","permalink":"/blog/\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58"}},"content":"## 1.\u5e26\u7740\u95ee\u9898\u53bb\u5b66\u4e60\\n\\n- \u6570\u7ec4\u7684\u6784\u9020\u5668\u6709\u54ea\u51e0\u79cd\uff1f\\n- \u54ea\u4e9b\u662f\u6539\u53d8\u81ea\u8eab\u7684\u65b9\u6cd5\uff1f\\n- \u54ea\u4e9b\u4e0d\u662f\u6539\u53d8\u81ea\u8eab\u7684\u65b9\u6cd5\uff1f\\n- \u904d\u5386\u7684\u65b9\u6cd5\u6709\u54ea\u4e9b\uff1f\\n\\n## 2.\u6570\u7ec4\u7684\u6784\u9020\u5668\\n\\n### \u4f7f\u7528\u6784\u9020\u5668 Array \u548c\u5b57\u9762\u91cf []\\n\\n\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a\u957f\u5ea6\u4e0d\u4e3a 0\uff0c\u4f46\u662f\u53c8\u6ca1\u6709\u4efb\u4f55\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u53ef\u9009\u4ee5\u4e0b\u4efb\u4f55\u4e00\u79cd\u65b9\u5f0f\uff1a\\n\\n```js\\nvar arr = new Array(arrayLength); // \u65b9\u6cd5\u4e00\\n\\nvar arr = Array(arrayLength); // \u65b9\u6cd5\u4e8c\\n\\n// \u8fd9\u6837\u6709\u540c\u6837\u7684\u6548\u679c \u65b9\u6cd5\u4e09\\nvar arr = [];\\narr.length = arrayLength;\\n\\n// demo\\nvar arr = [42]; // \u521b\u5efa\u4e00\u4e2a\u53ea\u6709\u552f\u4e00\u5143\u7d20\u7684\u6570\u7ec4:\\n// the number 42.\\nvar arr = Array(42); // \u521b\u5efa\u4e00\u4e2a\u6ca1\u6709\u5143\u7d20\u7684\u6570\u7ec4,\\n// \u4f46\u662f\u6570\u7ec4\u7684\u957f\u5ea6\u88ab\u8bbe\u7f6e\u621042.\\n\\n// \u4e0a\u9762\u7684\u4ee3\u7801\u4e0e\u4e0b\u9762\u7684\u4ee3\u7801\u7b49\u4ef7\\nvar arr = [];\\narr.length = 42;\\n```\\n\\n**\u6ce8\u610f:** \u4ee5\u4e0a\u4ee3\u7801\uff0c\u6570\u7ec4\u957f\u5ea6\uff08arrayLength\uff09\u5fc5\u987b\u4e3a\u4e00\u4e2a\u6570\u5b57\uff08Number\uff09\u3002\u5426\u5219\uff0c\u5c06\u4f1a\u521b\u5efa\u4e00\u4e2a\u53ea\u6709\u5355\u4e2a\uff08\u6240\u8f93\u5165\u7684\uff09\u5143\u7d20\u7684\u6570\u7ec4\u3002 \u8c03\u7528 `arr.length` \u4f1a\u8fd4\u56de\u6570\u7ec4\u957f\u5ea6\uff0c\u4f46\u662f\u6570\u7ec4\u5b9e\u9645\u4e0a\u5305\u542b\u4e86\u7a7a\u7684\uff08`undefined`\uff09\u5143\u7d20\u3002 \u56e0\u6b64\u5728\u6570\u7ec4\u4e0a\u4f7f\u7528 `for...in` \u5faa\u73af\uff0c\u5c06\u4e0d\u4f1a\u8fd4\u56de\u4efb\u4f55\u7684\u503c \u3002\\n\\n### \u4f7f\u7528 ES6 \u65b0\u589e\u7684\u6784\u9020\u65b9\u6cd5\uff1aArray.of \u548c Array.from\\n\\n**Array.of**\\n\\nArray.of \u51e0\u4e4e\u548c Array \u7684\u6784\u9020\u5668\u529f\u80fd\u4e00\u76f4\uff0c\u552f\u4e00\u533a\u522b\u5728\u5355\u4e2a\u6570\u5b57\u53c2\u6570\u7684\u5904\u7406\u4e0a\\n\\n\u5f53\u53c2\u6570\u4e3a 1 \u4e2a\u65f6\u5019\uff0cArray.of \u662f\u628a\u53c2\u6570\u53d8\u4e3a\u6570\u7ec4\u7684\u4e00\u9879\uff0c\u800c Array \u662f\u751f\u6210\u957f\u5ea6\u548c\u53c2\u6570\u76f8\u540c\u7684\u6570\u7ec4\\n\\n```js\\nArray.of(8.0); // [8]\\nArray(8.0); // [empty \xd7 8]\\nArray.of(8.0, 5); // [8, 5]\\nArray(8.0, 5); // [8, 5]\\nArray.of(\\"8\\"); // [\\"8\\"]\\nArray(\\"8\\"); // [\\"8\\"]\\n```\\n\\n**Array.from**\\n\\n\u770b\u540d\u5b57\u5c31\u53ef\u4ee5\u77e5\u9053\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u57fa\u4e8e\u5176\u4ed6\u5bf9\u8c61\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4\u3002\u3010\u662f\u8fd4\u56de\u65b0\u7684\u6570\u7ec4\uff0c\u4e0d\u6539\u53d8\u539f\u5bf9\u8c61\u3011\uff0c\u53ea\u8981\u4e00\u4e2a\u5bf9\u8c61\u6709\u8fed\u4ee3\u5668\uff0cArray.from \u5c31\u4f1a\u628a\u5b83\u53d8\u4e3a\u4e00\u4e2a\u6570\u7ec4\u3002\\n\\n\u6b64\u51fd\u6570\u63a5\u53d7 3 \u4e2a\u53c2\u6570\\n\\n1. \u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5fc5\u9009\\n2. \u52a0\u5de5\u51fd\u6570\uff0c\u65b0\u751f\u6210\u7684\u6570\u7ec4\u4f1a\u7ecf\u8fc7\u8be5\u51fd\u6570\u7684\u52a0\u5de5\u518d\u8fd4\u56de\\n3. this \u4f5c\u7528\u57df\uff0c\u8868\u793a\u52a0\u5de5\u51fd\u6570\u6267\u884c\u65f6 this \u7684\u503c\\n\\n```js\\nvar obj = { 0: \\"a\\", 1: \\"b\\", 2: \\"c\\", length: 3 };\\nArray.from(\\n  obj,\\n  function (value, index) {\\n    console.log(value, index, this, arguments.length);\\n    return value.repeat(3); //\u5fc5\u987b\u6307\u5b9a\u8fd4\u56de\u503c\uff0c\u5426\u5219\u8fd4\u56de undefined\\n  },\\n  obj\\n);\\n```\\n\\n![image-20210227155045570](./\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI/image-20210227155045570.png)\\n\\n\u62e5\u6709\u8fed\u4ee3\u5668\u7684\u5bf9\u8c61\u8fd8\u5305\u62ec String\u3001Set\u3001Map \u7b49\uff0cArray.from \u7edf\u7edf\u53ef\u4ee5\u5904\u7406\\n\\n```js\\n// String\\nArray.from(\\"abc\\"); // [\\"a\\", \\"b\\", \\"c\\"]\\n// Set\\nArray.from(new Set([\\"abc\\", \\"def\\"])); // [\\"abc\\", \\"def\\"]\\n// Map\\nArray.from(\\n  new Map([\\n    [1, \\"ab\\"],\\n    [2, \\"de\\"],\\n  ])\\n);\\n// [[1, \'ab\'], [2, \'de\']]\\n```\\n\\n### Array \u7684\u5224\u65ad\\n\\n```\\nvar a = [];\\n// 1.\u57fa\u4e8einstanceof\\na instanceof Array;\\n// 2.\u57fa\u4e8econstructor\\na.constructor === Array;\\n// 3.\u57fa\u4e8eObject.prototype.isPrototypeOf\\nArray.prototype.isPrototypeOf(a);\\n// 4.\u57fa\u4e8egetPrototypeOf\\nObject.getPrototypeOf(a) === Array.prototype;\\n// 5.\u57fa\u4e8eObject.prototype.toString\\nObject.prototype.toString.apply(a) === \'[object Array]\';\\n```\\n\\nES6 \u4e4b\u540e\u65b0\u589e\u4e86\u4e00\u4e2a Array.isArray \u65b9\u6cd5\uff0c\u80fd\u76f4\u63a5\u5224\u65ad\u6570\u636e\u7c7b\u578b\u662f\u5426\u4e3a\u6570\u7ec4\u3002\\n\\n```js\\nif (!Array.isArray) {\\n  Array.isArray = function (arg) {\\n    return Object.prototype.toString.call(arg) === \\"[object Array]\\";\\n  };\\n}\\n```\\n\\n## 3.\u6539\u53d8\u81ea\u8eab\u7684\u65b9\u6cd5\\n\\n\u57fa\u4e8e ES6\uff0c\u4f1a\u6539\u53d8\u81ea\u8eab\u503c\u7684\u65b9\u6cd5\u4e00\u5171\u6709 9 \u4e2a\uff0c\u5206\u522b\u4e3a pop\u3001push\u3001reverse\u3001shift\u3001sort\u3001splice\u3001unshift\uff0c\u4ee5\u53ca\u4e24\u4e2a ES6 \u65b0\u589e\u7684\u65b9\u6cd5 copyWithin \u548c fill\u3002\\n\\n```js\\n// pop\u65b9\u6cd5\\nvar array = [\\"cat\\", \\"dog\\", \\"cow\\", \\"chicken\\", \\"mouse\\"];\\nvar item = array.pop();\\nconsole.log(array); // [\\"cat\\", \\"dog\\", \\"cow\\", \\"chicken\\"]\\nconsole.log(item); // mouse\\n// push\u65b9\u6cd5\\nvar array = [\\"football\\", \\"basketball\\", \\"badminton\\"];\\nvar i = array.push(\\"golfball\\");\\nconsole.log(array);\\n// [\\"football\\", \\"basketball\\", \\"badminton\\", \\"golfball\\"]\\nconsole.log(i); // 4\\n// reverse\u65b9\u6cd5\\nvar array = [1, 2, 3, 4, 5];\\nvar array2 = array.reverse();\\nconsole.log(array); // [5,4,3,2,1]\\nconsole.log(array2 === array); // true\\n// shift\u65b9\u6cd5\\nvar array = [1, 2, 3, 4, 5];\\nvar item = array.shift();\\nconsole.log(array); // [2,3,4,5]\\nconsole.log(item); // 1\\n// unshift\u65b9\u6cd5\\nvar array = [\\"red\\", \\"green\\", \\"blue\\"];\\nvar length = array.unshift(\\"yellow\\");\\nconsole.log(array); // [\\"yellow\\", \\"red\\", \\"green\\", \\"blue\\"]\\nconsole.log(length); // 4\\n// sort\u65b9\u6cd5\\nvar array = [\\"apple\\", \\"Boy\\", \\"Cat\\", \\"dog\\"];\\nvar array2 = array.sort();\\nconsole.log(array); // [\\"Boy\\", \\"Cat\\", \\"apple\\", \\"dog\\"]\\nconsole.log(array2 == array); // true\\n// splice\u65b9\u6cd5\\nvar array = [\\"apple\\", \\"boy\\"];\\nvar splices = array.splice(1, 1);\\nconsole.log(array); // [\\"apple\\"]\\nconsole.log(splices); // [\\"boy\\"]\\n// copyWithin\u65b9\u6cd5\\nvar array = [1, 2, 3, 4, 5];\\nvar array2 = array.copyWithin(1, 3);\\nconsole.log(array === array2, array2); // true [4, 5, 3, 4, 5]\\n// fill\u65b9\u6cd5\\nvar array = [1, 2, 3, 4, 5];\\nvar array2 = array.fill(10, 0, 3);\\nconsole.log(array === array2, array2);\\n// true [10, 10, 10, 4, 5], \u53ef\u89c1\u6570\u7ec4\u533a\u95f4[0,3]\u7684\u5143\u7d20\u5168\u90e8\u66ff\u6362\u4e3a10\\n```\\n\\n```js\\narr.copyWithin(target[, start[, end]])\\n\\nvar array = [1,2,3,4,5];\\nvar array2 = array.copyWithin(1,3); // \u4ece\u7d22\u5f15\u4e3a3\u7684\u5f00\u59cb\u590d\u5236\uff0c\u76f4\u5230\u6700\u540e\uff0c\u628a\u8d4b\u503c\u7684\u503c\u653e\u5728\u7b2c1\u4e2a\u4f4d\u7f6e\u4e0a\\n// [1, 4, 5, 4, 5]\\n\\n```\\n\\n## 4.\u4e0d\u6539\u53d8\u81ea\u8eab\u7684\u65b9\u6cd5\\n\\n\u57fa\u4e8e ES7\uff0c\u4e0d\u4f1a\u6539\u53d8\u81ea\u8eab\u7684\u65b9\u6cd5\u4e5f\u6709 9 \u4e2a\uff0c\u5206\u522b\u4e3a concat\u3001join\u3001slice\u3001toString\u3001toLocaleString\u3001indexOf\u3001lastIndexOf\u3001\u672a\u5f62\u6210\u6807\u51c6\u7684 toSource\uff0c\u4ee5\u53ca ES7 \u65b0\u589e\u7684\u65b9\u6cd5 includes\u3002\\n\\n```js\\n// concat\u65b9\u6cd5\\nvar array = [1, 2, 3];\\nvar array2 = array.concat(4, [5, 6], [7, 8, 9]);\\nconsole.log(array2); // [1, 2, 3, 4, 5, 6, 7, 8, 9]\\nconsole.log(array); // [1, 2, 3], \u53ef\u89c1\u539f\u6570\u7ec4\u5e76\u672a\u88ab\u4fee\u6539\\n// join\u65b9\u6cd5\\nvar array = [\\"We\\", \\"are\\", \\"Chinese\\"];\\nconsole.log(array.join()); // \\"We,are,Chinese\\"\\nconsole.log(array.join(\\"+\\")); // \\"We+are+Chinese\\"\\n// slice\u65b9\u6cd5\\nvar array = [\\"one\\", \\"two\\", \\"three\\", \\"four\\", \\"five\\"];\\nconsole.log(array.slice()); // [\\"one\\", \\"two\\", \\"three\\",\\"four\\", \\"five\\"]\\nconsole.log(array.slice(2, 3)); // [\\"three\\"]\\n// toString\u65b9\u6cd5\\nvar array = [\\"Jan\\", \\"Feb\\", \\"Mar\\", \\"Apr\\"];\\nvar str = array.toString();\\nconsole.log(str); // Jan,Feb,Mar,Apr\\n// tolocalString\u65b9\u6cd5\\nvar array = [{ name: \\"zz\\" }, 123, \\"abc\\", new Date()];\\nvar str = array.toLocaleString();\\nconsole.log(str); // [object Object],123,abc,2016/1/5 \u4e0b\u53481:06:23\\n// indexOf\u65b9\u6cd5\\nvar array = [\\"abc\\", \\"def\\", \\"ghi\\", \\"123\\"];\\nconsole.log(array.indexOf(\\"def\\")); // 1\\n// includes\u65b9\u6cd5\\nvar array = [-0, 1, 2];\\nconsole.log(array.includes(+0)); // true\\nconsole.log(array.includes(1)); // true\\nvar array = [NaN];\\nconsole.log(array.includes(NaN)); // true\\n```\\n\\n## 5.\u6570\u7ec4\u904d\u5386\u7684\u65b9\u6cd5\\n\\n\u57fa\u4e8e ES6\uff0c\u4e0d\u4f1a\u6539\u53d8\u81ea\u8eab\u7684\u904d\u5386\u65b9\u6cd5\u4e00\u5171\u6709 12 \u4e2a\uff0c\u5206\u522b\u4e3a forEach\u3001every\u3001some\u3001filter\u3001map\u3001reduce\u3001reduceRight\uff0c\u4ee5\u53ca ES6 \u65b0\u589e\u7684\u65b9\u6cd5 entries\u3001find\u3001findIndex\u3001keys\u3001values\u3002\\n\\n```js\\n// forEach\u65b9\u6cd5\\nvar array = [1, 3, 5];\\nvar obj = { name: \\"cc\\" };\\nvar sReturn = array.forEach(function (value, index, array) {\\n  array[index] = value;\\n  console.log(this.name); // cc\u88ab\u6253\u5370\u4e86\u4e09\u6b21, this\u6307\u5411obj\\n}, obj);\\nconsole.log(array); // [1, 3, 5]\\nconsole.log(sReturn); // undefined, \u53ef\u89c1\u8fd4\u56de\u503c\u4e3aundefined\\n// every\u65b9\u6cd5\\nvar o = { 0: 10, 1: 8, 2: 25, length: 3 };\\nvar bool = Array.prototype.every.call(\\n  o,\\n  function (value, index, obj) {\\n    return value >= 8;\\n  },\\n  o\\n);\\nconsole.log(bool); // true\\n// some\u65b9\u6cd5\\nvar array = [18, 9, 10, 35, 80];\\nvar isExist = array.some(function (value, index, array) {\\n  return value > 20;\\n});\\nconsole.log(isExist); // true\\n// map \u65b9\u6cd5\\nvar array = [18, 9, 10, 35, 80];\\narray.map((item) => item + 1);\\nconsole.log(array); // [19, 10, 11, 36, 81]\\n// filter \u65b9\u6cd5\\nvar array = [18, 9, 10, 35, 80];\\nvar array2 = array.filter(function (value, index, array) {\\n  return value > 20;\\n});\\nconsole.log(array2); // [35, 80]\\n// reduce\u65b9\u6cd5\\nvar array = [1, 2, 3, 4];\\nvar s = array.reduce(function (previousValue, value, index, array) {\\n  return previousValue * value;\\n}, 1);\\nconsole.log(s); // 24\\n// ES6\u5199\u6cd5\u66f4\u52a0\u7b80\u6d01\\narray.reduce((p, v) => p * v); // 24\\n// reduceRight\u65b9\u6cd5 (\u548creduce\u7684\u533a\u522b\u5c31\u662f\u4ece\u540e\u5f80\u524d\u7d2f\u8ba1)\\nvar array = [1, 2, 3, 4];\\narray.reduceRight((p, v) => p * v); // 24\\n// entries\u65b9\u6cd5\\nvar array = [\\"a\\", \\"b\\", \\"c\\"];\\nvar iterator = array.entries();\\nconsole.log(iterator.next().value); // [0, \\"a\\"]\\nconsole.log(iterator.next().value); // [1, \\"b\\"]\\nconsole.log(iterator.next().value); // [2, \\"c\\"]\\nconsole.log(iterator.next().value); // undefined, \u8fed\u4ee3\u5668\u5904\u4e8e\u6570\u7ec4\u672b\u5c3e\u65f6, \u518d\u8fed\u4ee3\u5c31\u4f1a\u8fd4\u56deundefined\\n// find & findIndex\u65b9\u6cd5\\nvar array = [1, 3, 5, 7, 8, 9, 10];\\nfunction f(value, index, array) {\\n  return value % 2 == 0; // \u8fd4\u56de\u5076\u6570\\n}\\nfunction f2(value, index, array) {\\n  return value > 20; // \u8fd4\u56de\u5927\u4e8e20\u7684\u6570\\n}\\nconsole.log(array.find(f)); // 8\\nconsole.log(array.find(f2)); // undefined\\nconsole.log(array.findIndex(f)); // 4\\nconsole.log(array.findIndex(f2)); // -1\\n// keys\u65b9\u6cd5\\n[...Array(10).keys()]; // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\\n[...new Array(10).keys()]; // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\\n// values\u65b9\u6cd5\\nvar array = [\\"abc\\", \\"xyz\\"];\\nvar iterator = array.values();\\nconsole.log(iterator.next().value); //abc\\nconsole.log(iterator.next().value); //xyz\\n```\\n\\n![img](./\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI/Cip5yGAP1k2ACVqpAAE5zFVPD7o375.png)\\n\\n\u4ee5\u4e0a\uff0c\u6570\u7ec4\u7684\u5404\u65b9\u6cd5\u57fa\u672c\u8bb2\u89e3\u5b8c\u6bd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4e4b\u95f4\u5b58\u5728\u5f88\u591a\u5171\u6027\uff0c\u5982\u4e0b\uff1a\\n\\n\u6240\u6709\u63d2\u5165\u5143\u7d20\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 push\u3001unshift \u4e00\u5f8b\u8fd4\u56de\u6570\u7ec4\u65b0\u7684\u957f\u5ea6\uff1b\\n\\n\u6240\u6709\u5220\u9664\u5143\u7d20\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 pop\u3001shift\u3001splice \u4e00\u5f8b\u8fd4\u56de\u5220\u9664\u7684\u5143\u7d20\uff0c\u6216\u8005\u8fd4\u56de\u5220\u9664\u7684\u591a\u4e2a\u5143\u7d20\u7ec4\u6210\u7684\u6570\u7ec4\uff1b\\n\\n\u90e8\u5206\u904d\u5386\u65b9\u6cd5\uff0c\u6bd4\u5982 forEach\u3001every\u3001some\u3001filter\u3001map\u3001find\u3001findIndex\uff0c\u5b83\u4eec\u90fd\u5305\u542b function(value,index,array){} \u548c thisArg \u8fd9\u6837\u4e24\u4e2a\u5f62\u53c2\u3002"},{"id":"/\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58","metadata":{"permalink":"/blog/\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58","source":"@site/blog/\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58.md","title":"\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58","description":"1.\u7f13\u5b58\u5206\u7c7b\u548c\u5176\u4f7f\u7528\u539f\u56e0","date":"2021-02-27T11:17:17.000Z","formattedDate":"2021\u5e742\u670827\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":8.335,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-27T11:17:17.000Z"},"prevItem":{"title":"\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI","permalink":"/blog/\u6df1\u5165\u6570\u7ec4\u7684\u5404\u4e2aAPI"},"nextItem":{"title":"js\u7684new\u539f\u7406\u548capply-call-bind","permalink":"/blog/js\u7684new\u539f\u7406\u548capply-call-bind"}},"content":"## 1.\u7f13\u5b58\u5206\u7c7b\u548c\u5176\u4f7f\u7528\u539f\u56e0\\n\\n\u524d\u7aef\u7f13\u5b58\u4e3b\u8981\u662f\u5206\u4e3a`HTTP\u7f13\u5b58`\u548c`\u6d4f\u89c8\u5668\u7f13\u5b58`\u3002\u5176\u4e2d HTTP \u7f13\u5b58\u662f\u5728 HTTP \u8bf7\u6c42\u4f20\u8f93\u65f6\u7528\u5230\u7684\u7f13\u5b58\uff0c\u4e3b\u8981\u5728\u670d\u52a1\u5668\u4ee3\u7801\u4e0a\u8bbe\u7f6e\uff1b\u800c\u6d4f\u89c8\u5668\u7f13\u5b58\u5219\u4e3b\u8981\u7531\u524d\u7aef\u5f00\u53d1\u5728\u524d\u7aef js \u4e0a\u8fdb\u884c\u8bbe\u7f6e\u3002\\n\\n\u200b \u7f13\u5b58\u53ef\u4ee5\u8bf4\u662f\u6027\u80fd\u4f18\u5316\u4e2d\u7b80\u5355\u9ad8\u6548\u7684\u4e00\u79cd\u4f18\u5316\u65b9\u5f0f\u4e86\u3002\u4e00\u4e2a\u4f18\u79c0\u7684\u7f13\u5b58\u7b56\u7565\u53ef\u4ee5\u7f29\u77ed\u7f51\u9875\u8bf7\u6c42\u8d44\u6e90\u7684\u8ddd\u79bb\uff0c\u51cf\u5c11\u5ef6\u8fdf\uff0c\u5e76\u4e14\u7531\u4e8e\u7f13\u5b58\u6587\u4ef6\u53ef\u4ee5\u91cd\u590d\u5229\u7528\uff0c\u8fd8\u53ef\u4ee5\u51cf\u5c11\u5e26\u5bbd\uff0c\u964d\u4f4e\u7f51\u7edc\u8d1f\u8377\u3002\\n\\n\u200b \u5bf9\u4e8e\u4e00\u4e2a\u6570\u636e\u8bf7\u6c42\u6765\u8bf4\uff0c\u53ef\u4ee5\u5206\u4e3a\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u3001\u540e\u7aef\u5904\u7406\u3001\u6d4f\u89c8\u5668\u54cd\u5e94\u4e09\u4e2a\u6b65\u9aa4\u3002\u6d4f\u89c8\u5668\u7f13\u5b58\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728\u7b2c\u4e00\u548c\u7b2c\u4e09\u6b65\u9aa4\u4e2d\u4f18\u5316\u6027\u80fd\u3002\u6bd4\u5982\u8bf4\u76f4\u63a5\u4f7f\u7528\u7f13\u5b58\u800c\u4e0d\u53d1\u8d77\u8bf7\u6c42\uff0c\u6216\u8005\u53d1\u8d77\u4e86\u8bf7\u6c42\u4f46\u540e\u7aef\u5b58\u50a8\u7684\u6570\u636e\u548c\u524d\u7aef\u4e00\u81f4\uff0c\u90a3\u4e48\u5c31\u6ca1\u6709\u5fc5\u8981\u518d\u5c06\u6570\u636e\u56de\u4f20\u56de\u6765\uff0c\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u54cd\u5e94\u6570\u636e\u3002\\n\\n\u5c31\u597d\u6bd4\u4f60\u53bb\u5403\u996d\uff0c\u5f00\u59cb\u70b9\u996d\u3010\u7f51\u7edc\u8bf7\u6c42\u3011\uff0c\u5148\u770b\u4e0b\u6709\u6ca1\u6709\u505a\u597d\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u5403\u7684\u3010\u672c\u5730\u7f13\u5b58\u3011\uff0c\u5982\u679c\u6ca1\u6709\u505a\u597d\u7684\uff0c\u548c\u8001\u677f\u5546\u91cf\u4e0b\u5565\u597d\u5403\uff0c\u8ba9\u8001\u677f\u91cd\u65b0\u505a\u65b0\u7684\u3010\u540e\u7aef\u5904\u7406\u3011\uff0c\u7136\u540e\u5f00\u59cb\u4eab\u53d7\u7f8e\u98df\u3010\u6d4f\u89c8\u5668\u54cd\u5e94\u3011\u3002\\n\\n![img](./\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58/13277068-efe830b68127838c.png)\\n\\n### \u8bf7\u6c42\u6b65\u9aa4\\n\\n![image-20191024103732090](./\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58/1460000020786522)\\n\\n## 2.http \u7f13\u5b58\u7684\u5206\u7c7b\\n\\n### \u6982\u5ff5\uff1a\\n\\n1. \u5f3a\u7f13\u5b58\\n2. \u534f\u5546\u7f13\u5b58\\n\\n\u533a\u522b\uff1a\u5f53\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u7684\u65f6\u5019\uff0c\u662f\u5426\u9700\u8981\u53bb\u95ee\u4e0b\u6d4f\u89c8\u5668\uff0c\u8fd9\u4e2a\u7f13\u5b58\u662f\u4e0d\u662f\u4e0d\u80fd\u7528\u4e86\u3002\u3010\u5c31\u662f\u53bb\u5403\u996d\u7684\u65f6\u5019\uff0c\u95ee\u4e0b\u8001\u677f\u6709\u6ca1\u6709\u73b0\u6210\u7684\u505a\u597d\u7684\uff0c\u80fd\u76f4\u63a5\u5f00\u5403\u4e0d\u3011\uff0c\\n\\n\u534f\u5546\u7f13\u5b58\uff1a\u9700\u8981\u548c\u670d\u52a1\u5668\u5546\u91cf\u4e00\u4e0b\uff0c\u6700\u7ec8\u80fd\u5426\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u3002\u3010\u72b6\u6001\u7801 200 \u662f\u6700\u65b0\u7684\uff0c304 \u6ca1\u6709\u66f4\u6539\u3011\\n\\n\u5f3a\u7f13\u5b58\uff1a\u5f3a\u7f13\u5b58\u662f\u76f4\u63a5\u5411\u6d4f\u89c8\u5668\u67e5\u627e\u8bf7\u6c42\u7ed3\u679c\uff0c\u5e76\u6839\u636e\u5176\u4fdd\u8d28\u671f\u3010expire \u548c Cache-Control\u3011\u6765\u5224\u65ad\u8be5\u8d44\u6e90\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u3002\\n\\n## 3.\u5f3a\u5236\u7f13\u5b58\uff1a\u672c\u5730\u7f13\u5b58\\n\\n\u60c5\u51b5 1\uff1a\u4f7f\u7528\u672c\u5730\u7f13\u5b58\uff0c\u4f60\u9996\u5148\u9700\u8981\u672c\u5730\u6709\u8fd9\u4e2a\u7f13\u5b58\u554a\uff0c\u5982\u679c\u6ca1\u6709\u8be5\u7f13\u5b58\u7ed3\u679c\uff0c\u90a3\u4e0d\u884c\u554a\uff0c\u5de7\u5987\u96be\u4e3a\u65e0\u7c73\u4e4b\u708a\uff0c\u76f4\u63a5\u5411\u670d\u52a1\u5668\u8981\u4e00\u4e2a\u6700\u65b0\u7684\u3002\u3010\u672c\u5730\u65e0\u8d44\u6e90=\u300b\u8bf7\u6c42\u670d\u52a1\u5668\u3011\\n\\n\u60c5\u51b5 2\uff1a\u672c\u5730\u6709\u7f13\u5b58\uff0c\u4f46\u662f\u7f13\u5b58\u6807\u8bc6\u5931\u6548\u4e86\u3010\u5230\u4fdd\u8d28\u671f\u4e86\uff0c\u4f46\u662f\u8fd8\u60f3\u5403\u8fd9\u4e2a\u53e3\u5473\u7684\u3011\uff0c\u4e8e\u662f\u4e4e\u5e26\u7740\u8fd9\u4e2a\u7f13\u5b58\u6807\u8bc6\u53bb\u95ee\u95ee\u670d\u52a1\u5668\u548b\u529e\u3010\u6b64\u5904\u9700\u8981\u4f7f\u7528\u534f\u5546\u7f13\u5b58\u4e86\u3011\uff1f\\n\\n\u60c5\u51b5 3\uff1a\u672c\u5730\u6709\u7f13\u5b58\uff0c\u4e14\u6ca1\u6709\u5931\u6548\u3010\u54c8\u54c8\uff0c\u6ca1\u5f97\u8fc7\u671f\uff0c\u76f4\u63a5\u5f00\u6574\u3011\u3002\u4f7f\u7528\u672c\u5730\u7684\u7f13\u5b58\u3002\\n\\n### \u5f3a\u5236\u7f13\u5b58\u7684\u7f13\u5b58\u6807\u8bc6\uff1a\u3010\u4fdd\u8d28\u671f\u3011\\n\\n\u5f53\u6d4f\u89c8\u5668\u8bf7\u6c42\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u670d\u52a1\u5668\u4f1a\u5728\u54cd\u5e94\u5934\u91cc\u9762\u5c06\u8bf7\u6c42\u7ed3\u679c\u4e00\u8d77\u8fd4\u56de\u7ed9\u670d\u52a1\u5668\u3010\u4f60\u53bb\u4e70\u4e1c\u897f\uff0c\u80af\u5b9a\u5e26\u6709\u4fdd\u8d28\u671f\u548c\u8d44\u6e90\u554a\u3011\u3002\u63a7\u5236\u5f3a\u5236\u7f13\u5b58\u7684\u5b57\u6bb5\u5206\u522b\u662f Expires \u548c Cache-Control\uff0c\u5176\u4e2d Cache-Control \u4f18\u5148\u7ea7\u6bd4 Expires \u9ad8\u3002\\n\\n### Expires:\u3010\u5230\u671f\u65e5\u3011\u3010HTTP/1.0\u3011\\n\\n\u5b58\u50a8\u7684\u662f\u670d\u52a1\u5668\u8fd4\u56de\u7684\u8be5\u8bf7\u6c42\u7684\u7f13\u5b58\u7ed3\u679c\u7684\u5230\u671f\u65f6\u95f4\uff0c\u5982\u679c\u4f60\u518d\u6b21\u53d1\u8d77\u8bf7\u6c42\u65f6\u5019\uff0c\u5ba2\u6237\u7aef\u65f6\u95f4\u5c0f\u4e8e\u8be5 Expires \u65f6\u95f4\uff0c\u76f4\u63a5\u4f7f\u7528\u7f13\u5b58\u7ed3\u679c\u3002\u3010\u4e00\u4e2a\u8001\u7684\u5224\u65ad\u8fc7\u671f\u7684\u65b9\u6cd5\uff0c\u662f\u5426\u53ef\u4ee5\u624b\u52a8\u4fee\u6539\u5ba2\u6237\u7aef\u65f6\u95f4\uff0c\u4e00\u76f4\u4f7f\u8be5\u8d44\u6e90\u4e0d\u8fc7\u671f\u5462\uff1f\u6216\u8005\u5b58\u5728\u65f6\u5dee\u5462\uff1f\u3011\\n\\n### Cache-Control\uff1a\u3010\u4fdd\u8d28\u65f6\u95f4\u3011\u3010HTTP/1.1\u3011\\n\\nCache-Control \u7f13\u5b58\u89e3\u51b3\u4e86\u4e0a\u9762 Expires \u4f7f\u7528\u5ba2\u6237\u7aef\u65f6\u95f4\u53bb\u6821\u9a8c\u662f\u5426\u8fc7\u671f\u7684\u95ee\u9898\u3002\\n\\nCache-Control \u7684\u53d6\u503c\\n\\n```\\npublic\uff1a\u6240\u6709\u5185\u5bb9\u90fd\u5c06\u88ab\u7f13\u5b58\uff08\u5ba2\u6237\u7aef\u548c\u4ee3\u7406\u670d\u52a1\u5668\u90fd\u53ef\u7f13\u5b58\uff09\\n\\nprivate\uff1a\u6240\u6709\u5185\u5bb9\u53ea\u6709\u5ba2\u6237\u7aef\u53ef\u4ee5\u7f13\u5b58\uff0cCache-Control\u7684\u9ed8\u8ba4\u53d6\u503c\\n\\nno-cache\uff1a\u5ba2\u6237\u7aef\u7f13\u5b58\u5185\u5bb9\uff0c\u4f46\u662f\u662f\u5426\u4f7f\u7528\u7f13\u5b58\u5219\u9700\u8981\u7ecf\u8fc7\u534f\u5546\u7f13\u5b58\u6765\u9a8c\u8bc1\u51b3\u5b9a\\n\\nno-store\uff1a\u6240\u6709\u5185\u5bb9\u90fd\u4e0d\u4f1a\u88ab\u7f13\u5b58\uff0c\u5373\u4e0d\u4f7f\u7528\u5f3a\u5236\u7f13\u5b58\uff0c\u4e5f\u4e0d\u4f7f\u7528\u534f\u5546\u7f13\u5b58\\n\\nmax-age=xxx (xxx is numeric)\uff1a\u7f13\u5b58\u5185\u5bb9\u5c06\u5728xxx\u79d2\u540e\u5931\u6548\\n```\\n\\n![image-20210227115220003](./\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58/image-20210227115220003.png)\\n\\n### \u6d4f\u89c8\u5668\u7684\u672c\u5730\u7f13\u5b58\u7684\u5b58\u653e\u4f4d\u7f6e\\n\\n![image-20210227115541950](./\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58/image-20210227115541950.png)\\n\\n\u5206\u4e3a\u5185\u5b58\u7f13\u5b58\u3010memory cache\u3011\u548c\u786c\u76d8\u7f13\u5b58\u3010disk cache\u3011\uff0c\u6d4f\u89c8\u5668\u8bfb\u53d6\u987a\u5e8f\u80af\u5b9a\u5148\u4f7f\u7528\u5feb\u7684\u554a\uff0c\u5185\u5b58\u7f13\u5b58\u4f18\u5148\uff0c\u7136\u540e\u662f\u786c\u76d8\u7f13\u5b58\uff0c\u6700\u540e\u662f\u670d\u52a1\u5668\u8bf7\u6c42\u3002\\n\\n\u6d4f\u89c8\u5668\u4f1a\u5728 js \u548c\u56fe\u7247\u7b49\u6587\u4ef6\u89e3\u6790\u6267\u884c\u540e\u76f4\u63a5\u5b58\u5165\u5185\u5b58\u7f13\u5b58\u4e2d\uff0c\u90a3\u4e48\u5f53\u5237\u65b0\u9875\u9762\u65f6\u53ea\u9700\u76f4\u63a5\u4ece\u5185\u5b58\u7f13\u5b58\u4e2d\u8bfb\u53d6(from memory cache)\uff1b\u800c css \u6587\u4ef6\u5219\u4f1a\u5b58\u5165\u786c\u76d8\u6587\u4ef6\u4e2d\uff0c\u6240\u4ee5\u6bcf\u6b21\u6e32\u67d3\u9875\u9762\u90fd\u9700\u8981\u4ece\u786c\u76d8\u8bfb\u53d6\u7f13\u5b58(from disk cache)\u3002\\n\\n## 4.\u534f\u5546\u7f13\u5b58\\n\\n\u534f\u5546\u7f13\u5b58\u65f6\u5f3a\u5236\u7f13\u5b58\u3010\u4fdd\u8d28\u671f\u5230\u671f\u4e86\u3011\u5931\u6548\u540e\uff0c\u6d4f\u89c8\u5668\u643a\u5e26\u7f13\u5b58\u6807\u8bc6\u3010\u76ee\u7684\u662f\u95ee\u95ee\u5ba2\u670d\u8fd8\u80fd\u5403\u4e0d\uff1f\u3011\u5411\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\\n\\n\u60c5\u51b5 1\uff1a\u5ba2\u670d`\u770b\u4e86\u4e00\u773c\u7f13\u5b58\u6807\u8bc6`\u8bf4 \u6ca1\u5173\u7cfb\u7684 \u8fd8\u662f\u80fd\u5403\u7684\uff0c\u53c8\u7ed9\u4e86\u4f60\u4e00\u4e2a\u65b0\u7684\u4fdd\u8d28\u671f\u6807\u7b7e\u3010\u6362\u6362\u6807\u7b7e\u800c\u5df2\uff0c\u4f46\u662f\u5185\u5bb9\u6ca1\u6709\u53d8\u3011\uff0c\u72b6\u6001\u7801\u4e3a 304\\n\\n\u60c5\u51b5 2 \uff1a\u5ba2\u670d`\u770b\u4e86\u4e00\u773c\u7f13\u5b58\u6807\u8bc6`\u8bf4 \u8fc7\u671f\u4e86 \u4e0d\u80fd\u4f7f\u7528\u4e86\uff0c\u7ed9\u60a8\u6765\u4efd\u65b0\u7684\uff0c\u3010\u76f4\u63a5\u4ee5\u65e7\u6362\u65b0\uff0c\u83b7\u53d6\u5168\u65b0\u5185\u5bb9\u548c\u5168\u65b0\u4fdd\u8d28\u671f\u6807\u7b7e\u3011\uff0c\u8fd4\u56de 200 \u5e26\u4e0a\u6700\u65b0\u7684\u4ea7\u54c1\u3002\\n\\n\u90a3\u4e48\u8981\u8bb2\u8bb2\u5ba2\u670d\u600e\u4e48\u770b\u7684\u7f13\u5b58\u6807\u8bc6\u4e86\u3002\\n\\n### \u534f\u5546\u7f13\u5b58\u7684\u7f13\u5b58\u6807\u8bc6\\n\\n\u540c\u6837\uff0c\u534f\u5546\u7f13\u5b58\u7684\u6807\u8bc6\u4e5f\u662f\u5728\u54cd\u5e94\u62a5\u6587\u7684 HTTP \u5934\u4e2d\u548c\u8bf7\u6c42\u7ed3\u679c\u4e00\u8d77\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668\u7684\uff0c\u63a7\u5236\u534f\u5546\u7f13\u5b58\u7684\u5b57\u6bb5\u5206\u522b\u6709\uff1aLast-Modified / If-Modified-Since \u548c Etag / If-None-Match\uff0c\u5176\u4e2d Etag / If-None-Match \u7684\u4f18\u5148\u7ea7\u6bd4 Last-Modified / If-Modified-Since \u9ad8\u3002\\n\\n### Etag:\u670d\u52a1\u5668\u54cd\u5e94\u65f6\u8fd4\u56de\u7684\u5f53\u524d\u8d44\u6e90\u6587\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\\n\\n`If-None-Match`\u5ba2\u6237\u7aef\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u4f1a\u5e26\u4e0a\u4e0a\u6b21\u8bf7\u6c42\u8fd4\u56de\u7684 Etag \u8fd9\u4e2a\u552f\u4e00\u6807\u8bc6\uff0c\u670d\u52a1\u5668\u4f1a\u6839\u636e\u8fd9\u4e2a Etag \u7684\u552f\u4e00\u6807\u8bc6\u6765\u5224\u65ad\u662f\u5426\u6539\u53d8\uff0c\u5982\u679c\u6ca1\u6709\u6539\u53d8\u5c31\u8fd4\u56de 304\uff0c\u7ee7\u7eed\u4f7f\u7528\u7f13\u5b58\u6587\u4ef6\uff0c\u5982\u679c\u6539\u53d8\u4e86\u5c31\u8fd4\u56de 200 \u548c\u65b0\u7684\u8d44\u6e90\u6587\u4ef6\\n\\n### Last-Modified:\u4e0a\u6b21\u8bf7\u6c42\u8fd4\u56de\u7684\u6700\u540e\u88ab\u66f4\u6539\u65f6\u95f4\\n\\nIf-Modified-Since \u4f1a\u643a\u5e26\u4e0a\u6b21\u8bf7\u6c42\u8fd4\u56de\u7684 Last-Modified \u7684\u503c\uff0c\u6765\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u4e0a\u6b21\u8bf7\u6c42\u4fee\u6539\u7684\u6700\u540e\u88ab\u66f4\u6539\u65f6\u95f4\uff0c\u670d\u52a1\u5668\u505a\u5bf9\u6bd4\uff0c\u670d\u52a1\u5668\u7684\u8d44\u6e90\u6700\u540e\u88ab\u4fee\u6539\u65f6\u95f4\u5927\u4e8e If-Modified-Since \u7684\u5b57\u6bb5\uff0c\u5219\u91cd\u65b0\u8fd4\u56de\u6700\u65b0\u8d44\u6e90\uff0c\u72b6\u6001\u7801 200\uff0c\u5426\u5219\u8fd8\u662f 304.\\n\\n\u53c2\u8003\u6587\u7ae0\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/256d0873c398\\n\\n\u53c2\u8003\u6587\u7ae0\u94fe\u63a5\uff1ahttps://segmentfault.com/a/1190000020786519"},{"id":"/js\u7684new\u539f\u7406\u548capply-call-bind","metadata":{"permalink":"/blog/js\u7684new\u539f\u7406\u548capply-call-bind","source":"@site/blog/js\u7684new\u539f\u7406\u548capply-call-bind.md","title":"js\u7684new\u539f\u7406\u548capply-call-bind","description":"1.new \u539f\u7406","date":"2021-02-26T17:19:33.000Z","formattedDate":"2021\u5e742\u670826\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":7.355,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"js\u7684new\u539f\u7406\u548capply-call-bind","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-26T17:19:33.000Z"},"prevItem":{"title":"\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58","permalink":"/blog/\u524d\u7aef\u8981\u7528\u7684\u7f13\u5b58"},"nextItem":{"title":"js\u7684\u72b6\u6001\u7801\u4e13\u9898","permalink":"/blog/js\u7684\u72b6\u6001\u7801\u4e13\u9898"}},"content":"## 1.new \u539f\u7406\\n\\n### \u4f7f\u7528`new`\u6784\u9020\u51fd\u6570\u521b\u5efa\u5bf9\u8c61\\n\\n```js\\nfunction Person() {\\n  this.name = \\"Jack\\";\\n}\\nvar p = new Person();\\nconsole.log(p.name); // Jack\\n```\\n\\n1. \u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3010p\u3011\\n2. \u8fd9\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3010\u4f5c\u7528\u57df\u3011 \u8981\u4ece\u6784\u9020\u51fd\u6570\u4e2d\u83b7\u53d6\u3010this \u8981\u6307\u5411\u65b0\u7684\u5bf9\u8c61\u3011\\n3. \u6267\u884c\u4e00\u4e0b\u6784\u9020\u51fd\u6570\u7684\u4ee3\u7801\u3010\u4e3a\u65b0\u5bf9\u8c61`p`\u6dfb\u52a0\u5c5e\u6027\u3011\\n4. \u8fd4\u56de\u8fd9\u4e2a\u65b0\u5bf9\u8c61`p`\\n\\n### \u4e0d\u4f7f\u7528`new`\u76f4\u63a5\u521b\u5efa\\n\\n```js\\nfunction Person() {\\n  this.name = \\"Jack\\";\\n}\\nvar p = Person(); // \u8fd9\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u51fd\u6570\u7684\u6267\u884c\u4e86\\nconsole.log(p); // undefined\\nconsole.log(name); // Jack\\nconsole.log(p.name); // \'name\' of undefined\\n```\\n\\n\u4e0d\u4f7f\u7528 new \u7684\u8bdd\uff0c\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u51fd\u6570\u7684\u6267\u884c\u4e86\uff0c\u9ed8\u8ba4\u7684 this \u6307\u5411\u4e86 `window`\\n\\n### \u65e2\u7136 new \u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u5bf9\u8c61 \u6211\u4eec\u624b\u52a8\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\\n\\n```js\\nfunction Person() {\\n  this.name = \\"Jack\\";\\n  return { age: 18 };\\n}\\nvar p = new Person();\\nconsole.log(p); // {age: 18}\\nconsole.log(p.name); // undefined\\nconsole.log(p.age); // 18\\n```\\n\\n\u5f53\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\uff0cnew \u76f4\u63a5\u8fd4\u56de\u4e86\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u901a\u8fc7 new \u6267\u884c\u751f\u6210\u7684\u8fd9\u4e2a\u5bf9\u8c61\u3002\u3010new \u6bd4\u8f83\u61d2\uff0c\u5148\u5224\u65ad\u6709\u73b0\u6210\u7684\u6ca1\uff0c\u6ca1\u6709\u7684\u8bdd\u518d\u81ea\u5df1\u521b\u9020\u3011\\n\\n### \u4f7f\u7528 new \u4e0d\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\\n\\n```js\\nfunction Person() {\\n  this.name = \\"Jack\\";\\n  return \\"tom\\";\\n}\\nvar p = new Person();\\nconsole.log(p); // {name: \'Jack\'}\\nconsole.log(p.name); // Jack\\n```\\n\\n\u54c8\u54c8\uff0c\u771f\u7684\u662f\u61d2\uff0c\u56e0\u4e3a\u6211\u4eec\u8fd4\u56de\u7684\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\u4e86\uff0cnew \u6ca1\u529e\u6cd5\u4e86\uff0c\u53ea\u80fd\u6267\u884c\u81ea\u5df1\u7684\u529f\u80fd\u4e86\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3002\\n\\n### \u603b\u7ed3\uff1a\\n\\n**new \u5173\u952e\u8bcd \u6267\u884c\u4e4b\u540e\u603b\u662f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8981\u4e48\u662f\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8981\u4e48\u662f return \u8fd4\u56de\u7684\u5bf9\u8c61**\\n\\n## 2. apply call bind \u7684\u7528\u6cd5\\n\\n```js\\nfunc.call(thisArg, param1, param2, ...)\\nfunc.apply(thisArg, [param1,param2,...])\\nfunc.bind(thisArg, param1, param2, ...)\\n```\\n\\n\u6539\u53d8\u51fd\u6570 func \u4e2d\u7684 this \u7684\u6307\u5411\uff0c\u5982\u679c func \u4e2d\u6ca1\u6709 this \u7684\u8bdd\uff0c\u6ca1\u5565\u7528\u4e86\u3002\\n\\n\u539f\u7406\uff1a**\u6267\u884c\u7684\u8fd8\u662f func \u7684\u4ee3\u7801\uff0c\u4f46\u662f\u91cc\u9762\u7684 this \u6307\u5411\u7684\u662f thisArg**\\n\\n```js\\nfunction func(text){\\n    console.log(text) // \'111\'\\n    return \'123\' // \u63a7\u5236\u53f0\u6253\u5370undefined \u56e0\u4e3a\u8fd9\u4e2a\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\\n}\\nfunc.call({},\'111\'\\n```\\n\\n### \u76f8\u540c\u70b9\\n\\n- \u90fd\u53ef\u4ee5\u6539\u53d8 this \u7684\u6307\u5411\\n\\n### \u5f02\u540c\u70b9\\n\\n1. \u4f20\u53c2\u4e0d\u540c\uff0capply \u7684\u662f\u6570\u7ec4\uff0ccall \u548c bind \u7684\u6b63\u5e38\u4f20\u53c2\\n2. \u8c03\u7528\u7ed3\u679c\u4e0d\u540c\uff0capply \u548c call \u4f1a\u7acb\u5373\u6267\u884c\uff0cbind \u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\\n\\n### \u76ee\u7684\\n\\n\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u8282\u7701\u5185\u5b58\u7a7a\u95f4\uff0c\u8282\u7ea6\u91cd\u590d\u5b9a\u4e49\u3002\u4e0d\u60f3\u518d\u5b9a\u4e00\u4e2a\u529f\u80fd\u76f8\u540c\u7684\u51fd\u6570\u4e86\uff0c\u53ea\u662f\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5bf9\u8c61\u6539\u53d8\u4e86\u800c\u5df2\u3002\\n\\n**PS:**\u751f\u6d3b\u4e2d\u6211\u4e0d\u7ecf\u5e38\u505a\u996d\uff0c\u5bb6\u91cc\u6ca1\u6709\u9505\uff0c\u5468\u672b\u7a81\u7136\u60f3\u7ed9\u81ea\u5df1\u505a\u4e2a\u996d\u5c1d\u5c1d\u3002\u4f46\u662f\u5bb6\u91cc\u6ca1\u6709\u9505\uff0c\u800c\u6211\u53c8\u4e0d\u60f3\u51fa\u53bb\u4e70\uff0c\u6240\u4ee5\u5c31\u95ee\u9694\u58c1\u90bb\u5c45\u501f\u4e86\u4e00\u4e2a\u9505\u6765\u7528\uff0c\u8fd9\u6837\u505a\u4e86\u996d\uff0c\u53c8\u8282\u7701\u4e86\u5f00\u9500\uff0c\u4e00\u4e3e\u4e24\u5f97\u3002\\n\\n```js\\nconst cooker = {\\n  name: \\"\u53a8\u5e08\\",\\n  cook: function (food) {\\n    return `${this.name} make ${food}`;\\n  },\\n};\\n\\nconsole.log(cooker.cook(\\"pizza\\")); // \u53a8\u5e08 make pizza\\n\\nconst me = {\\n  name: \\"fjk\\",\\n};\\nconsole.log(cooker.cook.call(me, \\"banana\\")); // fjk make banana\\n```\\n\\n## 3.\u6539\u53d8 this \u6307\u5411\u7684\u5e94\u7528\u573a\u666f\\n\\n### \u5224\u65ad\u6570\u636e\u7c7b\u578b\\n\\nObject.prototype.toString \u6765\u5224\u65ad\u7c7b\u578b\u662f\u6700\u5408\u9002\u7684\uff0c\u501f\u7528\u5b83\u6211\u4eec\u51e0\u4e4e\u53ef\u4ee5\u5224\u65ad\u6240\u6709\u7c7b\u578b\u7684\u6570\u636e\u7c7b\u578b\\n\\n```js\\nfunction getType(obj) {\\n  let type = typeof obj;\\n  if (type !== \\"object\\") {\\n    return type;\\n  }\\n  return Object.prototype.toString.call(obj).replace(/^$/, \\"$1\\");\\n}\\n```\\n\\n### \u7c7b\u6570\u7ec4\u501f\u7528\u65b9\u6cd5\\n\\n```js\\nvar arrayLike = {\\n  0: \\"java\\",\\n  1: \\"script\\",\\n  length: 2,\\n};\\nArray.prototype.push.call(arrayLike, \\"jack\\", \\"lily\\");\\nconsole.log(typeof arrayLike); // \'object\'\\nconsole.log(arrayLike);\\n// {0: \\"java\\", 1: \\"script\\", 2: \\"jack\\", 3: \\"lily\\", length: 4}\\n```\\n\\n### \u83b7\u53d6\u6570\u7ec4\u7684\u6700\u5927\u6700\u5c0f\u503c\\n\\n```js\\nlet arr = [13, 6, 10, 11, 16];\\nconst max = Math.max.apply(Math, arr);\\nconst min = Math.min.apply(Math, arr);\\n\\nconsole.log(max); // 16\\nconsole.log(min); // 6\\n```\\n\\n### \u7ee7\u627f\\n\\n## 4.\u624b\u5199\u65b9\u6cd5\\n\\n### new \u7684\u5b9e\u73b0\\n\\n```js\\nfunction myNew(fn, ...args) {\\n  if (typeof fn !== \\"function\\") {\\n    throw new Error(\\"\u5fc5\u987b\u662f\u4e00\u4e2a\u51fd\u6570\u7c7b\u578b\u7684\\");\\n  }\\n  //   \u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\\n  const newObj = {};\\n  //   \u662f\u65b0\u5bf9\u8c61\u7684\u5c5e\u6027\u53ef\u4ee5\u8bbf\u95ee \u6784\u9020\u51fd\u6570\u7684\u5c5e\u6027\\n  newObj.__proto__ = Object.create(fn.prototype);\\n  //   \u5bf9\u65b0\u5bf9\u8c61 \u6267\u884c\u6784\u9020\u51fd\u6570 \u5bf9 newObj \u8fdb\u884c\u4e00\u4e9b\u5c5e\u6027\u8d4b\u503c\u64cd\u4f5c\\n  const result = fn.call(newObj, ...args);\\n  // \u5224\u65ad\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e0d\u662f\u5bf9\u8c61 \u5e76\u4e14\u4e0d\u4f1a\u4e3a null\\n  const isObj = typeof result === \\"object\\" && result !== null;\\n  const isFunc = typeof result === \\"function\\";\\n  return isObj || isFunc ? result : newObj;\\n}\\n\\nfunction Father(name) {\\n  this.name = name;\\n}\\n\\nconst p = myNew(Father, \\"haha\\");\\nconsole.log(p.name);\\n```\\n\\n### call \u7684\u5b9e\u73b0 \u539f\u7406 \u548c\u80cc\u666f\\n\\n```js\\nfunction Car(name) {\\n  this.name = name;\\n  this.run = function (speed) {\\n    return this.name + \\"is running \\" + speed;\\n  };\\n}\\nconst car = new Car(\\"\u5965\u8fea\\");\\nconsole.log(car.run(\\"slow\\")); // \u6b64\u65f6\u7684 this \u5c31\u4f1a\u6307\u5411 car \u8fd9\u4e2a\u5b9e\u4f8b\\n\\n// call \u548c apply\u7684\u5b9e\u73b0\u539f\u7406 \u662f\u56e0\u4e3a \u5b9e\u4f8b\u5bf9\u8c61\u8c03\u7528\u65b9\u6cd5\u65f6\u5019\uff0c\\n// this \u7684\u6307\u5411\u4f1a\u6210\u4e3a\u5b9e\u4f8b\u8c03\u7528\u8005 \u7c7b\u4f3c\u4e8e car.run() run \u7684this \u4f1a\u6307\u5411car\\nFunction.prototype.myCall = function (context, ...args) {\\n  //\u521b\u5efa\u4e00\u4e2a\u8c03\u7528\u8005\u7684\u4e0a\u4e0b\u6587 \u9ed8\u8ba4\u80af\u5b9a\u662f\u4f20\u8fdb\u6765\u7684 context\\n  const caller = context || window;\\n  //   \u628a \u539f\u6765\u7684\u8c03\u7528\u8005 \u62bd\u79bb\u51fa\u6765 \u6bd4\u5982 cook.call(obj)\\n  //   \u6b64\u65f6\u7684this \u5c31\u76f8\u5f53\u4e8e cook \u8fd9\u4e2a\u51fd\u6570\\n  //   \u76f8\u5f53\u4e8e\u628a\u539f\u6765\u7684\u51fd\u6570 \u7ed1\u5b9a\u5230\u4e86 \u73b0\u5728\u7684 \u8c03\u7528\u8005\u4e0a\u4e86 \u6539\u53d8\u4e86 \u8c03\u7528\u8005\\n  caller.fn = this;\\n  console.log(this);\\n  //   \u8fd4\u56de\u8c03\u7528\u8005\u8c03\u7528\u51fd\u6570\u7684\u8c03\u7528\u7ed3\u679c\\n  const result = eval(\\"caller.fn(...args)\\");\\n  delete caller.fn;\\n  return result;\\n};\\n\\nconst cooker = {\\n  name: \\"cooker\\",\\n  cook: function (food) {\\n    return this.name + \\"is making\\" + food;\\n  },\\n};\\n\\nconst res = cooker.cook.myCall({ name: \\"fjk\\" }, \\"banana\\");\\nconsole.log(res);\\n```\\n\\n### apply \u7684\u5b9e\u73b0\u548c call \u5dee\u4e0d\u591a \u53ea\u4e0d\u8fc7\u53c2\u6570\u662f\u6570\u7ec4\\n\\n```js\\nFunction.prototype.myApply = function (context, args) {\\n  let context = context || window;\\n  context.fn = this;\\n  let result = eval(\\"context.fn(...args)\\");\\n  delete context.fn;\\n  return result;\\n};\\n```\\n\\n### bind \u7684\u539f\u7406 \u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\\n\\n```js\\nFunction.prototype.myBind = function (context, ...args) {\\n  // \u9996\u5148 bind \u7684 \u8c03\u7528\u8005 \u9700\u8981\u5fc5\u987b\u662f\u4e00\u4e2a\u51fd\u6570\\n  if (typeof this !== \\"function\\") {\\n    throw new Error(\\"\u5fc5\u987b\u662f\u4e00\u4e2a\u51fd\u6570\\");\\n  }\\n  //   \u6b64\u5904\u7684this \u662f\u539f\u51fd\u6570 xxx.bind() \u4e2d\u7684 xxx\\n  const self = this; // cook\\n  const newBind = function () {\\n    // console.log(arguments);\\n    // const arg = args.concat(Array.prototype.slice.call(arguments));\\n    // console.log(arg);\\n    return self.apply(\\n      this instanceof self ? this : context,\\n      args.concat(Array.prototype.slice.call(arguments))\\n    );\\n  };\\n  //   \u539f\u6709\u51fd\u6570\u7684\u539f\u578b\u94fe\u7684\u5c5e\u6027 \u6302\u5728 \u8981\u8fd4\u56de\u7684\u51fd\u6570\u4e0b\\n  if (this.prototype) {\\n    newBind.prototype = Object.create(this.prototype);\\n  }\\n  return newBind;\\n};\\n\\nconst cooker = {\\n  name: \\"cooker\\",\\n  cook: function (food, ...args) {\\n    console.log(args);\\n    return this.name + \\"  is making   \\" + food + args.join(\\"-\\");\\n  },\\n};\\n\\nconst aNewFunc = cooker.cook.myBind({ name: \\"fjk\\" }, \\"banana\\", \\"apple\\");\\nconsole.log(aNewFunc(11));\\n```"},{"id":"/js\u7684\u72b6\u6001\u7801\u4e13\u9898","metadata":{"permalink":"/blog/js\u7684\u72b6\u6001\u7801\u4e13\u9898","source":"@site/blog/js\u7684\u72b6\u6001\u7801\u4e13\u9898.md","title":"js\u7684\u72b6\u6001\u7801\u4e13\u9898","description":"1\\\\\\\\(\u4fe1\u606f\u7c7b)\uff1a\u8868\u793a\u63a5\u6536\u5230\u8bf7\u6c42\u5e76\u4e14\u7ee7\u7eed\u5904\u7406","date":"2021-02-24T21:47:52.000Z","formattedDate":"2021\u5e742\u670824\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":6.235,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"js\u7684\u72b6\u6001\u7801\u4e13\u9898","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-24T21:47:52.000Z"},"prevItem":{"title":"js\u7684new\u539f\u7406\u548capply-call-bind","permalink":"/blog/js\u7684new\u539f\u7406\u548capply-call-bind"},"nextItem":{"title":"js\u7684\u8de8\u57df\u4e13\u9898","permalink":"/blog/js\u7684\u8de8\u57df\u4e13\u9898"}},"content":"## 1\\\\*\\\\*(\u4fe1\u606f\u7c7b)\uff1a\u8868\u793a\u63a5\u6536\u5230\u8bf7\u6c42\u5e76\u4e14\u7ee7\u7eed\u5904\u7406\\n\\n100\u2014\u2014\u5ba2\u6237\u5fc5\u987b\u7ee7\u7eed\u53d1\u51fa\u8bf7\u6c42\\n\\n101\u2014\u2014\u5ba2\u6237\u8981\u6c42\u670d\u52a1\u5668\u6839\u636e\u8bf7\u6c42\u8f6c\u6362 HTTP \u534f\u8bae\u7248\u672c\\n\\n## **2\\\\*\\\\*(\\\\*\\\\***\u54cd\u5e94\u6210\u529f\\\\***\\\\*)\\\\*\\\\***\uff1a\u8868\u793a\u52a8\u4f5c\u88ab\u6210\u529f\u63a5\u6536\u3001\u7406\u89e3\u548c\u63a5\u53d7\\\\*\\\\*\\n\\n200\u2014\u2014\u8868\u660e\u8be5\u8bf7\u6c42\u88ab\u6210\u529f\u5730\u5b8c\u6210\uff0c\u6240\u8bf7\u6c42\u7684\u8d44\u6e90\u53d1\u9001\u56de\u5ba2\u6237\u7aef\\n\\n201\u2014\u2014\u63d0\u793a\u77e5\u9053\u65b0\u6587\u4ef6\u7684 URL\\n\\n202\u2014\u2014\u63a5\u53d7\u548c\u5904\u7406\u3001\u4f46\u5904\u7406\u672a\u5b8c\u6210\\n\\n203\u2014\u2014\u8fd4\u56de\u4fe1\u606f\u4e0d\u786e\u5b9a\u6216\u4e0d\u5b8c\u6574\\n\\n204\u2014\u2014\u8bf7\u6c42\u6536\u5230\uff0c\u4f46\u8fd4\u56de\u4fe1\u606f\u4e3a\u7a7a\\n\\n205\u2014\u2014\u670d\u52a1\u5668\u5b8c\u6210\u4e86\u8bf7\u6c42\uff0c\u7528\u6237\u4ee3\u7406\u5fc5\u987b\u590d\u4f4d\u5f53\u524d\u5df2\u7ecf\u6d4f\u89c8\u8fc7\u7684\u6587\u4ef6\\n\\n206\u2014\u2014\u670d\u52a1\u5668\u5df2\u7ecf\u5b8c\u6210\u4e86\u90e8\u5206\u7528\u6237\u7684 GET \u8bf7\u6c42\\n\\n## **3\\\\*\\\\*(\\\\*\\\\***\u91cd\u5b9a\u5411\u7c7b\\\\***\\\\*)\\\\*\\\\***\uff1a\u4e3a\u4e86\u5b8c\u6210\u6307\u5b9a\u7684\u52a8\u4f5c\uff0c\u5fc5\u987b\u63a5\u53d7\u8fdb\u4e00\u6b65\u5904\u7406\\\\*\\\\*\\n\\n300\u2014\u2014\u8bf7\u6c42\u7684\u8d44\u6e90\u53ef\u5728\u591a\u5904\u5f97\u5230\\n\\n301\u2014\u2014\u672c\u7f51\u9875\u88ab\u6c38\u4e45\u6027\u8f6c\u79fb\u5230\u53e6\u4e00\u4e2a URL\\n\\n302\u2014\u2014\u8bf7\u6c42\u7684\u7f51\u9875\u88ab\u8f6c\u79fb\u5230\u4e00\u4e2a\u65b0\u7684\u5730\u5740\uff0c\u4f46\u5ba2\u6237\u8bbf\u95ee\u4ecd\u7ee7\u7eed\u901a\u8fc7\u539f\u59cb URL \u5730\u5740\uff0c\u91cd\u5b9a\u5411\uff0c\u65b0\u7684 URL \u4f1a\u5728 response \u4e2d\u7684 Location \u4e2d\u8fd4\u56de\uff0c\u6d4f\u89c8\u5668\u5c06\u4f1a\u4f7f\u7528\u65b0\u7684 URL \u53d1\u51fa\u65b0\u7684 Request\u3002\\n\\n303\u2014\u2014\u5efa\u8bae\u5ba2\u6237\u8bbf\u95ee\u5176\u4ed6 URL \u6216\u8bbf\u95ee\u65b9\u5f0f\\n\\n304\u2014\u2014\u81ea\u4ece\u4e0a\u6b21\u8bf7\u6c42\u540e\uff0c\u8bf7\u6c42\u7684\u7f51\u9875\u672a\u4fee\u6539\u8fc7\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u54cd\u5e94\u65f6\uff0c\u4e0d\u4f1a\u8fd4\u56de\u7f51\u9875\u5185\u5bb9\uff0c\u4ee3\u8868\u4e0a\u6b21\u7684\u6587\u6863\u5df2\u7ecf\u88ab\u7f13\u5b58\u4e86\uff0c\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\\n\\n305\u2014\u2014\u8bf7\u6c42\u7684\u8d44\u6e90\u5fc5\u987b\u4ece\u670d\u52a1\u5668\u6307\u5b9a\u7684\u5730\u5740\u5f97\u5230\\n\\n306\u2014\u2014\u524d\u4e00\u7248\u672c HTTP \u4e2d\u4f7f\u7528\u7684\u4ee3\u7801\uff0c\u73b0\u884c\u7248\u672c\u4e2d\u4e0d\u518d\u4f7f\u7528\\n\\n307\u2014\u2014\u7533\u660e\u8bf7\u6c42\u7684\u8d44\u6e90\u4e34\u65f6\u6027\u5220\u9664\\n\\n## **4\\\\*\\\\*(\\\\*\\\\***\u5ba2\u6237\u7aef\u9519\u8bef\u7c7b\\\\***\\\\*)\\\\*\\\\***\uff1a\u8bf7\u6c42\u5305\u542b\u9519\u8bef\u8bed\u6cd5\u6216\u4e0d\u80fd\u6b63\u786e\u6267\u884c\\\\*\\\\*\\n\\n400\u2014\u2014\u5ba2\u6237\u7aef\u8bf7\u6c42\u6709\u8bed\u6cd5\u9519\u8bef\uff0c\u4e0d\u80fd\u88ab\u670d\u52a1\u5668\u6240\u7406\u89e3\\n\\n401\u2014\u2014\u8bf7\u6c42\u672a\u7ecf\u6388\u6743\uff0c\u8fd9\u4e2a\u72b6\u6001\u4ee3\u7801\u5fc5\u987b\u548c WWW-Authenticate \u62a5\u5934\u57df\u4e00\u8d77\u4f7f\u7528\\n\\nHTTP 401.1 - \u672a\u6388\u6743\uff1a\u767b\u5f55\u5931\u8d25\\n\\nHTTP 401.2 - \u672a\u6388\u6743\uff1a\u670d\u52a1\u5668\u914d\u7f6e\u95ee\u9898\u5bfc\u81f4\u767b\u5f55\u5931\u8d25\\n\\nHTTP 401.3 - ACL \u7981\u6b62\u8bbf\u95ee\u8d44\u6e90\\n\\nHTTP 401.4 - \u672a\u6388\u6743\uff1a\u6388\u6743\u88ab\u7b5b\u9009\u5668\u62d2\u7edd\\n\\nHTTP 401.5 - \u672a\u6388\u6743\uff1aISAPI \u6216 CGI \u6388\u6743\u5931\u8d25\\n\\n402\u2014\u2014\u4fdd\u7559\u6709\u6548 ChargeTo \u5934\u54cd\u5e94\\n\\n403\u2014\u2014\u7981\u6b62\u8bbf\u95ee\uff0c\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\uff0c\u4f46\u662f\u62d2\u7edd\u63d0\u4f9b\u670d\u52a1\\n\\nHTTP 403.1 \u7981\u6b62\u8bbf\u95ee\uff1a\u7981\u6b62\u53ef\u6267\u884c\u8bbf\u95ee\\n\\nHTTP 403.2 - \u7981\u6b62\u8bbf\u95ee\uff1a\u7981\u6b62\u8bfb\u8bbf\u95ee\\n\\nHTTP 403.3 - \u7981\u6b62\u8bbf\u95ee\uff1a\u7981\u6b62\u5199\u8bbf\u95ee\\n\\nHTTP 403.4 - \u7981\u6b62\u8bbf\u95ee\uff1a\u8981\u6c42 SSL\\n\\nHTTP 403.5 - \u7981\u6b62\u8bbf\u95ee\uff1a\u8981\u6c42 SSL 128\\n\\nHTTP 403.6 - \u7981\u6b62\u8bbf\u95ee\uff1aIP \u5730\u5740\u88ab\u62d2\u7edd\\n\\nHTTP 403.7 - \u7981\u6b62\u8bbf\u95ee\uff1a\u8981\u6c42\u5ba2\u6237\u8bc1\u4e66\\n\\nHTTP 403.8 - \u7981\u6b62\u8bbf\u95ee\uff1a\u7981\u6b62\u7ad9\u70b9\u8bbf\u95ee\\n\\nHTTP 403.9 - \u7981\u6b62\u8bbf\u95ee\uff1a\u8fde\u63a5\u7684\u7528\u6237\u8fc7\u591a\\n\\nHTTP 403.10 - \u7981\u6b62\u8bbf\u95ee\uff1a\u914d\u7f6e\u65e0\u6548\\n\\nHTTP 403.11 - \u7981\u6b62\u8bbf\u95ee\uff1a\u5bc6\u7801\u66f4\u6539\\n\\nHTTP 403.12 - \u7981\u6b62\u8bbf\u95ee\uff1a\u6620\u5c04\u5668\u62d2\u7edd\u8bbf\u95ee\\n\\nHTTP 403.13 - \u7981\u6b62\u8bbf\u95ee\uff1a\u5ba2\u6237\u8bc1\u4e66\u5df2\u88ab\u540a\u9500\\n\\nHTTP 403.15 - \u7981\u6b62\u8bbf\u95ee\uff1a\u5ba2\u6237\u8bbf\u95ee\u8bb8\u53ef\u8fc7\u591a\\n\\nHTTP 403.16 - \u7981\u6b62\u8bbf\u95ee\uff1a\u5ba2\u6237\u8bc1\u4e66\u4e0d\u53ef\u4fe1\u6216\u8005\u65e0\u6548\\n\\nHTTP 403.17 - \u7981\u6b62\u8bbf\u95ee\uff1a\u5ba2\u6237\u8bc1\u4e66\u5df2\u7ecf\u5230\u671f\u6216\u8005\u5c1a\u672a\u751f\u6548\\n\\n404\u2014\u2014\u4e00\u4e2a 404 \u9519\u8bef\u8868\u660e\u53ef\u8fde\u63a5\u670d\u52a1\u5668\uff0c\u4f46\u670d\u52a1\u5668\u65e0\u6cd5\u53d6\u5f97\u6240\u8bf7\u6c42\u7684\u7f51\u9875\uff0c\u8bf7\u6c42\u8d44\u6e90\u4e0d\u5b58\u5728\u3002eg\uff1a\u8f93\u5165\u4e86\u9519\u8bef\u7684 URL\\n\\n405\u2014\u2014\u7528\u6237\u5728 Request-Line \u5b57\u6bb5\u5b9a\u4e49\u7684\u65b9\u6cd5\u4e0d\u5141\u8bb8\\n\\n406\u2014\u2014\u6839\u636e\u7528\u6237\u53d1\u9001\u7684 Accept \u62d6\uff0c\u8bf7\u6c42\u8d44\u6e90\u4e0d\u53ef\u8bbf\u95ee\\n\\n407\u2014\u2014\u7c7b\u4f3c 401\uff0c\u7528\u6237\u5fc5\u987b\u9996\u5148\u5728\u4ee3\u7406\u670d\u52a1\u5668\u4e0a\u5f97\u5230\u6388\u6743\\n\\n408\u2014\u2014\u5ba2\u6237\u7aef\u6ca1\u6709\u5728\u7528\u6237\u6307\u5b9a\u7684\u997f\u65f6\u95f4\u5185\u5b8c\u6210\u8bf7\u6c42\\n\\n409\u2014\u2014\u5bf9\u5f53\u524d\u8d44\u6e90\u72b6\u6001\uff0c\u8bf7\u6c42\u4e0d\u80fd\u5b8c\u6210\\n\\n410\u2014\u2014\u670d\u52a1\u5668\u4e0a\u4e0d\u518d\u6709\u6b64\u8d44\u6e90\u4e14\u65e0\u8fdb\u4e00\u6b65\u7684\u53c2\u8003\u5730\u5740\\n\\n411\u2014\u2014\u670d\u52a1\u5668\u62d2\u7edd\u7528\u6237\u5b9a\u4e49\u7684 Content-Length \u5c5e\u6027\u8bf7\u6c42\\n\\n412\u2014\u2014\u4e00\u4e2a\u6216\u591a\u4e2a\u8bf7\u6c42\u5934\u5b57\u6bb5\u5728\u5f53\u524d\u8bf7\u6c42\u4e2d\u9519\u8bef\\n\\n413\u2014\u2014\u8bf7\u6c42\u7684\u8d44\u6e90\u5927\u4e8e\u670d\u52a1\u5668\u5141\u8bb8\u7684\u5927\u5c0f\\n\\n414\u2014\u2014\u8bf7\u6c42\u7684\u8d44\u6e90 URL \u957f\u4e8e\u670d\u52a1\u5668\u5141\u8bb8\u7684\u957f\u5ea6\\n\\n415\u2014\u2014\u8bf7\u6c42\u8d44\u6e90\u4e0d\u652f\u6301\u8bf7\u6c42\u9879\u76ee\u683c\u5f0f\\n\\n416\u2014\u2014\u8bf7\u6c42\u4e2d\u5305\u542b Range \u8bf7\u6c42\u5934\u5b57\u6bb5\uff0c\u5728\u5f53\u524d\u8bf7\u6c42\u8d44\u6e90\u8303\u56f4\u5185\u6ca1\u6709 range \u6307\u793a\u503c\uff0c\u8bf7\u6c42\u4e5f\u4e0d\u5305\u542b If-Range \u8bf7\u6c42\u5934\u5b57\u6bb5\\n\\n417\u2014\u2014\u670d\u52a1\u5668\u4e0d\u6ee1\u8db3\u8bf7\u6c42 Expect \u5934\u5b57\u6bb5\u6307\u5b9a\u7684\u671f\u671b\u503c\uff0c\u5982\u679c\u662f\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u53ef\u80fd\u662f\u4e0b\u4e00\u7ea7\u670d\u52a1\u5668\u4e0d\u80fd\u6ee1\u8db3\u8bf7\u6c42\u957f\u3002\\n\\n## **5\\\\*\\\\*(\\\\*\\\\***\u670d\u52a1\u7aef\u9519\u8bef\u7c7b\\\\***\\\\*)\\\\*\\\\***\uff1a\u670d\u52a1\u5668\u4e0d\u80fd\u6b63\u786e\u6267\u884c\u4e00\u4e2a\u6b63\u786e\u7684\u8bf7\u6c42\\\\*\\\\*\\n\\nHTTP 500 - \u670d\u52a1\u5668\u9047\u5230\u9519\u8bef\uff0c\u65e0\u6cd5\u5b8c\u6210\u8bf7\u6c42\\n\\nHTTP 500.100 - \u5185\u90e8\u670d\u52a1\u5668\u9519\u8bef - ASP \u9519\u8bef\\n\\nHTTP 500-11 \u670d\u52a1\u5668\u5173\u95ed\\n\\nHTTP 500-12 \u5e94\u7528\u7a0b\u5e8f\u91cd\u65b0\u542f\u52a8\\n\\nHTTP 500-13 - \u670d\u52a1\u5668\u592a\u5fd9\\n\\nHTTP 500-14 - \u5e94\u7528\u7a0b\u5e8f\u65e0\u6548\\n\\nHTTP 500-15 - \u4e0d\u5141\u8bb8\u8bf7\u6c42 global.asa\\n\\nError 501 - \u672a\u5b9e\u73b0\\n\\nHTTP 502 - \u7f51\u5173\u9519\u8bef\\n\\nHTTP 503\uff1a\u7531\u4e8e\u8d85\u8f7d\u6216\u505c\u673a\u7ef4\u62a4\uff0c\u670d\u52a1\u5668\u76ee\u524d\u65e0\u6cd5\u4f7f\u7528\uff0c\u4e00\u6bb5\u65f6\u95f4\u540e\u53ef\u80fd\u6062\u590d\u6b63\u5e38"},{"id":"/js\u7684\u8de8\u57df\u4e13\u9898","metadata":{"permalink":"/blog/js\u7684\u8de8\u57df\u4e13\u9898","source":"@site/blog/js\u7684\u8de8\u57df\u4e13\u9898.md","title":"js\u7684\u8de8\u57df\u4e13\u9898","description":"iframe \u6709\u90a3\u4e9b\u7f3a\u70b9\uff1f","date":"2021-02-24T21:29:01.000Z","formattedDate":"2021\u5e742\u670824\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":0.645,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"js\u7684\u8de8\u57df\u4e13\u9898","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-24T21:29:01.000Z"},"prevItem":{"title":"js\u7684\u72b6\u6001\u7801\u4e13\u9898","permalink":"/blog/js\u7684\u72b6\u6001\u7801\u4e13\u9898"},"nextItem":{"title":"js\u7684Promise\u4e13\u9898","permalink":"/blog/js\u7684Promise\u4e13\u9898"}},"content":"## iframe \u6709\u90a3\u4e9b\u7f3a\u70b9\uff1f\\n\\n1. iframe \u4f1a\u963b\u585e\u4e3b\u9875\u9762\u7684 Onload \u4e8b\u4ef6\uff1b\\n2. \u641c\u7d22\u5f15\u64ce\u7684\u68c0\u7d22\u7a0b\u5e8f\u65e0\u6cd5\u89e3\u8bfb\u8fd9\u79cd\u9875\u9762\uff0c\u4e0d\u5229\u4e8e SEO;\\n3. iframe \u548c\u4e3b\u9875\u9762\u5171\u4eab\u8fde\u63a5\u6c60\uff0c\u800c\u6d4f\u89c8\u5668\u5bf9\u76f8\u540c\u57df\u7684\u8fde\u63a5\u6709\u9650\u5236\uff0c\u6240\u4ee5\u4f1a\u5f71\u54cd\u9875\u9762\u7684\u5e76\u884c\u52a0\u8f7d\u3002\\n4. \u4f7f\u7528 iframe \u4e4b\u524d\u9700\u8981\u8003\u8651\u8fd9\u4e24\u4e2a\u7f3a\u70b9\u3002\u5982\u679c\u9700\u8981\u4f7f\u7528 iframe\uff0c\u6700\u597d\u662f\u901a\u8fc7 javascript\\n5. \u52a8\u6001\u7ed9 iframe \u6dfb\u52a0 src \u5c5e\u6027\u503c\uff0c\u8fd9\u6837\u53ef\u4ee5\u7ed5\u5f00\u4ee5\u4e0a\u4e24\u4e2a\u95ee\u9898\u3002"},{"id":"/js\u7684Promise\u4e13\u9898","metadata":{"permalink":"/blog/js\u7684Promise\u4e13\u9898","source":"@site/blog/js\u7684Promise\u4e13\u9898.md","title":"js\u7684Promise\u4e13\u9898","description":"1.Promise \u7684\u72b6\u6001\u548c\u7f3a\u70b9","date":"2021-02-24T21:21:31.000Z","formattedDate":"2021\u5e742\u670824\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":1.23,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"js\u7684Promise\u4e13\u9898","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-24T21:21:31.000Z"},"prevItem":{"title":"js\u7684\u8de8\u57df\u4e13\u9898","permalink":"/blog/js\u7684\u8de8\u57df\u4e13\u9898"},"nextItem":{"title":"js\u7684\u6613\u6df7\u70b9","permalink":"/blog/js\u7684\u6613\u6df7\u70b9"}},"content":"## 1.Promise \u7684\u72b6\u6001\u548c\u7f3a\u70b9\\n\\n### \u7f3a\u70b9\uff1a\\n\\nPromise \u4e5f\u6709\u4e00\u4e9b\u7f3a\u70b9\u3002\u9996\u5148\uff0c\u65e0\u6cd5\u53d6\u6d88 Promise\uff0c\u4e00\u65e6\u65b0\u5efa\u5b83\u5c31\u4f1a\u7acb\u5373\u6267\u884c\uff0c\u65e0\u6cd5\u4e2d\u9014\u53d6\u6d88\u3002\u5176\u6b21\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff0cPromise \u5185\u90e8\u629b\u51fa\u7684\u9519\u8bef\uff0c\u4e0d\u4f1a\u53cd\u5e94\u5230\u5916\u90e8\u3002\u7b2c\u4e09\uff0c\u5f53\u5904\u4e8e Pending \u72b6\u6001\u65f6\uff0c\u65e0\u6cd5\u5f97\u77e5\u76ee\u524d\u8fdb\u5c55\u5230\u54ea\u4e00\u4e2a\u9636\u6bb5\uff08\u521a\u521a\u5f00\u59cb\u8fd8\u662f\u5373\u5c06\u5b8c\u6210\uff09\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u4e0d\u8981\u5728 then \u65b9\u6cd5\u91cc\u9762\u5b9a\u4e49 Reject \u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\uff08\u5373 then \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff09\uff0c\u603b\u662f\u4f7f\u7528 catch \u65b9\u6cd5\uff0c\u7406\u7531\u662f\u66f4\u63a5\u8fd1\u540c\u6b65\u7684\u5199\u6cd5\u3002 then \u7684\u7b2c\u4e8c\u4e2a\u51fd\u6570\u53c2\u6570\u548c catch \u7b49\u4ef7\\n\\n## 2.Promise \u7684\u65b9\u6cd5 all \u548c race\\n\\nPromise.all \u628a\u591a\u4e2a promise \u5b9e\u4f8b\u5f53\u6210\u4e00\u4e2a promise \u5b9e\u4f8b,\u5f53\u8fd9\u4e9b\u5b9e\u4f8b\u7684\u72b6\u6001\u90fd\u53d1\u751f\u6539\u53d8\u65f6\u624d\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 promise \u5b9e\u4f8b\uff0c\u624d\u4f1a\u6267\u884c then \u65b9\u6cd5\u3002 Promise.race \u53ea\u8981\u8be5\u6570\u7ec4\u4e2d\u7684 Promise \u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff08\u65e0\u8bba\u662f resolve \u8fd8\u662f reject\uff09\u8be5\u65b9\u6cd5\u90fd\u4f1a\u8fd4\u56de\u3002\\n\\n##"},{"id":"/js\u7684\u6613\u6df7\u70b9","metadata":{"permalink":"/blog/js\u7684\u6613\u6df7\u70b9","source":"@site/blog/js\u7684\u6613\u6df7\u70b9.md","title":"js\u7684\u6613\u6df7\u70b9","description":"1.\u51fd\u6570\u58f0\u660e\u63d0\u524d\u548c\u53d8\u91cf\u63d0\u5347 \u3010let const \u548c var\u3011","date":"2021-02-23T21:03:57.000Z","formattedDate":"2021\u5e742\u670823\u65e5","tags":[{"label":"js","permalink":"/blog/tags/js"},{"label":"work","permalink":"/blog/tags/work"},{"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":7.695,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"js\u7684\u6613\u6df7\u70b9","categories":["js","work"],"tags":["js","work","\u524d\u7aef"],"date":"2021-02-23T21:03:57.000Z"},"prevItem":{"title":"js\u7684Promise\u4e13\u9898","permalink":"/blog/js\u7684Promise\u4e13\u9898"},"nextItem":{"title":"Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0","permalink":"/blog/Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0"}},"content":"## 1.\u51fd\u6570\u58f0\u660e\u63d0\u524d\u548c\u53d8\u91cf\u63d0\u5347 \u3010let const \u548c var\u3011\\n\\nhttps://www.cnblogs.com/echolun/p/7612142.html\\n\\n- **\u51fd\u6570\u4f1a\u9996\u5148\u88ab\u63d0\u5347\uff0c\u7136\u540e\u624d\u662f\u53d8\u91cf**\\n\\n- ```js\\n  console.log(a);\\n  var a = \\"\u5b59\u609f\u7a7a\\";\\n  function a() {\\n    console.log(\\"\u5c0f\u94bb\u98ce\\");\\n  }\\n  ```\\n\\n- \u53d8\u91cf\u5df2\u5b58\u5728\u58f0\u660e \u4e8c\u6b21\u58f0\u660e\u4f1a\u88ab\u5ffd\u7565\\n\\n- \u4e0a\u9762\u4ee3\u7801\u7b49\u540c\u4e8e\uff1a\\n\\n- ```js\\n  function a() {\\n    console.log(\\"\u5c0f\u94bb\u98ce\\");\\n  }\\n  var a; //\u7531\u4e8e\u4e0a\u9762\u51fd\u6570\u5df2\u58f0\u660ea,\u76f8\u540c\u7684\u53d8\u91cf\u540d\u58f0\u660e\u4f1a\u88ab\u76f4\u63a5\u5ffd\u7565\\n  console.log(a); //\u8f93\u51fa\u51fd\u6570\u672c\u4f53\\n  a = \\"\u5b59\u609f\u7a7a\\";\\n  ```\\n\\n  \u6d4b\u8bd5\u9898\uff1a\\n\\n  ```js\\n  console.log(a); //?\\n  a(); //?\\n  var a = 3;\\n  function a() {\\n    console.log(10);\\n  }\\n  console.log(a); //?\\n  a = 6;\\n  a(); //?\\n  ```\\n\\n  \u6d4b\u8bd5\u9898 2\\n\\n  ```js\\n  var foo = 1;\\n  function bar() {\\n    foo = 10;\\n    return;\\n    function foo() {} // \u5728 return \u540e\u4e0d\u6267\u884c \u4f46\u662f\u4e0d\u5f71\u54cd\u53d8\u91cf\u63d0\u524d\\n  }\\n  bar();\\n  alert(foo); //\u7b54\u6848\uff1a1\\n  ```\\n\\n  \u76f8\u5f53\u4e8e\\n\\n  ![image-20210223212709849](./js\u7684\u6613\u6df7\u70b9/image-20210223212709849.png)\\n\\n  **\u6ce8\u610f bar \u51fd\u6570\u91cc\u9762\u7684 foo \u6b64\u65f6\u4e5f\u662f\u51fd\u6570\u7684\u989c\u8272**\\n\\n## 2.arguments \u7684\u64cd\u4f5c\\n\\n```js\\nfunction foo(a) {\\n  arguments[0] = 2;\\n  alert(a); //\u7b54\u6848\uff1a2\uff0c\u56e0\u4e3a\uff1aa\u3001arguments\u662f\u5bf9\u5b9e\u53c2\u7684\u8bbf\u95ee\uff0cb\u3001\u901a\u8fc7arguments[i]\u53ef\u4ee5\u4fee\u6539\u6307\u5b9a\u5b9e\u53c2\u7684\u503c\\n}\\nfoo(1);\\n```\\n\\n## 3. for in \u662f\u5426\u53ef\u4ee5\u904d\u5386\u539f\u578b\u4e0a\u7684\u5c5e\u6027 =\u300b \u53ef\u4ee5\\n\\n```js\\nconst a = {\\n  b: 2,\\n  c: 3,\\n};\\nconsole.log(a);\\nObject.prototype.d = 3;\\nObject.prototype.func = function () {\\n  console.log(\\"obj func\\");\\n};\\n\\nfor (const key in a) {\\n  console.log({ key });\\n  if (Object.hasOwnProperty.call(a, key)) {\\n    const element = a[key];\\n  }\\n}\\n```\\n\\n![image-20210223214105874](./js\u7684\u6613\u6df7\u70b9/image-20210223214105874.png)\\n\\n\u53d1\u73b0\u81ea\u5df1\u6dfb\u52a0\u7684\u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\u4f9d\u7136\u53ef\u4ee5\u904d\u5386\u51fa\u6765\uff0c\u4f46\u662f\u5bf9\u8c61\u672c\u8eab\u7684\u4e0d\u53ef\u904d\u5386\uff0c\u67e5\u9605\u8d44\u6599\u53d1\u73b0\uff0c\u6d45\u7ea2\u8272\u7684\u65f6\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u3002\\n\\nhttps://blog.csdn.net/web_zhouliang/article/details/78710034\\n\\n\u7ed9\u5bf9\u8c61 a \u6dfb\u52a0\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\\n\\n```js\\nObject.defineProperty(a, \\"hh\\", {\\n  value: \\"\u4e0d\u53ef\u679a\u4e3e\\",\\n  enumerable: false,\\n});\\n```\\n\\n![image-20210223215930174](./js\u7684\u6613\u6df7\u70b9/image-20210223215930174.png)\\n\\n**\u904d\u5386\u7684\u672c\u8d28\u8fd8\u662f\u679a\u4e3e**\\n\\n\u6269\u5c55\uff1a[\u679a\u4e3e\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_Objects#%E6%9E%9A%E4%B8%BE%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7)\\n\\n## 4.\u91cd\u7ed8\u548c\u91cd\u6392\uff0c\u54ea\u4e9b\u5c5e\u6027\u4f1a\u5f15\u8d77\u91cd\u6392\uff1f\\n\\n**\u91cd\u6392**\u662f\u6307`dom\u6811\u53d1\u751f\u7ed3\u6784\u53d8\u5316\u540e\uff0c\u9700\u8981\u91cd\u65b0\u6784\u5efadom\u7ed3\u6784`\u3002 **\u91cd\u7ed8**\u662f`\u6307dom\u8282\u70b9\u6837\u5f0f\u6539\u53d8\uff0c\u91cd\u65b0\u7ed8\u5236`\u3002 **\u91cd\u6392\u4e00\u5b9a\u4f1a\u5e26\u6765\u91cd\u7ed8\uff0c\u91cd\u7ed8\u4e0d\u4e00\u5b9a\u6709\u91cd\u6392\u3002**\\n\\n**\u5982\u4f55\u51cf\u5c11\u6d4f\u89c8\u5668\u91cd\u6392**\uff1a\u5c06\u9700\u8981\u591a\u6b21\u91cd\u6392\u7684\u5143\u7d20\uff0cposition \u5c5e\u6027\u8bbe\u4e3a absolute \u6216 fixed\uff0c\u8fd9\u6837\u6b64\u5143\u7d20\u5c31\u8131\u79bb\u4e86\u6587\u6863\u6d41\uff0c\u5b83\u7684\u53d8\u5316\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u5143\u7d20\u3002\\n\\n## 5.new \u505a\u4e86\u4ec0\u4e48\\n\\n## 6.js \u4e3a\u4ec0\u4e48\u662f\u5355\u7ebf\u7a0b\u7684\\n\\n## 7.\u540c\u6b65\u548c\u5f02\u6b65\u7684\u7406\u89e3\\n\\n1.\u540c\u6b65\u548c\u5f02\u6b65\u7684\u533a\u522b?\\n\\n\u540c\u6b65\uff1a\u963b\u585e\u7684\\n\\n-\u5f20\u4e09\u53eb\u674e\u56db\u53bb\u5403\u996d\uff0c\u674e\u56db\u4e00\u76f4\u5fd9\u5f97\u4e0d\u505c\uff0c\u5f20\u4e09\u4e00\u76f4\u7b49\u7740\uff0c\u76f4\u5230\u674e\u56db\u5fd9\u5b8c\u4e24\u4e2a\u4eba\u4e00\u5757\u53bb\u5403\u996d\\n\\n=\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u6570\u636e\uff0c\u670d\u52a1\u5668\u6bd4\u8f83\u5fd9\uff0c\u6d4f\u89c8\u5668\u4e00\u76f4\u7b49\u7740\uff08\u9875\u9762\u767d\u5c4f\uff09\uff0c\u76f4\u5230\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\uff0c\u6d4f\u89c8\u5668\u624d\u80fd\u663e\u793a\u9875\u9762\\n\\n\u5f02\u6b65\uff1a\u975e\u963b\u585e\u7684\\n\\n-\u5f20\u4e09\u53eb\u674e\u56db\u53bb\u5403\u996d\uff0c\u674e\u56db\u5728\u5fd9\uff0c\u5f20\u4e09\u8bf4\u4e86\u4e00\u58f0\u7136\u540e\u81ea\u5df1\u5c31\u53bb\u5403\u996d\u4e86\uff0c\u674e\u56db\u5fd9\u5b8c\u540e\u81ea\u5df1\u53bb\u5403\\n\\n=\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u6570\u636e\uff0c\u670d\u52a1\u5668\u6bd4\u8f83\u5fd9\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u81ea\u5982\u7684\u5e72\u539f\u6765\u7684\u4e8b\u60c5\uff08\u663e\u793a\u9875\u9762\uff09\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u7684\u65f6\u5019\u901a\u77e5\u6d4f\u89c8\u5668\u4e00\u58f0\uff0c\u6d4f\u89c8\u5668\u628a\u8fd4\u56de\u7684\u6570\u636e\u518d\u6e32\u67d3\u5230\u9875\u9762\uff0c\u5c40\u90e8\u66f4\u65b0\\n\\n## 8.Map Set \u548c Symbol\\n\\n## 9.for...in \u548c for...of\\n\\nfor...of \u53ef\u4ee5\u7528\u6765\u904d\u5386\u6570\u7ec4\uff0c\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff0cargument\uff0c\u5b57\u7b26\u4e32\uff0cMap \u548c Set\uff0c\\n\\nfor...in \u7528\u6765\u904d\u5386\u5bf9\u8c61\\n\\n## 10.Object.is() \u4e0e\u539f\u6765\u7684\u6bd4\u8f83\u64cd\u4f5c\u7b26\u201c ===\u201d\u3001\u201c ==\u201d\u7684\u533a\u522b\uff1f\\n\\n\u4e24\u7b49\u53f7\u5224\u7b49\uff0c\u4f1a\u5728\u6bd4\u8f83\u65f6\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff1b\\n\\n\u4e09\u7b49\u53f7\u5224\u7b49(\u5224\u65ad\u4e25\u683c)\uff0c\u6bd4\u8f83\u65f6\u4e0d\u8fdb\u884c\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362,\uff08\u7c7b\u578b\u4e0d\u540c\u5219\u4f1a\u8fd4\u56de false\uff09\uff1b\\n\\nObject.is \u5728\u4e09\u7b49\u53f7\u5224\u7b49\u7684\u57fa\u7840\u4e0a\u7279\u522b\u5904\u7406\u4e86 NaN \u3001-0 \u548c +0 \uff0c\u4fdd\u8bc1 -0 \u548c +0 \u4e0d\u518d\u76f8\u540c\uff0c\\n\\n\u4f46 Object.is(NaN, NaN) \u4f1a\u8fd4\u56de true.\\n\\n## 11.fetch \u548c Ajax \u6709\u4ec0\u4e48\u4e0d\u540c\\n\\n## 12.GET \u548c POST \u7684\u533a\u522b\\n\\n## 13.\u5b58\u50a8\u76f8\u5173\uff08cookie\uff0cweb storage \u548c session\uff09\\n\\ncookie \u4f18\u70b9\uff1a 1.\u53ef\u4ee5\u89e3\u51b3 HTTP \u65e0\u72b6\u6001\u7684\u95ee\u9898\uff0c\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u4ea4\u4e92 \u7f3a\u70b9\uff1a 1.\u6570\u91cf\u548c\u957f\u5ea6\u9650\u5236\uff0c\u6bcf\u4e2a\u57df\u540d\u6700\u591a 20 \u6761\uff0c\u6bcf\u4e2a cookie \u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 4kb 2.\u5b89\u5168\u6027\u95ee\u9898\u3002\u5bb9\u6613\u88ab\u4eba\u62e6\u622a 3.\u6d6a\u8d39\u5e26\u5bbd\uff0c\u6bcf\u6b21\u8bf7\u6c42\u65b0\u9875\u9762\uff0ccookie \u90fd\u4f1a\u88ab\u53d1\u9001\u8fc7\u53bb\\n\\n### 1.cookie \u548c session \u533a\u522b\\n\\n1.cookie \u6570\u636e\u5b58\u653e\u5728\u5ba2\u6237\u7684\u6d4f\u89c8\u5668\u4e0a\uff0csession \u6570\u636e\u653e\u5728\u670d\u52a1\u5668\u4e0a\u3002 2.session \u4f1a\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u4e0a\u3002\u5f53\u8bbf\u95ee\u589e\u591a\uff0c\u4f1a\u6bd4\u8f83\u5360\u7528\u4f60\u670d\u52a1\u5668\u7684\u6027\u80fd\u3002\u8003\u8651\u5230\u51cf\u8f7b\u670d\u52a1\u5668\u6027\u80fd\u65b9\u9762\uff0c\u5e94\u5f53\u4f7f\u7528 COOKIE\u3002\\n\\nsessionStorage \u662f\u5f53\u524d\u5bf9\u8bdd\u7684\u7f13\u5b58\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u5173\u95ed\u5373\u6d88\u5931\uff0clocalStorage \u6301\u4e45\u5b58\u5728\uff0c\u9664\u975e\u6e05\u9664\u6d4f\u89c8\u5668\u7f13\u5b58\u3002\\n\\n### 2.\u4ec0\u4e48\u662f Cookie \u9694\u79bb\uff1f\uff08\u6216\u8005\u8bf4\uff1a\u8bf7\u6c42\u8d44\u6e90\u7684\u65f6\u5019\u4e0d\u8981\u8ba9\u5b83\u5e26 cookie \u600e\u4e48\u505a\uff09\\n\\n\u5982\u679c\u9759\u6001\u6587\u4ef6\u90fd\u653e\u5728\u4e3b\u57df\u540d\u4e0b\uff0c\u90a3\u9759\u6001\u6587\u4ef6\u8bf7\u6c42\u7684\u65f6\u5019\u90fd\u5e26\u6709\u7684 cookie \u7684\u6570\u636e\u63d0\u4ea4\u7ed9 server \u7684\uff0c\u975e\u5e38\u6d6a\u8d39\u6d41\u91cf\uff0c\\n\\n\u6240\u4ee5\u4e0d\u5982\u9694\u79bb\u5f00\u3002\\n\\n\u56e0\u4e3a cookie \u6709\u57df\u7684\u9650\u5236\uff0c\u56e0\u6b64\u4e0d\u80fd\u8de8\u57df\u63d0\u4ea4\u8bf7\u6c42\uff0c\u6545\u4f7f\u7528\u975e\u4e3b\u8981\u57df\u540d\u7684\u65f6\u5019\uff0c\u8bf7\u6c42\u5934\u4e2d\u5c31\u4e0d\u4f1a\u5e26\u6709 cookie \u6570\u636e\uff0c\\n\\n\u8fd9\u6837\u53ef\u4ee5\u964d\u4f4e\u8bf7\u6c42\u5934\u7684\u5927\u5c0f\uff0c\u964d\u4f4e\u8bf7\u6c42\u65f6\u95f4\uff0c\u4ece\u800c\u8fbe\u5230\u964d\u4f4e\u6574\u4f53\u8bf7\u6c42\u5ef6\u65f6\u7684\u76ee\u7684\u3002\\n\\n\u540c\u65f6\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u4f1a\u5c06 cookie \u4f20\u5165 Web Server\uff0c\u4e5f\u51cf\u5c11\u4e86 Web Server \u5bf9 cookie \u7684\u5904\u7406\u5206\u6790\u73af\u8282\uff0c\\n\\n\u63d0\u9ad8\u4e86 webserver \u7684 http \u8bf7\u6c42\u7684\u89e3\u6790\u901f\u5ea6\u3002\\n\\n## 14.\u9875\u9762\u7f13\u5b58\u539f\u7406\\n\\n\u9875\u9762\u7f13\u5b58\u72b6\u6001\u662f\u7531 http header \u51b3\u5b9a\u7684\uff0c\u4e00\u4e2a\u6d4f\u89c8\u5668\u8bf7\u6c42\u4fe1\u606f\uff0c\u4e00\u4e2a\u662f\u670d\u52a1\u5668\u54cd\u5e94\u4fe1\u606f\u3002\u4e3b\u8981\u5305\u62ec Pragma: no-cache\u3001Cache-Control\u3001 Expires\u3001 Last-Modified\u3001If-Modified-Since\u3002\\n\\n### Ajax \u89e3\u51b3\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898\uff1f\\n\\n1\u3001\u5728 ajax \u53d1\u9001\u8bf7\u6c42\u524d\u52a0\u4e0a anyAjaxObj.setRequestHeader(\\"If-Modified-Since\\",\\"0\\")\u3002\\n\\n2\u3001\u5728 ajax \u53d1\u9001\u8bf7\u6c42\u524d\u52a0\u4e0a anyAjaxObj.setRequestHeader(\\"Cache-Control\\",\\"no-cache\\")\u3002\\n\\n3\u3001\u5728 URL \u540e\u9762\u52a0\u4e0a\u4e00\u4e2a\u968f\u673a\u6570\uff1a \\"fresh=\\" + Math.random();\u3002\\n\\n4\u3001\u5728 URL \u540e\u9762\u52a0\u4e0a\u65f6\u95f4\u6233\uff1a\\"nowtime=\\" + new Date().getTime();\u3002\\n\\n## 15.xss \u548c csrf\\n\\n## 16.git fetch \u662f\u5e72\u561b\u7684\\n\\n## 17.\u72b6\u6001\u7801 304 \u662f\u5e72\u561b\u7684 \u5177\u4f53\uff0c405 504 \u53c8\u662f\u5e72\u561b\u7684\\n\\n## 18.\u4f2a\u7c7b\u548c\u4f2a\u5143\u7d20\u7684\u533a\u522b\\n\\n## 19.postison \u7684\u51e0\u79cd\u5c5e\u6027\u548c display\\n\\n## 20.\u76d2\u6a21\u578b\u7684\u7406\u89e3\\n\\n## 21.\u539f\u578b\u7ee7\u627f\u7684\u51e0\u79cd\u65b9\u5f0f\\n\\n## 22.\u4e8b\u4ef6\u59d4\u6258\u539f\u7406\\n\\n## 23.\u884c\u5185\u5143\u7d20 \u548c\u5757\u7ea7\u5143\u7d20\u6709\u54ea\u4e9b\uff0c\u53ca\u5176\u533a\u522b\uff1f\\n\\n## 24.display: none; \u4e0e visibility: hidden; \u7684\u533a\u522b\\n\\n![image-20210224220523306](./js\u7684\u6613\u6df7\u70b9/image-20210224220523306.png)"},{"id":"/Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0","metadata":{"permalink":"/blog/Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0","source":"@site/blog/Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0.md","title":"Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0","description":"GeolocationPositionError {code \\"Network location provider at \'https No response received.\\"}\u7684\u6839\u672c\u539f\u56e0\u5206\u6790","date":"2021-01-14T23:16:53.000Z","formattedDate":"2021\u5e741\u670814\u65e5","tags":[{"label":"work","permalink":"/blog/tags/work"},{"label":"python","permalink":"/blog/tags/python"},{"label":"fiddler","permalink":"/blog/tags/fiddler"},{"label":"H5\u5b9a\u4f4d","permalink":"/blog/tags/h-5-\u5b9a\u4f4d"}],"readingTime":2.92,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0","categories":["js","work"],"tags":["work","python","fiddler","H5\u5b9a\u4f4d"],"date":"2021-01-14T23:16:53.000Z"},"prevItem":{"title":"js\u7684\u6613\u6df7\u70b9","permalink":"/blog/js\u7684\u6613\u6df7\u70b9"},"nextItem":{"title":"\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898","permalink":"/blog/\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898"}},"content":"`GeolocationPositionError {code: 2, message: \\"Network location provider at \'https://www.googleapis.com/\' : No response received.\\"}`\u7684\u6839\u672c\u539f\u56e0\u5206\u6790\\n\\n\u4e0a\u7bc7\u6587\u7ae0\u4e2d\u5f97\u51fa\u8c37\u6b4c\u6d4f\u89c8\u5668\u4f7f\u7528 H5 \u5730\u7406\u4f4d\u7f6e API \u4f1a\u8c03\u7528\u63a5\u53e3\u5931\u8d25\uff0c\u4f46\u662f Edge \u4f1a\u6210\u529f\u3002\u60f3\u4e0d\u51fa\u539f\u56e0\uff0c\u770b\u4e86\u5f88\u591a\u6587\u7ae0\u53d1\u73b0\u90fd\u662f\u8981\u6d4f\u89c8\u5668\u8c03\u7528\u8fdc\u7a0b\u670d\u52a1\u7684\uff0c\u4e8e\u662f\u6709\u4e86\u8fd9\u7bc7\u6587\u7ae0\uff0c\u901a\u8fc7 Fiddler \u6293\u5305 H5 API \u8c03\u7528\u7684\u670d\u52a1 \u3010Fiddler \u662f\u5b66 python \u722c\u866b\u65f6\u5019\u5b66\u7684 \ud83e\udd2d\u3011\\n\\n## \u5b89\u88c5\u914d\u7f6e Fidder \u3010\u81ea\u884c\u767e\u5ea6\uff0c\u6b64\u5904\u4e0d\u662f\u91cd\u70b9\u3011\\n\\n\u914d\u7f6e\u9700\u8981\u542f\u7528 Https \u548c \u8bbe\u7f6e\u4ec5\u4ece\u6d4f\u89c8\u5668\u6293\u5305\\n\\n```\\n\u914d\u7f6e\u8def\u5f84\uff1aTool > Options > Https\\n```\\n\\n![image-20210114232605840](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114232605840.png)\\n\\n![image-20210114232648483](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114232648483.png)\\n\\n\u7aef\u53e3\u9ed8\u8ba4 8888\\n\\n![image-20210114232737131](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114232737131.png)\\n\\n\u6d4f\u89c8\u5668\u8f93\u5165 `\u4f60\u7684ip:8888` \uff0c\u51fa\u73b0\u4e0b\u56fe\u754c\u9762\u5c31\u662f\u6210\u529f\u4e86\\n\\n![image-20210114232849251](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114232849251.png)\\n\\n## \u5b89\u88c5\u6d4f\u89c8\u5668\u7684\u4ee3\u7406\u5de5\u5177`Proxy SwitchyOmega`\u3002\\n\\n\u8c37\u6b4c\u3010\u5b89\u88c5\u63d2\u4ef6\u9700\u8981\u79d1\u5b66\u4e00\u70b9\u3011\uff0cEdge \u7684\u76f4\u63a5\u5e94\u7528\u5546\u5e97\u5b89\u88c5\u5c31\u884c\u3002\\n\\n![image-20210114232457571](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114232457571.png)\\n\\n\u914d\u7f6e\u63d2\u4ef6\uff0c\u65b0\u5efa\u60c5\u666f\u6a21\u5f0f\uff0c\u540d\u5b57\u968f\u610f\uff0c\u914d\u7f6e\u6210\u5982\u4e0b\\n\\n![image-20210114232950636](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114232950636.png)\\n\\n\u4f7f\u7528\u60c5\u666f\u6a21\u5f0f\\n\\n![image-20210114233037567](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114233037567.png)\\n\\n## \u6293\u53d6\u6d4f\u89c8\u5668\u7684\u8bf7\u6c42\u3010\u6b64\u5904\u7528\u7684 Edge\u3011\\n\\n\u4efb\u610f\u6253\u5f00\u4e00\u4e2a`https`\u534f\u8bae\u7684\u7f51\u7ad9\uff0c\u6253\u5f00\u63a7\u5236\u53f0\u3002\u8f93\u5165\u5982\u4e0b\u4ee3\u7801\uff0c\u5f00\u59cb\u6293\u5305\\n\\n```js\\nawait navigator.geolocation.getCurrentPosition(\\n  (res) => console.log(res),\\n  (err) => console.error(err)\\n);\\n//\u7ed3\u679c\u5982\u4e0b\\n```\\n\\n```js\\nGeolocationPosition\xa0{coords: GeolocationCoordinates, timestamp: 1610637193291}coords: GeolocationCoordinates\xa0{latitude: 31.296804, longitude: 121.579117, altitude: null, accuracy: 213, altitudeAccuracy: null,\xa0\u2026}timestamp: 1610637193291__proto__: GeolocationPosition\\n```\\n\\n\u67e5\u770b Fidder\\n\\n![image-20210114233341493](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114233341493.png)\\n\\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e5f\u662f\u901a\u8fc7 WIFI \u8fdb\u884c\u5b9a\u4f4d\u7684\uff0c\u7136\u540e\u83b7\u53d6\u7684\u7ecf\u7eac\u5ea6\u3002\\n\\n## \u8c37\u6b4c\u6d4f\u89c8\u5668\u7684\u6293\u5305\u5206\u6790\\n\\n![image-20210114233719506](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114233719506.png)\\n\\n\u63a7\u5236\u53f0\u7ed3\u679c\\n\\n![image-20210114233742043](./Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0/image-20210114233742043.png)\\n\\n# \u5927\u4f6c\u7684\u603b\u7ed3\u6587\u7ae0\u548c\u5404\u79cd\u65b9\u5f0f\u5b9a\u4f4d\u7684\u539f\u7406\\n\\nhttps://blog.csdn.net/fen747042796/article/details/65445122"},{"id":"/\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898","metadata":{"permalink":"/blog/\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898","source":"@site/blog/\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898.md","title":"\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898","description":"1.\u4f7f\u7528 H5 \u7684 api\u3002","date":"2021-01-14T15:40:22.000Z","formattedDate":"2021\u5e741\u670814\u65e5","tags":[{"label":"work","permalink":"/blog/tags/work"},{"label":"H5\u5b9a\u4f4d","permalink":"/blog/tags/h-5-\u5b9a\u4f4d"}],"readingTime":3.475,"hasTruncateMarker":false,"authors":[{"name":"\u4ed8\u4fca\u594e","title":"\u4ece\u517b\u732a\u8f6c\u7801\u519c\u7684\u81ea\u5b66\u8005","url":"https://github.com/fu1996","imageURL":"https://avatars.githubusercontent.com/u/42232973","key":"junkui"}],"frontMatter":{"authors":"junkui","title":"\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898","categories":["js","work"],"tags":["work","H5\u5b9a\u4f4d"],"date":"2021-01-14T15:40:22.000Z"},"prevItem":{"title":"Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0","permalink":"/blog/Fiddler\u6293\u5305\u5206\u6790\u8c37\u6b4c\u6d4f\u89c8\u5668\u8c03\u7528\u5730\u7406\u4f4d\u7f6e\u9519\u8bef\u539f\u56e0"}},"content":"## 1.\u4f7f\u7528 H5 \u7684 api\u3002\\n\\nW3C \u4e2d\u7684\u6b64 API \u8bf4\u660e\uff1ahttps://w3c.github.io/geolocation-api/\\n\\n\u627e\u4e00\u4e2a https\u3010https://www.baidu.com/\u3011\u534f\u8bae\u7684\u7f51\u7ad9\u3010\u6d4b\u8bd5\u7684\u4e0d\u7528https\uff0c\u76f4\u63a5\u6d4f\u89c8\u5668\u6253\u5f00\u672c\u5730HTML\u4e5f\u662f\u53ef\u4ee5\u7684\u3011\uff0c\u7136\u540e\u6253\u5f00\u63a7\u5236\u53f0\uff0c\u8f93\u5165\u4e0b\u9762\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\u80fd\u5426\u4f7f\u7528\u8fd9\u4e2aAPI\u3002\u3010\u9700\u8981\u5141\u8bb8\u6388\u6743\uff0c\u7b49\u8be5GPS\u8fd4\u56de\u6570\u636e\u3011\\n\\n```js\\nawait navigator.geolocation.getCurrentPosition(\\n  (res) => console.log(res),\\n  (err) => console.error(err)\\n);\\n```\\n\\nAPI \u7684\u539f\u7406\uff1ahttps://segmentfault.com/q/1010000004246400?utm_source=sf-similar-question\\n\\n### \u8c37\u6b4c\u6d4f\u89c8\u5668\u4e0b\uff1a\\n\\n\u6b64\u65b9\u6cd5\u4f1a\u8c03\u7528\u8c37\u6b4c API \u7684\u670d\u52a1\uff0c\u56fd\u5185\u7684\u8bdd\uff0c\u8fd8\u662f\u4f1a\u62a5\u9519\u7684\u3002\\n\\n![img](./\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898/\u4f01\u4e1a\u5fae\u4fe1\u622a\u56fe_16106081396879.png)\\n\\n### \u5fae\u8f6f\u7684 Edge:\u8c03\u7528\u6210\u529f\\n\\n![image-20210114155904767](./\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u95ee\u9898/image-20210114155904767.png)\\n\\n## 2.\u501f\u7528\u7b2c\u4e09\u65b9\u5730\u56fe\u7684 api\\n\\n### \u9ad8\u5fb7\u7684\uff1a\\n\\n\u9ad8\u5fb7\u5730\u56fe\u7684\u5b9a\u4f4d api,\u5206\u4e3a\u4e24\u79cd\uff0c\u9ed8\u8ba4\u7684\u8bdd\u662f\u4f7f\u7528 ip \u8fdb\u884c\u7cbe\u786e\u5b9a\u4f4d\uff0c\u5982\u679c IP \u5b9a\u4f4d\u5931\u8d25\u5219\u4f7f\u7528 H5API \u5b9a\u4f4d\uff0c\u5982\u679c\u7528\u6237\u4f7f\u7528\u4e86\u66f4\u6539 ip \u7684\u8f6f\u4ef6\u4f1a\u5b9a\u4f4d\u5931\u8d25\u3002\u7b2c\u4e8c\u79cd\u662f\u4f18\u5148\u4f7f\u7528 H5API \u5b9a\u4f4d\u3010\u4e5f\u5c31\u662f GPS\uff0c\u9700\u8981\u83b7\u53d6\u7528\u6237\u6388\u6743\uff0c\u4f46\u662f\u8c37\u6b4c\u6d4f\u89c8\u5668\u5b58\u5728\u95ee\u9898\uff0c\u3011\u65e0\u6cd5\u83b7\u53d6\u7ecf\u7eac\u5ea6\uff0c\u7136\u540e\u518d\u4f7f\u7528 IP \u5b9a\u4f4d\u3002\\n\\n\u603b\u7684\u6765\u8bf4\uff1a\u4f7f\u7528 IP \u5b9a\u4f4d\u7684\u4f1a\u56e0\u4e3a\u4f7f\u7528\u4ee3\u7406\u8f6f\u4ef6\u800c\u9519\u8bef\u3002\u4f7f\u7528 GPS \u5b9a\u4f4d\u7684\u76ee\u524d\u53d1\u73b0\u8c37\u6b4c\u6d4f\u89c8\u5668\u4f1a\u83b7\u53d6\u5b9a\u4f4d\u5931\u8d25\u3002\\n\\n```js\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n  <head>\\n    <title>GET VIDEO</title>\\n    <meta charset=\\"utf-8\\" />\\n  </head>\\n  <body>\\n    <div id=\\"container\\"></div>\\n    <script\\n      type=\\"text/javascript\\"\\n      src=\\"https://webapi.amap.com/maps?v=1.4.15&key=your_key\\"\\n    ><\/script>\\n    <script>\\n      mapObj = new AMap.Map(\\"iCenter\\");\\n      mapObj.plugin(\\"AMap.Geolocation\\", function () {\\n        geolocation = new AMap.Geolocation({\\n          enableHighAccuracy: true, //\u662f\u5426\u4f7f\u7528\u9ad8\u7cbe\u5ea6\u5b9a\u4f4d\uff0c\u9ed8\u8ba4:true\\n          timeout: 10000, //\u8d85\u8fc710\u79d2\u540e\u505c\u6b62\u5b9a\u4f4d\uff0c\u9ed8\u8ba4\uff1a\u65e0\u7a77\u5927\\n          maximumAge: 0, //\u5b9a\u4f4d\u7ed3\u679c\u7f13\u5b580\u6beb\u79d2\uff0c\u9ed8\u8ba4\uff1a0\\n          convert: true, //\u81ea\u52a8\u504f\u79fb\u5750\u6807\uff0c\u504f\u79fb\u540e\u7684\u5750\u6807\u4e3a\u9ad8\u5fb7\u5750\u6807\uff0c\u9ed8\u8ba4\uff1atrue\\n          showButton: true, //\u663e\u793a\u5b9a\u4f4d\u6309\u94ae\uff0c\u9ed8\u8ba4\uff1atrue\\n          buttonPosition: \\"LB\\", //\u5b9a\u4f4d\u6309\u94ae\u505c\u9760\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\uff1a\'LB\'\uff0c\u5de6\u4e0b\u89d2\\n          buttonOffset: new AMap.Pixel(10, 20), //\u5b9a\u4f4d\u6309\u94ae\u4e0e\u8bbe\u7f6e\u7684\u505c\u9760\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf\uff0c\u9ed8\u8ba4\uff1aPixel(10, 20)\\n          showMarker: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u5728\u5b9a\u4f4d\u5230\u7684\u4f4d\u7f6e\u663e\u793a\u70b9\u6807\u8bb0\uff0c\u9ed8\u8ba4\uff1atrue\\n          showCircle: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u7528\u5706\u5708\u8868\u793a\u5b9a\u4f4d\u7cbe\u5ea6\u8303\u56f4\uff0c\u9ed8\u8ba4\uff1atrue\\n          panToLocation: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u5c06\u5b9a\u4f4d\u5230\u7684\u4f4d\u7f6e\u4f5c\u4e3a\u5730\u56fe\u4e2d\u5fc3\u70b9\uff0c\u9ed8\u8ba4\uff1atrue\\n          zoomToAccuracy: true, //\u5b9a\u4f4d\u6210\u529f\u540e\u8c03\u6574\u5730\u56fe\u89c6\u91ce\u8303\u56f4\u4f7f\u5b9a\u4f4d\u4f4d\u7f6e\u53ca\u7cbe\u5ea6\u8303\u56f4\u89c6\u91ce\u5185\u53ef\u89c1\uff0c\u9ed8\u8ba4\uff1afalse\\n          GeoLocationFirst: true, // \u9ed8\u8ba4\u4e3afalse\uff0c\u8bbe\u7f6e\u4e3atrue\u7684\u65f6\u5019\u53ef\u4ee5\u8c03\u6574PC\u7aef\u4e3a\u4f18\u5148\u4f7f\u7528\u6d4f\u89c8\u5668\u5b9a\u4f4d\uff0c\u5931\u8d25\u540e\u4f7f\u7528IP\u5b9a\u4f4d\\n        });\\n        mapObj.addControl(geolocation);\\n        geolocation.getCurrentPosition();\\n        AMap.event.addListener(geolocation, \\"complete\\", onComplete); //\u8fd4\u56de\u5b9a\u4f4d\u4fe1\u606f\\n        AMap.event.addListener(geolocation, \\"error\\", onError); //\u8fd4\u56de\u5b9a\u4f4d\u51fa\u9519\u4fe1\u606f\\n        function onComplete(data) {\\n          console.log(data);\\n        }\\n      });\\n    <\/script>\\n  </body>\\n</html>\\n\\n```\\n\\n\u4f7f\u7528\u54ea\u79cd\u5b9a\u4f4d\u65b9\u5f0f\u7684\u53c2\u6570:`GeoLocationFirst`\\n\\n\u9ad8\u5fb7\u5730\u56fe API\uff1ahttps://lbs.amap.com/api/javascript-api/reference/location#m_AMap.Geolocation\\n\\n### \u8c37\u6b4c\u5730\u56fe\u7684\uff1a\\n\\n\u5b98\u65b9 API:https://developers.google.cn/maps/documentation/javascript/examples/map-geolocation\\n\\n\u76f8\u5173\u4f7f\u7528\u6587\u6863\uff1ahttps://segmentfault.com/a/1190000006173834"}]}')}}]);