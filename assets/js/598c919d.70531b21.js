"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3494],{3905:(e,n,t)=>{t.d(n,{Zo:()=>o,kt:()=>g});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},o=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),d=u(t),c=r,g=d["".concat(s,".").concat(c)]||d[c]||m[c]||i;return t?a.createElement(g,l(l({ref:n},o),{},{components:t})):a.createElement(g,l({ref:n},o))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=c;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p[d]="string"==typeof e?e:r,l[1]=p;for(var u=2;u<i;u++)l[u]=t[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},5998:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>u});var a=t(87462),r=(t(67294),t(3905));const i={authors:"junkui",title:"10- ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",categories:["ts"],tags:["ts"],date:new Date("2021-01-10T18:56:39.000Z")},l="TS \u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",p={unversionedId:"ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",id:"ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",title:"10- ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",description:"1.\u4ea4\u53c9\u7c7b\u578b",source:"@site/ts/ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b.md",sourceDirName:".",slug:"/ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",permalink:"/ts/ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",draft:!1,editUrl:"https://github.com/fu1996/fu1996.github.io/tree/main/ts/ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b.md",tags:[{label:"ts",permalink:"/ts/tags/ts"}],version:"current",lastUpdatedBy:"fjk",lastUpdatedAt:1688920474,formattedLastUpdatedAt:"2023\u5e747\u67089\u65e5",frontMatter:{authors:"junkui",title:"10- ts\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b",categories:["ts"],tags:["ts"],date:"2021-01-10T18:56:39.000Z"},sidebar:"tutorialSidebar",previous:{title:"08-ts\u4e2d\u7684\u7c7b\u578b\u63a8\u8bba\u548c\u7c7b\u578b\u517c\u5bb9\u6027",permalink:"/ts/ts\u4e2d\u7684\u7c7b\u578b\u63a8\u8bba\u548c\u7c7b\u578b\u517c\u5bb9\u6027"},next:{title:"01-ts\u57fa\u7840\u7c7b\u578b",permalink:"/ts/ts\u57fa\u7840\u7c7b\u578b"}},s={},u=[{value:"1.\u4ea4\u53c9\u7c7b\u578b",id:"1\u4ea4\u53c9\u7c7b\u578b",level:2},{value:"1.\u6982\u5ff5",id:"1\u6982\u5ff5",level:3},{value:"2.\u7528<code>|</code>\u8fde\u63a5\u7684\u8054\u5408\u7c7b\u578b",id:"2\u7528\u8fde\u63a5\u7684\u8054\u5408\u7c7b\u578b",level:2},{value:"1.ts \u53ea\u4f1a\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u4e2d \u7684\u516c\u5171\u90e8\u5206",id:"1ts-\u53ea\u4f1a\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u4e2d-\u7684\u516c\u5171\u90e8\u5206",level:3},{value:"2.\u5bf9\u8fd4\u56de\u7684\u8054\u5408\u7c7b\u578b \u8fdb\u884c\u7c7b\u578b\u65ad\u8a00 \u589e\u5f3a\u7a33\u5b9a\u6027",id:"2\u5bf9\u8fd4\u56de\u7684\u8054\u5408\u7c7b\u578b-\u8fdb\u884c\u7c7b\u578b\u65ad\u8a00-\u589e\u5f3a\u7a33\u5b9a\u6027",level:3},{value:"3.\u5bf9\u65ad\u8a00\u8fdb\u884c\u5c01\u88c5 \u3010\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7c7b\u578b\u4fdd\u62a4 \u3011",id:"3\u5bf9\u65ad\u8a00\u8fdb\u884c\u5c01\u88c5-\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7c7b\u578b\u4fdd\u62a4-",level:3},{value:"4.\u5229\u7528 js \u4e2d\u7684\u7c7b\u578b\u5224\u65ad\u65b9\u6cd5",id:"4\u5229\u7528-js-\u4e2d\u7684\u7c7b\u578b\u5224\u65ad\u65b9\u6cd5",level:3},{value:"1.typeof",id:"1typeof",level:4},{value:"2.instanceof",id:"2instanceof",level:4},{value:"3.<code>null</code>\u548c\u8054\u5408\u7c7b\u578b",id:"3null\u548c\u8054\u5408\u7c7b\u578b",level:2},{value:"4.\u53ef\u9009\u53c2\u6570\u548c\u53ef\u9009\u5c5e\u6027",id:"4\u53ef\u9009\u53c2\u6570\u548c\u53ef\u9009\u5c5e\u6027",level:2},{value:"5.\u53bb\u9664<code>null</code>",id:"5\u53bb\u9664null",level:2},{value:"6.\u7c7b\u578b\u522b\u540d<code>type</code>",id:"6\u7c7b\u578b\u522b\u540dtype",level:2},{value:"7.\u63a5\u53e3\u548c\u7c7b\u578b\u522b\u540d\u7684\u5f02\u540c",id:"7\u63a5\u53e3\u548c\u7c7b\u578b\u522b\u540d\u7684\u5f02\u540c",level:2},{value:"8.\u7c7b\u578b\u522b\u540d\u548c\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7684\u5e94\u7528",id:"8\u7c7b\u578b\u522b\u540d\u548c\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7684\u5e94\u7528",level:2},{value:"9.\u53ef\u8fa8\u8bc6\u8054\u5408\u3010\u53ef\u4ee5\u901a\u8fc7\u90a3\u4e2a\u7279\u5f81\u7c7b\u578b\u6765\u5206\u8fa8\u3011",id:"9\u53ef\u8fa8\u8bc6\u8054\u5408\u53ef\u4ee5\u901a\u8fc7\u90a3\u4e2a\u7279\u5f81\u7c7b\u578b\u6765\u5206\u8fa8",level:2},{value:"\u5b8c\u6574\u6027\u68c0\u67e5 \u3010\u7528\u6237\u9057\u6f0f\u4e86\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\u3011",id:"\u5b8c\u6574\u6027\u68c0\u67e5-\u7528\u6237\u9057\u6f0f\u4e86\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5",level:3},{value:"10.<code>this</code>\u7c7b\u578b",id:"10this\u7c7b\u578b",level:2},{value:"11.\u7d22\u5f15\u7c7b\u578b",id:"11\u7d22\u5f15\u7c7b\u578b",level:2},{value:"<code>keyof</code>\u5173\u952e\u5b57",id:"keyof\u5173\u952e\u5b57",level:3},{value:"<code>T[K]</code>\u7d22\u5f15\u8bbf\u95ee\u64cd\u4f5c\u7b26 \u3010\u548c\u5bf9\u8c61\u6570\u7ec4\u4e00\u6837\u7684\u4f7f\u7528\u65b9\u6cd5\u3011",id:"tk\u7d22\u5f15\u8bbf\u95ee\u64cd\u4f5c\u7b26-\u548c\u5bf9\u8c61\u6570\u7ec4\u4e00\u6837\u7684\u4f7f\u7528\u65b9\u6cd5",level:3},{value:"\u7d22\u5f15\u7c7b\u578b\u548c\u5b57\u7b26\u4e32\u7d22\u5f15\u7b7e\u540d",id:"\u7d22\u5f15\u7c7b\u578b\u548c\u5b57\u7b26\u4e32\u7d22\u5f15\u7b7e\u540d",level:3},{value:"12.\u6620\u5c04\u7c7b\u578b \u3010\u5bf9\u5df2\u77e5\u7684\u7c7b\u578b \u8fdb\u884c\u518d\u4fee\u9970\u64cd\u4f5c\u3011",id:"12\u6620\u5c04\u7c7b\u578b-\u5bf9\u5df2\u77e5\u7684\u7c7b\u578b-\u8fdb\u884c\u518d\u4fee\u9970\u64cd\u4f5c",level:2},{value:"\u6700\u7b80\u5355\u7684\u6620\u5c04\u7c7b\u578b\u7684 DEMO",id:"\u6700\u7b80\u5355\u7684\u6620\u5c04\u7c7b\u578b\u7684-demo",level:3},{value:"\u771f\u5b9e\u573a\u666f\u4e0b\uff1a\u6309\u7167\u4e00\u5b9a\u7684\u65b9\u5f0f\u8f6c\u6362\u5b57\u6bb5",id:"\u771f\u5b9e\u573a\u666f\u4e0b\u6309\u7167\u4e00\u5b9a\u7684\u65b9\u5f0f\u8f6c\u6362\u5b57\u6bb5",level:3},{value:"\u4f7f\u7528\u6cdb\u578b",id:"\u4f7f\u7528\u6cdb\u578b",level:3},{value:"\u3010\u91cd\u70b9\u3011",id:"\u91cd\u70b9",level:3},{value:"\u518d\u6765\u4e00\u4e2a DEMO",id:"\u518d\u6765\u4e00\u4e2a-demo",level:3},{value:"\u7531\u6620\u5c04\u7c7b\u578b\u8fdb\u884c\u63a8\u65ad",id:"\u7531\u6620\u5c04\u7c7b\u578b\u8fdb\u884c\u63a8\u65ad",level:3},{value:"13.\u9884\u5b9a\u4e49\u7684\u6709\u6761\u4ef6\u7c7b\u578b",id:"13\u9884\u5b9a\u4e49\u7684\u6709\u6761\u4ef6\u7c7b\u578b",level:2}],o={toc:u},d="wrapper";function m(e){let{components:n,...i}=e;return(0,r.kt)(d,(0,a.Z)({},o,i,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ts-\u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b"},"TS \u4e2d\u7684\u9ad8\u7ea7\u7c7b\u578b"),(0,r.kt)("h2",{id:"1\u4ea4\u53c9\u7c7b\u578b"},"1.\u4ea4\u53c9\u7c7b\u578b"),(0,r.kt)("h3",{id:"1\u6982\u5ff5"},"1.\u6982\u5ff5"),(0,r.kt)("p",null,"\u4ea4\u53c9\u7c7b\u578b\u53ef\u4ee5\u5c06\u591a\u4e2a\u7c7b\u578b\u6df7\u5408\u4e3a\u4e00\u4e2a\u7c7b\u578b\uff0c\u8fd9\u6709\u52a9\u4e8e\u6211\u4eec\u4f7f\u7528\u73b0\u6709\u7684\u7c7b\u578b\u521b\u9020\u51fa\u4e00\u4e2a\u590d\u5408\u7c7b\u578b\u3002\u4f8b\u5982\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"Person & Serializable & Loggable"),"\u540c\u65f6\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"Person")," ",(0,r.kt)("em",{parentName:"p"},"\u548c")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Serializable")," ",(0,r.kt)("em",{parentName:"p"},"\u548c")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Loggable"),"\u3002 \u5c31\u662f\u8bf4\u8fd9\u4e2a\u7c7b\u578b\u7684\u5bf9\u8c61\u540c\u65f6\u62e5\u6709\u4e86\u8fd9\u4e09\u79cd\u7c7b\u578b\u7684\u6210\u5458\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function extend<T, U>(first: T, second: U): T & U {\n  let result = <T & U>{};\n  for (let id in first) {\n    (<any>result)[id] = (<any>first)[id];\n  }\n  for (let id in second) {\n    if (!result.hasOwnProperty(id)) {\n      (<any>result)[id] = (<any>second)[id];\n    }\n  }\n  return result;\n}\n\nclass Person {\n  constructor(public name: string) {}\n}\n\ninterface Loggable {\n  log(): void;\n}\n\nclass ConsoleLogger implements Loggable {\n  log() {\n    console.log("log");\n  }\n}\n\nlet jim = extend(new Person("Jim"), new ConsoleLogger());\n\nlet myName = jim.name;\nconsole.log({ myName });\njim.log();\n')),(0,r.kt)("h2",{id:"2\u7528\u8fde\u63a5\u7684\u8054\u5408\u7c7b\u578b"},"2.\u7528",(0,r.kt)("inlineCode",{parentName:"h2"},"|"),"\u8fde\u63a5\u7684\u8054\u5408\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// \u6b64\u5904\u7684padding \u53c2\u6570\u9700\u8981\u7684\u7c7b\u578b \u4e3a number \u6216\u8005 string\n// \u4f46\u662f\u5374 \u7528any \u4e0d\u4e25\u8c28\nfunction padLeft(value: string, padding: any) {\n  if (typeof padding === "number") {\n    return Array(padding + 1).join(" ") + value;\n  }\n  if (typeof padding === "string") {\n    return padding + value;\n  }\n  throw new Error(`Expected string or number, got \'${padding}\'.`);\n}\n\npadLeft("Hello world", 4); // returns "    Hello world"\n// \u4f20\u5165 Boolean \u7c7b\u578b \u65f6\u5019 \u7a0b\u5e8f\u4f1a\u8fd0\u884c\u51fa\u9519\npadLeft("Hello world", true); // returns "    Hello world"\n\n// \u4f7f\u7528\u8054\u5408\u7c7b\u578b\nfunction padRight(value: string, padding: number | string) {\n  if (typeof padding === "number") {\n    return Array(padding + 1).join(" ") + value;\n  }\n  if (typeof padding === "string") {\n    return padding + value;\n  }\n  throw new Error(`Expected string or number, got \'${padding}\'.`);\n}\n\npadRight("Hello world", 4); // returns "    Hello world"\n// \u4f20\u5165 Boolean \u7c7b\u578b \u65f6\u5019 \u7a0b\u5e8f\u4f1a\u8fd0\u884c\u51fa\u9519\npadRight("Hello world", true); // \u6b64\u65f6\u4f1a\u62a5\u9519\n')),(0,r.kt)("h3",{id:"1ts-\u53ea\u4f1a\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u4e2d-\u7684\u516c\u5171\u90e8\u5206"},"1.ts \u53ea\u4f1a\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u4e2d \u7684\u516c\u5171\u90e8\u5206"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Bird {\n  fly();\n  layEggs();\n}\n\ninterface Fish {\n  swim();\n  layEggs();\n}\n\nfunction getSmallPet(): Fish | Bird {\n  return {\n    layEggs: () => {},\n    // swim:()=>{}\n    fly: () => {},\n  };\n}\n\nlet pet = getSmallPet();\n// ts \u4e5f\u662f \u7a33\u5982\u8001\u72d7 \u53ea\u4f1a\u8fd4\u56de \u8fd9\u4e2a\u8054\u5408\u5c5e\u6027\u4e2d\u90fd\u6709\u7684\u5c5e\u6027\npet.layEggs;\npet.fly(); // \u4e0d\u5b58\u5728\u516c\u5171\u7684 fly \u65b9\u6cd5 \u4e0d\u786e\u5b9a\u6027\n")),(0,r.kt)("h3",{id:"2\u5bf9\u8fd4\u56de\u7684\u8054\u5408\u7c7b\u578b-\u8fdb\u884c\u7c7b\u578b\u65ad\u8a00-\u589e\u5f3a\u7a33\u5b9a\u6027"},"2.\u5bf9\u8fd4\u56de\u7684\u8054\u5408\u7c7b\u578b \u8fdb\u884c\u7c7b\u578b\u65ad\u8a00 \u589e\u5f3a\u7a33\u5b9a\u6027"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let pet2 = getSmallPet();\npet2.layEggs;\n// \u4f7f\u7528\u65ad\u8a00 \u6765\u5224\u65ad\u5230\u5e95\u4f1a\u8fd4\u56de\u90a3\u79cd\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\nif ((<Fish>pet2).swim) {\n  (<Fish>pet2).swim();\n} else {\n  (<Bird>pet2).fly();\n}\n")),(0,r.kt)("h3",{id:"3\u5bf9\u65ad\u8a00\u8fdb\u884c\u5c01\u88c5-\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7c7b\u578b\u4fdd\u62a4-"},"3.\u5bf9\u65ad\u8a00\u8fdb\u884c\u5c01\u88c5 \u3010\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7c7b\u578b\u4fdd\u62a4 \u3011"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function isFish(pet: Fish | Bird): pet is Fish {\n  // pet is Fish\u5c31\u662f\u7c7b\u578b\u8c13\u8bcd\u3002 \u8c13\u8bcd\u4e3a parameterName is Type\u8fd9\u79cd\u5f62\u5f0f\uff0c\n  // parameterName\u5fc5\u987b\u662f\u6765\u81ea\u4e8e\u5f53\u524d\u51fd\u6570\u7b7e\u540d\u91cc\u7684\u4e00\u4e2a\u53c2\u6570\u540d\u3002\n  return (<Fish>pet).swim !== undefined; // \u771f\u6b63\u53d1\u6325\u4f5c\u7528\u7684\n}\nif (isFish(pet2)) {\n  pet2.swim();\n} else {\n  pet2.fly();\n}\n")),(0,r.kt)("p",null,"\u7f16\u8bd1\u540e\u7684 js \u3010\u7b11\u6b7b\u3011"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function isFish(pet) {\n  // pet is Fish\u5c31\u662f\u7c7b\u578b\u8c13\u8bcd\u3002 \u8c13\u8bcd\u4e3a parameterName is Type\u8fd9\u79cd\u5f62\u5f0f\uff0c\n  // parameterName\u5fc5\u987b\u662f\u6765\u81ea\u4e8e\u5f53\u524d\u51fd\u6570\u7b7e\u540d\u91cc\u7684\u4e00\u4e2a\u53c2\u6570\u540d\u3002\n  return pet.swim !== undefined;\n}\nif (isFish(pet2)) {\n  pet2.swim();\n} else {\n  pet2.fly();\n}\n")),(0,r.kt)("h3",{id:"4\u5229\u7528-js-\u4e2d\u7684\u7c7b\u578b\u5224\u65ad\u65b9\u6cd5"},"4.\u5229\u7528 js \u4e2d\u7684\u7c7b\u578b\u5224\u65ad\u65b9\u6cd5"),(0,r.kt)("h4",{id:"1typeof"},"1.typeof"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// \u4f7f\u7528 \u7c7b\u578b\u65ad\u8a00 \u62bd\u8c61\nfunction isNumber(x: any): x is number {\n  return typeof x === "number";\n}\n\nfunction isString(x: any): x is string {\n  return typeof x === "string";\n}\n\nfunction padLeft(value: string, padding: string | number) {\n  if (isNumber(padding)) {\n    return Array(padding + 1).join(" ") + value;\n  }\n  if (isString(padding)) {\n    return padding + value;\n  }\n  throw new Error(`Expected string or number, got \'${padding}\'.`);\n}\n\n// \u7b80\u6613\u7248 \u76f4\u63a5\u901a\u8fc7 typeof \u5224\u65ad\u4f20\u5165\u7684\u53c2\u6570\u7c7b\u578b\n// \u3010\u8fd9\u5728JS \u4e2d\u5224\u65ad\u7c7b\u578b\u4e5f\u662f\u8fd9\u6837\u505a\u7684\u554a\uff0c\u8fd9\u91cc\u5e94\u8be5\u5c5e\u4e8e\u6b63\u5e38\u64cd\u4f5c\u3011\nfunction padLeft(value: string, padding: string | number) {\n  if (typeof padding === "number") {\n    return Array(padding + 1).join(" ") + value;\n  }\n  if (typeof padding === "string") {\n    return padding + value;\n  }\n  throw new Error(`Expected string or number, got \'${padding}\'.`);\n}\n')),(0,r.kt)("h4",{id:"2instanceof"},"2.instanceof"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// instanceof\u7c7b\u578b\u4fdd\u62a4 \u6784\u9020\u51fd\u6570\u6765\u7ec6\u5316\u7c7b\u578b\u7684\u4e00\u79cd\u65b9\u5f0f\ninterface Padder {\n  getPaddingString(): string;\n}\n\nclass SpaceRepeatingPadder implements Padder {\n  constructor(private numSpaces: number) {}\n  getPaddingString() {\n    return Array(this.numSpaces + 1).join(\" \");\n  }\n  getNum() {\n    return this.numSpaces;\n  }\n}\nclass StringPadder implements Padder {\n  constructor(private value: string) {}\n  getPaddingString() {\n    return this.value;\n  }\n  getString() {\n    return this.value;\n  }\n}\n\nfunction getRandomPadder() {\n  return Math.random() < 0.5\n    ? new SpaceRepeatingPadder(4)\n    : new StringPadder(\"   \");\n}\n// \u7c7b\u578b\u4e3aSpaceRepeatingPadder | StringPadder\nlet padder: Padder = getRandomPadder();\n\n// \u901a\u8fc7\u539f\u578b\u94fe \u7ee7\u627f\u5224\u65ad\nif (padder instanceof SpaceRepeatingPadder) {\n  padder.getNum; // \u7c7b\u578b\u7ec6\u5316\u4e3a'SpaceRepeatingPadder'\n}\nif (padder instanceof StringPadder) {\n  padder.getString; // \u7c7b\u578b\u7ec6\u5316\u4e3a'StringPadder'\n}\n")),(0,r.kt)("h2",{id:"3null\u548c\u8054\u5408\u7c7b\u578b"},"3.",(0,r.kt)("inlineCode",{parentName:"h2"},"null"),"\u548c\u8054\u5408\u7c7b\u578b"),(0,r.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7c7b\u578b\u68c0\u67e5\u5668\u8ba4\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u4e0e ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u53ef\u4ee5\u8d4b\u503c\u7ed9\u4efb\u4f55\u7c7b\u578b\u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u4e0e ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u662f\u6240\u6709\u5176\u5b83\u7c7b\u578b\u7684\u4e00\u4e2a\u6709\u6548\u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"--strictNullChecks"),"\u6807\u8bb0\u53ef\u4ee5\u89e3\u51b3\u6b64\u9519\u8bef\uff1a\u5f53\u4f60\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u65f6\uff0c\u5b83\u4e0d\u4f1a\u81ea\u52a8\u5730\u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u660e\u786e\u7684\u5305\u542b\u5b83\u4eec\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let sss = \"foo\";\nsss = null; // \u9519\u8bef, 'null'\u4e0d\u80fd\u8d4b\u503c\u7ed9'string'\nlet sn: string | null = \"bar\";\nsn = null; // \u53ef\u4ee5\n\nsn = undefined; // error, 'undefined'\u4e0d\u80fd\u8d4b\u503c\u7ed9'string | null'\n")),(0,r.kt)("p",null,"\u6ce8\u610f\uff0c\u6309\u7167 JavaScript \u7684\u8bed\u4e49\uff0cTypeScript \u4f1a\u628a ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u533a\u522b\u5bf9\u5f85\u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"string | null"),"\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"string | undefined"),"\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"string | undefined | null"),"\u662f\u4e0d\u540c\u7684\u7c7b\u578b\u3002"),(0,r.kt)("h2",{id:"4\u53ef\u9009\u53c2\u6570\u548c\u53ef\u9009\u5c5e\u6027"},"4.\u53ef\u9009\u53c2\u6570\u548c\u53ef\u9009\u5c5e\u6027"),(0,r.kt)("p",null,"\u4f7f\u7528\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"--strictNullChecks"),"\uff0c\u53ef\u9009\u53c2\u6570\u4f1a\u88ab\u81ea\u52a8\u5730\u52a0\u4e0a ",(0,r.kt)("inlineCode",{parentName:"p"},"| undefined"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function f(x: number, y?: number) {\n  return x + (y || 0);\n}\nf(1, 2);\nf(1);\nf(1, undefined);\nf(1, null); // error, 'null' is not assignable to 'number | undefined'\n")),(0,r.kt)("p",null,"\u53ef\u9009\u5c5e\u6027\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"class C {\n  a: number;\n  b?: number;\n}\nlet c = new C();\nc.a = 12;\nc.a = undefined; // error, 'undefined' is not assignable to 'number'\nc.b = 13;\nc.b = undefined; // ok\nc.b = null; // error, 'null' is not assignable to 'number | undefined'\n")),(0,r.kt)("h2",{id:"5\u53bb\u9664null"},"5.\u53bb\u9664",(0,r.kt)("inlineCode",{parentName:"h2"},"null")),(0,r.kt)("p",null,"\u8054\u5408\u7c7b\u578b\u53ef\u4ee5\u589e\u52a0\u53ef\u4ee5\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u7684\u7c7b\u578b\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7c7b\u578b\u4fdd\u62a4\uff0c\u7c7b\u578b\u5224\u65ad\u6765\u53bb\u9664",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function f(sn: string | null): string {\n  if (sn == null) {\n    return "default";\n  } else {\n    return sn;\n  }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u77ed\u8def\u8fd0\u7b97\u7b26")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function f(sn: string | null): string {\n  return sn || "default";\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"strong"},"!"))),(0,r.kt)("p",null,"\u5982\u679c\u7f16\u8bd1\u5668\u4e0d\u80fd\u591f\u53bb\u9664 ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u65ad\u8a00\u624b\u52a8\u53bb\u9664\u3002 \u8bed\u6cd5\u662f\u6dfb\u52a0 ",(0,r.kt)("inlineCode",{parentName:"p"},"!"),"\u540e\u7f00\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"identifier!"),"\u4ece ",(0,r.kt)("inlineCode",{parentName:"p"},"identifier"),"\u7684\u7c7b\u578b\u91cc\u53bb\u9664\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function broken(name: string | null): string {\n  function postfix(epithet: string) {\n    return name.charAt(0) + ".  the " + epithet; // error, \'name\' is possibly null\n  }\n  name = name || "Bob";\n  return postfix("great");\n}\n\nfunction fixed(name: string | null): string {\n  function postfix(epithet: string) {\n    return name!.charAt(0) + ".  the " + epithet; // ok\n  }\n  name = name || "Bob";\n  return postfix("great");\n}\n')),(0,r.kt)("h2",{id:"6\u7c7b\u578b\u522b\u540dtype"},"6.\u7c7b\u578b\u522b\u540d",(0,r.kt)("inlineCode",{parentName:"h2"},"type")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6982\u5ff5")),(0,r.kt)("p",null,"\u81ea\u5b9a\u4e49\u4f60\u81ea\u5df1\u7684\u7c7b\u578b\u4ee5\u53ca\u7c7b\u578b\u7684\u540d\u5b57"),(0,r.kt)("p",null,"\u8d77\u522b\u540d\u4e0d\u4f1a\u65b0\u5efa\u4e00\u4e2a\u7c7b\u578b - \u5b83\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0 ",(0,r.kt)("strong",{parentName:"p"},"\u540d\u5b57"),"\u6765\u5f15\u7528\u90a3\u4e2a\u7c7b\u578b\u3002 \u7ed9\u539f\u59cb\u7c7b\u578b\u8d77\u522b\u540d\u901a\u5e38\u6ca1\u4ec0\u4e48\u7528\uff0c\u5c3d\u7ba1\u53ef\u4ee5\u505a\u4e3a\u6587\u6863\u7684\u4e00\u79cd\u5f62\u5f0f\u4f7f\u7528\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Name = string; // string \u7c7b\u578b \u53d8\u4e3a Name\ntype NameResolver = () => string; // \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u51fd\u6570\u53d8\u4e3a NameResolver\ntype NameOrNameResolver = Name | NameResolver;\n\nfunction getName(n: NameOrNameResolver): Name {\n  if (typeof n === "string") {\n    return n; // \u7c7b\u578b\u4e3a string\n  } else {\n    return n(); // \u7c7b\u578b\u4e3a NameResolver\n  }\n}\n// \u7c7b\u578b \u522b\u540d\u4e3a \u6cdb\u578b\ntype Container<T> = { value: T };\n\n// \u7c7b\u578b \u522b\u7528\u7684 \u9012\u5f52\u4f7f\u7528\ntype Tree<T> = {\n  value: T;\n  left: Tree<T>;\n  right: Tree<T>;\n};\n// \u7c7b\u578b\u522b\u540d\u7684\u4ea4\u53c9\u4f7f\u7528\ntype LinkedList<T> = T & { next: LinkedList<T> };\n\ninterface Person {\n  name: string;\n}\n\nvar people: LinkedList<Person>;\nvar ssss = people.name;\nvar ssss = people.next.name;\nvar ssss = people.next.next.name;\nvar ssss = people.next.next.next.name;\n')),(0,r.kt)("h2",{id:"7\u63a5\u53e3\u548c\u7c7b\u578b\u522b\u540d\u7684\u5f02\u540c"},"7.\u63a5\u53e3\u548c\u7c7b\u578b\u522b\u540d\u7684\u5f02\u540c"),(0,r.kt)("p",null,"\u7c7b\u578b\u522b\u540d\u548c\u63a5\u53e3\u4e00\u6837\u867d\u7136\u4e5f\u81ea\u5b9a\u4e49\u4e86\u7c7b\u578b\uff0c\u4f46\u662f\u63a5\u53e3\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u540d\u5b57\uff0c\u53ef\u4ee5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\uff0c\u76f4\u63a5\u5728\u9519\u8bef\u4fe1\u606f\u4e2d\u5c55\u793a\u51fa\u63a5\u53e3\u540d\u5b57\uff0c\u800c\u9519\u8bef\u4fe1\u606f\u4e0d\u4f1a\u5c55\u793a \u7c7b\u578b\u522b\u540d\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Alias = { num: number };\ninterface Interface {\n  num: number;\n}\ndeclare function aliased(arg: Alias): Alias;\ndeclare function interfaced(arg: Interface): Interface;\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20210110203110476",src:t(40261).Z,width:"856",height:"391"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20210110203125700",src:t(95720).Z,width:"902",height:"256"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u63a5\u53e3\u521b\u5efa\u4e86\u65b0\u7684\u540d\u5b57\uff0c\u9f20\u6807\u60ac\u505c\u7684\u65f6\u5019\u4f1a\u663e\u793a\u65b0\u521b\u5efa\u7684\u540d\u5b57\uff0c\u800c\u7c7b\u578b\u522b\u540d\u662f\u628a\u7c7b\u578b\u76f4\u63a5\u5c55\u793a\u51fa\u6765\u3010\u5bf9\u8c61\u5b57\u9762\u91cf\u7c7b\u578b\u3011"),(0,r.kt)("li",{parentName:"ol"},"\u7c7b\u578b\u522b\u540d \u4e0d\u80fd\u88ab ",(0,r.kt)("inlineCode",{parentName:"li"},"extends"),"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"implements"),"\u3010\u7ee7\u627f\u548c\u5b9e\u73b0\u3011\uff0c\u7c7b\u578b\u522b\u540d\u4e5f\u4e0d\u80fd\u81ea\u5df1\u53bb\u7ee7\u627f\u548c\u5b9e\u73b0\u5176\u4ed6\u7c7b\u578b"),(0,r.kt)("li",{parentName:"ol"},"\u5982\u679c\u4f60\u65e0\u6cd5\u901a\u8fc7\u63a5\u53e3\u6765\u63cf\u8ff0\u4e00\u4e2a\u7c7b\u578b\u5e76\u4e14\u9700\u8981\u4f7f\u7528\u8054\u5408\u7c7b\u578b\u6216\u5143\u7ec4\u7c7b\u578b\uff0c\u8fd9\u65f6\u901a\u5e38\u4f1a\u4f7f\u7528\u7c7b\u578b\u522b\u540d\u3002")),(0,r.kt)("h2",{id:"8\u7c7b\u578b\u522b\u540d\u548c\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7684\u5e94\u7528"},"8.\u7c7b\u578b\u522b\u540d\u548c\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7684\u5e94\u7528"),(0,r.kt)("p",null,"\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u5141\u8bb8\u4f60\u6307\u5b9a\u5b57\u7b26\u4e32\u5fc5\u987b\u7684\u56fa\u5b9a\u503c\u3002 \u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u53ef\u4ee5\u4e0e\u8054\u5408\u7c7b\u578b\uff0c\u7c7b\u578b\u4fdd\u62a4\u548c\u7c7b\u578b\u522b\u540d\u5f88\u597d\u7684\u914d\u5408\u3002 \u901a\u8fc7\u7ed3\u5408\u4f7f\u7528\u8fd9\u4e9b\u7279\u6027\uff0c\u4f60\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c",(0,r.kt)("inlineCode",{parentName:"p"},"\u679a\u4e3e\u7c7b\u578b"),"\u7684\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Easing = "a" | "b" | "c";\nclass UIEle {\n  animate(stringType: Easing) {\n    if (stringType === "a") {\n    } else if (stringType === "b") {\n    } else if (stringType === "c") {\n    } else {\n      return "aa";\n    }\n  }\n}\n\nlet AUI = new UIEle();\nAUI.animate("a");\nAUI.animate("b");\nAUI.animate("c");\nAUI.animate("d"); // \u62a5\u9519 \u4e0d\u5b58\u5728\n\n// \u51fd\u6570\u91cd\u8f7d\n// function createElement(tagName: "img"): HTMLImageElement;\n// function createElement(tagName: "input"): HTMLInputElement;\n// // ... more overloads ...\n// function createElement(tagName: string) {\n//     // ... code goes here ...\n// }\n')),(0,r.kt)("h2",{id:"9\u53ef\u8fa8\u8bc6\u8054\u5408\u53ef\u4ee5\u901a\u8fc7\u90a3\u4e2a\u7279\u5f81\u7c7b\u578b\u6765\u5206\u8fa8"},"9.\u53ef\u8fa8\u8bc6\u8054\u5408\u3010\u53ef\u4ee5\u901a\u8fc7\u90a3\u4e2a\u7279\u5f81\u7c7b\u578b\u6765\u5206\u8fa8\u3011"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'interface Square {\n  kind: "square";\n  size: number;\n}\ninterface Rectangle {\n  kind: "rectangle";\n  width: number;\n  height: number;\n}\ninterface Circle {\n  kind: "circle";\n  radius: number;\n}\n// 3\u4e2a\u63a5\u53e3\u4e2d \u90fd\u6709\u5171\u6709\u7684\u952e kind \u4f46\u662f \u8be5\u952e\u7684\u503c \u90fd\u4e0d\u4e00\u6837\n// \u53ef\u4ee5\u7528\u8fd9\u4e2a\u5b57\u6bb5\u7c7b\u5206\u8fa8\u662f\u90a3\u4e2a\u63a5\u53e3\u7c7b\u578b\ntype Shape = Square | Rectangle | Circle;\n\nfunction area(s: Shape) {\n  switch (s.kind) {\n    case "square":\n      return s.size * s.size;\n    case "rectangle":\n      return s.height * s.width;\n    case "circle":\n      return Math.PI * s.radius ** 2;\n  }\n}\n')),(0,r.kt)("p",null,"\u58f0\u660e\u4e86\u5c06\u8981\u8054\u5408\u7684\u63a5\u53e3\u3002 \u6bcf\u4e2a\u63a5\u53e3\u90fd\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"kind"),"\u5c5e\u6027\u4f46\u6709\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"kind"),"\u5c5e\u6027\u79f0\u505a ",(0,r.kt)("em",{parentName:"p"},"\u53ef\u8fa8\u8bc6\u7684\u7279\u5f81"),"\u6216 ",(0,r.kt)("em",{parentName:"p"},"\u6807\u7b7e"),"\u3002"),(0,r.kt)("h3",{id:"\u5b8c\u6574\u6027\u68c0\u67e5-\u7528\u6237\u9057\u6f0f\u4e86\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5"},"\u5b8c\u6574\u6027\u68c0\u67e5 \u3010\u7528\u6237\u9057\u6f0f\u4e86\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\u3011"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Shape = Square | Rectangle | Circle;\n\nfunction area(s: Shape) {\n  switch (s.kind) {\n    case "square":\n      return s.size * s.size;\n    case "rectangle":\n      return s.height * s.width;\n  }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Shape"),"\u53ef\u80fd\u4e3a 3 \u4e2d\u60c5\u51b5\uff0c\u4f46\u662f\u5728 switch \u4e2d\u5374\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u6b64\u65f6\u9700\u8981\u7f16\u8bd1\u5668\u63d0\u9192\u6211\u4eec\u62a5\u9519"),(0,r.kt)("p",null,"\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u3002 \u9996\u5148\u662f\u542f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"--strictNullChecks"),"\u5e76\u4e14\u6307\u5b9a\u4e00\u4e2a\u8fd4\u56de\u503c\u7c7b\u578b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function area(s: Shape): number {\n  switch (s.kind) {\n    case "square":\n      return s.size * s.size;\n    case "rectangle":\n      return s.height * s.width;\n  }\n}\n')),(0,r.kt)("p",null,"\u56e0\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"switch"),"\u6ca1\u6709\u5305\u6db5\u6240\u6709\u60c5\u51b5\uff0c\u6240\u4ee5 TypeScript \u8ba4\u4e3a\u8fd9\u4e2a\u51fd\u6570\u6709\u65f6\u5019\u4f1a\u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u3002 \u5982\u679c\u4f60\u660e\u786e\u5730\u6307\u5b9a\u4e86\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"number"),"\uff0c\u90a3\u4e48\u4f60\u4f1a\u770b\u5230\u4e00\u4e2a\u9519\u8bef\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e0a\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"number | undefined"),"\u3002 \u7136\u800c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5b58\u5728\u4e9b\u5fae\u5999\u4e4b\u5904\u4e14 ",(0,r.kt)("inlineCode",{parentName:"p"},"--strictNullChecks"),"\u5bf9\u65e7\u4ee3\u7801\u652f\u6301\u4e0d\u597d\u3002"),(0,r.kt)("p",null,"\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\uff0c\u7f16\u8bd1\u5668\u7528\u5b83\u6765\u8fdb\u884c\u5b8c\u6574\u6027\u68c0\u67e5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function assertNever(x: never): never {\n  throw new Error("Unexpected object: " + x);\n}\n// 3\u4e2a\u63a5\u53e3\u4e2d \u90fd\u6709\u5171\u6709\u7684\u952e kind \u4f46\u662f \u8be5\u952e\u7684\u503c \u90fd\u4e0d\u4e00\u6837\n// \u53ef\u4ee5\u7528\u8fd9\u4e2a\u5b57\u6bb5\u7c7b\u5206\u8fa8\u662f\u90a3\u4e2a\u63a5\u53e3\u7c7b\u578b\ntype Shape = Square | Rectangle | Circle;\n\nfunction area(s: Shape): number {\n  switch (s.kind) {\n    case "square":\n      return s.size * s.size;\n    case "rectangle":\n      return s.height * s.width;\n    // case "circle":return s.radius\n    default:\n      return assertNever(s);\n  }\n}\n')),(0,r.kt)("p",null,"\u8fd9\u91cc\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"assertNever"),"\u68c0\u67e5 ",(0,r.kt)("inlineCode",{parentName:"p"},"s"),"\u662f\u5426\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\u2014\u5373\u4e3a\u9664\u53bb\u6240\u6709\u53ef\u80fd\u60c5\u51b5\u540e\u5269\u4e0b\u7684\u7c7b\u578b\u3002 \u5982\u679c\u4f60\u5fd8\u8bb0\u4e86\u67d0\u4e2a case\uff0c\u90a3\u4e48 ",(0,r.kt)("inlineCode",{parentName:"p"},"s"),"\u5c06\u5177\u6709\u4e00\u4e2a\u771f\u5b9e\u7684\u7c7b\u578b\u5e76\u4e14\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\u3002 \u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u4f60\u5b9a\u4e49\u4e00\u4e2a\u989d\u5916\u7684\u51fd\u6570\uff0c\u4f46\u662f\u5728\u4f60\u5fd8\u8bb0\u67d0\u4e2a case \u7684\u65f6\u5019\u4e5f\u66f4\u52a0\u660e\u663e\u3002"),(0,r.kt)("h2",{id:"10this\u7c7b\u578b"},"10.",(0,r.kt)("inlineCode",{parentName:"h2"},"this"),"\u7c7b\u578b"),(0,r.kt)("p",null,"\u7c7b\u7684\u65b9\u6cd5\u8fd4\u56de this,\u4ee3\u8868\u5f53\u524d\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528\u94fe\u5f0f\u7ed3\u6784"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"class BasicCalcution {\n  public constructor(protected value: number = 0) {}\n  public currentValue(): number {\n    return this.value;\n  }\n  // \u6b64\u5904\u8fd4\u56de\u7684\u662f this \u5b9e\u4f8b\n  public add(operand: number): this {\n    this.value += operand;\n    return this;\n  }\n  public multiply(operand: number): this {\n    this.value *= operand;\n    return this;\n  }\n}\n// \u65b9\u6cd5\u6267\u884c\u540e\u8fd4\u56de\u7684\u5f53\u524d\u5b9e\u4f8b \u53ef\u4ee5\u94fe\u5f0f\u8c03\u7528\nlet v = new BasicCalcution(1).add(2).multiply(3).currentValue();\n")),(0,r.kt)("h2",{id:"11\u7d22\u5f15\u7c7b\u578b"},"11.\u7d22\u5f15\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// \u83b7\u53d6\u662f\u7d22\u5f15\u7c7b\u578b\u7684 \u6240\u6709\u7684\u5c5e\u6027\nfunction pluck(o, names) {\n  return names.map((n) => o[n]);\n}\n\n// \u4f7f\u7528ts \u5199\u6cd5\nfunction plucks<T, K extends keyof T>(o: T, names: K[]): T[K][] {\n  return names.map((n) => o[n]);\n}\n\ninterface Person {\n  name: string;\n  age: number;\n}\n\nlet person: Person = {\n  name: "hhh",\n  age: 18,\n};\n\nlet strings: string[] = plucks(person, ["name"]);\n// \u6b64\u65f6\u62a5\u9519\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u786e\u5b9a\uff0c\u662f name \u5c31\u662f string [] \u662fage \u5c31\u662f number[]\n// \u6240\u4ee5\u8fd9\u4e2alist \u6709\u4e24\u4e2a\u8fd4\u56de\u7c7b\u578b\nlet list: string[] = plucks(person); // \u8fd8\u6709\u81ea\u52a8\u8865\u5168\u7684\u6821\u9a8c\u63d0\u793a\nconsole.log(strings);\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20210116111017350",src:t(29832).Z,width:"1277",height:"172"})),(0,r.kt)("h3",{id:"keyof\u5173\u952e\u5b57"},(0,r.kt)("inlineCode",{parentName:"h3"},"keyof"),"\u5173\u952e\u5b57"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7d22\u5f15\u5c5e\u6027\u67e5\u8be2\u64cd\u4f5c\u7b26"),"\uff1a\u4f1a\u8fd4\u56de\u88ab\u67e5\u8be2\u7684\u7c7b\u578b\uff08\u6bd4\u5982\uff1aT\uff09\uff0c\u4e0a\u5df2\u77e5\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"\u516c\u5171\u5c5e\u6027\u540d\u7684\u8054\u5408\u7c7b\u578b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let personProps: keyof Person; // 'name' | 'age'\n")),(0,r.kt)("h3",{id:"tk\u7d22\u5f15\u8bbf\u95ee\u64cd\u4f5c\u7b26-\u548c\u5bf9\u8c61\u6570\u7ec4\u4e00\u6837\u7684\u4f7f\u7528\u65b9\u6cd5"},(0,r.kt)("inlineCode",{parentName:"h3"},"T[K]"),"\u7d22\u5f15\u8bbf\u95ee\u64cd\u4f5c\u7b26 \u3010\u548c\u5bf9\u8c61\u6570\u7ec4\u4e00\u6837\u7684\u4f7f\u7528\u65b9\u6cd5\u3011"),(0,r.kt)("p",null,"\u5219\u5c31\u76f8\u5f53\u4e8e\u662f \u5bf9\u8c61\u6570\u7ec4\u7684\u7d22\u5f15\u8bbf\u95ee\u7684\u8bed\u6cd5\uff0c\u53ea\u4e0d\u8fc7\u662f\u7528\u5728\u7c7b\u578b\u53d8\u91cf\u4e0a\u4e86\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function getProperty<T, K extends keyof T>(o: T, name: K): T[K] {\n  return o[name]; // o[name] is of type T[K]\n}\n")),(0,r.kt)("p",null,"\u9700\u8981\u4fdd\u8bc1\u7c7b\u578b\u53d8\u91cf K \u662f\u7c7b\u578b\u53d8\u91cf T \u7684\u7d22\u5f15\u5c5e\u6027\uff0c\u5373\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"K extends keyof T")),(0,r.kt)("h3",{id:"\u7d22\u5f15\u7c7b\u578b\u548c\u5b57\u7b26\u4e32\u7d22\u5f15\u7b7e\u540d"},"\u7d22\u5f15\u7c7b\u578b\u548c\u5b57\u7b26\u4e32\u7d22\u5f15\u7b7e\u540d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'interface Maps<T> {\n  [key: string]: T;\n}\n\n// \u952e\u503c\u7ed3\u6784\u4e2d\u7684 \u952e\nlet keys: keyof Maps<number>; // string\n// \u952e\u503c\u7ed3\u6784\u4e2d\u7684 \u503c\nlet valus: Maps<number>; // number\n\ninterface NewMaps<T, U> {\n  [BigKey: U]: T; // \u7d22\u5f15\u7b7e\u540d\u7684\u53c2\u6570\u53ea\u80fd\u4e3a string \u6216\u8005 number [\u6570\u7ec4\u7684\u4e3a\u6570\u5b57\uff0c\u5bf9\u8c61\u7684\u4e3a\u5b57\u7b26\u4e32\u6216\u8005number]\n}\n\ntype numberString = number | string | boolean;\n\ninterface NumberMaps<U extends numberString> {\n  [NumberKey: number]: U;\n}\n\nlet numberKeys: keyof Maps<string>; // number \u5c5e\u4e8e string\u7684\u5b50\u96c6 \u6b64\u5904\u65e2\u53ef\u4ee5\u662fnumber \u6216\u8005 string\n\nlet numberValues: NumberMaps<number>;\n\nlet numObj: NumberMaps<boolean> = {\n  "1": true,\n  "2": false,\n};\nnumberValues = numObj["1"];\n\nlet stringValues: NumberMaps<string>;\nstringValues = numObj["2"];\n')),(0,r.kt)("h2",{id:"12\u6620\u5c04\u7c7b\u578b-\u5bf9\u5df2\u77e5\u7684\u7c7b\u578b-\u8fdb\u884c\u518d\u4fee\u9970\u64cd\u4f5c"},"12.\u6620\u5c04\u7c7b\u578b \u3010\u5bf9\u5df2\u77e5\u7684\u7c7b\u578b \u8fdb\u884c\u518d\u4fee\u9970\u64cd\u4f5c\u3011"),(0,r.kt)("p",null,"\u5bf9\u5df2\u77e5\u7684\u786e\u5b9a\u7684\u7c7b\u578b\u8fdb\u884c\u518d\u4fee\u9970\u64cd\u4f5c\uff0c\u7c7b\u4f3c\u4e8e \u7ee7\u627f \u554a\uff0c\u51fd\u6570\u7684\u88c5\u9970\u5668\u554a\u3002"),(0,r.kt)("p",null,"\u4ece",(0,r.kt)("inlineCode",{parentName:"p"},"\u65e7\u7c7b\u578b"),"\u4e2d\u521b\u5efa\u51fa\u4e00\u4e2a\u57fa\u4e8e\u65e7\u7c7b\u578b\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"\u65b0\u7c7b\u578b"),"\u5c31\u53eb",(0,r.kt)("inlineCode",{parentName:"p"},"\u6620\u5c04\u7c7b\u578b")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"\u65e7\u7c7b\u578b"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface PersonPartial {\n  name: string;\n  age: number;\n}\n")),(0,r.kt)("p",null,"\u5df2\u77e5\u7684\u7c7b\u578b\u6bcf\u4e2a\u5c5e\u6027\u90fd\u53d8\u4e3a\u53ef\u9009\u7684\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Person {\n  name?: string;\n  age?: number;\n}\n")),(0,r.kt)("p",null,"\u53d8\u4e3a\u53ea\u8bfb\u7684\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface PersonReadonly {\n  readonly name: string;\n  readonly age: number;\n}\n")),(0,r.kt)("p",null,"\u5047\u8bbe\u73b0\u6709\u7c7b\u578b\u6709\u51e0\u5341\u4e2a\u5c5e\u6027\u5462\uff1f\u8981\u4e00\u4e2a\u4e00\u4e2a\u7684\u6539\u592a\u9ebb\u70e6\u4e86\u3002\u4f7f\u7528\u6620\u5c04\u7c7b\u578b\u6765\u4fee\u9970"),(0,r.kt)("p",null,"\u6620\u5c04\u7c7b\u578b\u7684\u5de5\u5382\u4fee\u9970"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Readonly<T> = {\n  readonly [P in keyof T]: T[P];\n};\ntype Partial<T> = {\n  [P in keyof T]?: T[P];\n};\n")),(0,r.kt)("p",null,"\u4f7f\u7528\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type PersonPartial = Partial<Person>;\ntype ReadonlyPerson = Readonly<Person>;\n")),(0,r.kt)("h3",{id:"\u6700\u7b80\u5355\u7684\u6620\u5c04\u7c7b\u578b\u7684-demo"},"\u6700\u7b80\u5355\u7684\u6620\u5c04\u7c7b\u578b\u7684 DEMO"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Keys = "option1" | "option2";\ntype Flags = { [K in Keys]: boolean };\n\n// \u4e0a\u9762\u7684 Flags \u7b49\u540c\u4e8e\ntype FlagsEqual = {\n  option1: boolean;\n  option2: boolean;\n};\n')),(0,r.kt)("p",null,"\u5b83\u7684\u8bed\u6cd5\u4e0e\u7d22\u5f15\u7b7e\u540d\u7684\u8bed\u6cd5\u7c7b\u578b\uff0c\u5185\u90e8\u4f7f\u7528\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"for .. in"),"\u3002 \u5177\u6709\u4e09\u4e2a\u90e8\u5206\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u7c7b\u578b\u53d8\u91cf ",(0,r.kt)("inlineCode",{parentName:"li"},"K"),"\uff0c\u5b83\u4f1a\u4f9d\u6b21\u7ed1\u5b9a\u5230\u6bcf\u4e2a\u5c5e\u6027\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u8054\u5408\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"Keys"),"\uff0c\u5b83\u5305\u542b\u4e86\u8981\u8fed\u4ee3\u7684\u5c5e\u6027\u540d\u7684\u96c6\u5408\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5c5e\u6027\u7684\u7ed3\u679c\u7c7b\u578b\u3002")),(0,r.kt)("h3",{id:"\u771f\u5b9e\u573a\u666f\u4e0b\u6309\u7167\u4e00\u5b9a\u7684\u65b9\u5f0f\u8f6c\u6362\u5b57\u6bb5"},"\u771f\u5b9e\u573a\u666f\u4e0b\uff1a\u6309\u7167\u4e00\u5b9a\u7684\u65b9\u5f0f\u8f6c\u6362\u5b57\u6bb5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type NullablePerson = { [P in keyof Person]: Person[P] | null }; // \u53ef\u4ee5\u4e3a null\ntype PartialPerson = { [P in keyof Person]?: Person[P] }; // \u53d8\u4e3a\u53ef\u9009\u5b57\u6bb5\n")),(0,r.kt)("h3",{id:"\u4f7f\u7528\u6cdb\u578b"},"\u4f7f\u7528\u6cdb\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Nullable<T> = { [P in keyof T]: T[P] | null };\ntype Partial<T> = { [P in keyof T]?: T[P] };\n")),(0,r.kt)("h3",{id:"\u91cd\u70b9"},"\u3010\u91cd\u70b9\u3011"),(0,r.kt)("p",null,"\u6620\u5c04\u53ea\u4f5c\u7528\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u7684\u5c5e\u6027\u800c\u6ca1\u6709\u5176\u5b83\u7684\u3002 \u7f16\u8bd1\u5668\u77e5\u9053\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"\u6dfb\u52a0\u4efb\u4f55\u65b0\u5c5e\u6027\u4e4b\u524d\u53ef\u4ee5\u62f7\u8d1d\u6240\u6709\u5b58\u5728\u7684\u5c5e\u6027\u4fee\u9970\u7b26"),"\u3002 \u4f8b\u5982\uff0c\u5047\u8bbe ",(0,r.kt)("inlineCode",{parentName:"p"},"Person.name"),"\u662f\u53ea\u8bfb\u7684\uff0c\u90a3\u4e48 ",(0,r.kt)("inlineCode",{parentName:"p"},"Partial<Person>.name"),"\u4e5f\u5c06\u662f\u53ea\u8bfb\u7684\u4e14\u4e3a\u53ef\u9009\u7684\u3002"),(0,r.kt)("h3",{id:"\u518d\u6765\u4e00\u4e2a-demo"},"\u518d\u6765\u4e00\u4e2a DEMO"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// \u57fa\u7840\u7c7b\u578b\ntype Proxy<T> = {\n  get(): T;\n  set(value: T): void;\n};\n// \u8fdb\u884c\u4fee\u9970\ntype Proxify<T> = {\n  [P in keyof T]: Proxy<T[P]>;\n};\nfunction proxify<T>(o: T): Proxify<T> {\n  // ... wrap proxies ...\n  return;\n}\nlet proxyProps = proxify({ aaa: "bbb" });\n')),(0,r.kt)("h3",{id:"\u7531\u6620\u5c04\u7c7b\u578b\u8fdb\u884c\u63a8\u65ad"},"\u7531\u6620\u5c04\u7c7b\u578b\u8fdb\u884c\u63a8\u65ad"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function unproxify<T>(t: Proxify<T>): T {\n  let result = {} as T;\n  for (const k in t) {\n    result[k] = t[k].get();\n  }\n  return result;\n}\n\nlet originalProps = unproxify(proxyProps);\n")),(0,r.kt)("p",null,"\u6ce8\u610f\u8fd9\u4e2a\u62c6\u5305\u63a8\u65ad\u53ea\u9002\u7528\u4e8e\u540c\u6001\u7684\u6620\u5c04\u7c7b\u578b\u3002 \u5982\u679c\u6620\u5c04\u7c7b\u578b\u4e0d\u662f\u540c\u6001\u7684\uff0c\u90a3\u4e48\u9700\u8981\u7ed9\u62c6\u5305\u51fd\u6570\u4e00\u4e2a\u660e\u786e\u7684\u7c7b\u578b\u53c2\u6570\u3002"),(0,r.kt)("h2",{id:"13\u9884\u5b9a\u4e49\u7684\u6709\u6761\u4ef6\u7c7b\u578b"},"13.\u9884\u5b9a\u4e49\u7684\u6709\u6761\u4ef6\u7c7b\u578b"),(0,r.kt)("p",null,"ts2.8 \u7248\u672c"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Exclude<T, U>")," -- \u4ece",(0,r.kt)("inlineCode",{parentName:"li"},"T"),"\u4e2d\u5254\u9664\u53ef\u4ee5\u8d4b\u503c\u7ed9",(0,r.kt)("inlineCode",{parentName:"li"},"U"),"\u7684\u7c7b\u578b\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Extract<T, U>")," -- \u63d0\u53d6",(0,r.kt)("inlineCode",{parentName:"li"},"T"),"\u4e2d\u53ef\u4ee5\u8d4b\u503c\u7ed9",(0,r.kt)("inlineCode",{parentName:"li"},"U"),"\u7684\u7c7b\u578b\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NonNullable<T>")," -- \u4ece",(0,r.kt)("inlineCode",{parentName:"li"},"T"),"\u4e2d\u5254\u9664",(0,r.kt)("inlineCode",{parentName:"li"},"null"),"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"undefined"),"\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ReturnType<T>")," -- \u83b7\u53d6\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"InstanceType<T>")," -- \u83b7\u53d6\u6784\u9020\u51fd\u6570\u7c7b\u578b\u7684\u5b9e\u4f8b\u7c7b\u578b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type T00 = Exclude<"a" | "b" | "c" | "d", "a" | "c" | "f">; // "b" | "d"\ntype T01 = Extract<"a" | "b" | "c" | "d", "a" | "c" | "f">; // "a" | "c"\n\ntype T02 = Exclude<string | number | (() => void), Function>; // string | number\ntype T03 = Extract<string | number | (() => void), Function>; // () => void\n\ntype T04 = NonNullable<string | number | undefined>; // string | number\ntype T05 = NonNullable<(() => string) | string[] | null | undefined>; // (() => string) | string[]\n\nfunction f1(s: string) {\n  return { a: 1, b: s };\n}\n\nclass C {\n  x = 0;\n  y = 0;\n}\n\ntype T10 = ReturnType<() => string>; // string\ntype T11 = ReturnType<(s: string) => void>; // void\ntype T12 = ReturnType<<T>() => T>; // {}\ntype T13 = ReturnType<<T extends U, U extends number[]>() => T>; // number[]\ntype T14 = ReturnType<typeof f1>; // { a: number, b: string }\ntype T15 = ReturnType<any>; // any\ntype T16 = ReturnType<never>; // any\ntype T17 = ReturnType<string>; // Error\ntype T18 = ReturnType<Function>; // Error\n\ntype T20 = InstanceType<typeof C>; // C\ntype T21 = InstanceType<any>; // any\ntype T22 = InstanceType<never>; // any\ntype T23 = InstanceType<string>; // Error\ntype T24 = InstanceType<Function>; // Error\n')))}m.isMDXComponent=!0},40261:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210110203110476-dcf61595d4941e5ce799e173ec818739.png"},95720:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210110203125700-4eda20be4d79a46cdb302ecad16d02ba.png"},29832:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20210116111017350-56ac3a9d76ee9f77a17fdc8b02044567.png"}}]);